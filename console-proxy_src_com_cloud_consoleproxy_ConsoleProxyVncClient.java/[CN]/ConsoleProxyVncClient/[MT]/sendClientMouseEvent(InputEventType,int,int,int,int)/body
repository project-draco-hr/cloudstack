{
  if (client == null)   return;
  updateFrontEndActivityTime();
  int pointerMask=0;
  int mask=1;
  if (code == 2)   mask=4;
  if (event == InputEventType.MOUSE_DOWN) {
    pointerMask=mask;
    lastPointerMask=pointerMask;
  }
 else   if (event == InputEventType.MOUSE_UP) {
    lastPointerMask=0;
  }
 else   if (event == InputEventType.MOUSE_MOVE) {
    if (lastPointerMask != 0)     pointerMask=lastPointerMask;
  }
  sendModifierEvents(modifiers);
  client.sendClientMouseEvent(pointerMask,x,y,code,modifiers);
  if (pointerMask == 0)   sendModifierEvents(0);
}

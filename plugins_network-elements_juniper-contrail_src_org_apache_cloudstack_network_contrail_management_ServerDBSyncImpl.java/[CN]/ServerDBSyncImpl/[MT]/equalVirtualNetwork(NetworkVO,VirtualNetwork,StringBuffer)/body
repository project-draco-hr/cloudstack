{
  syncLogMesg.append("VN# DB: " + _manager.getCanonicalName(dbn) + "; VNC: "+ vnet.getName()+ "; action: equal\n");
  VirtualNetworkModel current=_manager.getDatabase().lookupVirtualNetwork(vnet.getUuid(),_manager.getCanonicalName(dbn),dbn.getTrafficType());
  VirtualNetworkModel vnModel=new VirtualNetworkModel(dbn,vnet.getUuid(),_manager.getCanonicalName(dbn),dbn.getTrafficType());
  vnModel.build(_manager.getModelController(),dbn);
  if (_rw_mode) {
    if (current != null) {
      FloatingIpPoolModel fipPoolModel=current.getFipPoolModel();
      if (fipPoolModel != null) {
        vnModel.setFipPoolModel(fipPoolModel);
        fipPoolModel.addToVirtualNetwork(vnModel);
      }
      _manager.getDatabase().getVirtualNetworks().remove(current);
    }
    s_logger.debug("add model " + vnModel.getName());
    _manager.getDatabase().getVirtualNetworks().add(vnModel);
    try {
      if (!vnModel.verify(_manager.getModelController())) {
        vnModel.update(_manager.getModelController());
      }
    }
 catch (    Exception ex) {
      s_logger.warn("update virtual-network",ex);
    }
  }
 else {
    if (current != null && current.compare(_manager.getModelController(),vnModel) == false) {
      syncLogMesg.append("VN# DB: " + _manager.getCanonicalName(dbn) + "; VNC: "+ vnet.getName()+ "; attributes differ\n");
      return false;
    }
  }
  return true;
}

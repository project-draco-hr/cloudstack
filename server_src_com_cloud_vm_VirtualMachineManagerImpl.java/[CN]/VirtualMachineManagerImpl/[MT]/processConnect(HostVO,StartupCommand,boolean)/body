{
  if (!(cmd instanceof StartupRoutingCommand)) {
    return;
  }
  if (forRebalance) {
    s_logger.debug("Not processing listener " + this + " as connect happens on rebalance process");
    return;
  }
  if (forRebalance) {
    s_logger.debug("Not processing listener " + this + " as connect happens on rebalance process");
    return;
  }
  long agentId=agent.getId();
  long clusterId=agent.getClusterId();
  if (_syncCommandMap.get(clusterId + "") == null) {
    Commands syncCmd=new Commands(new ClusterSyncCommand(60,20,clusterId));
    try {
      long seq_no=_agentMgr.send(agentId,syncCmd,this);
      _syncCommandMap.put(clusterId + "",syncCmd);
      s_logger.debug("Cluster VM sync started with jobid " + seq_no);
    }
 catch (    AgentUnavailableException e) {
      s_logger.fatal("The Cluster VM sync process failed with ",e);
      _syncCommandMap.remove(clusterId);
    }
  }
}

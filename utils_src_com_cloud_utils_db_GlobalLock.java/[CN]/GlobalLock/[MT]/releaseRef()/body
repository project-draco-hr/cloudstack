{
  boolean releaseInternLock=false;
  int refCount;
synchronized (this) {
    referenceCount--;
    refCount=referenceCount;
    if (referenceCount < 0)     s_logger.warn("Unmatched Global lock " + name + " reference usage detected, check your code!");
    if (referenceCount == 0)     releaseInternLock=true;
  }
  if (releaseInternLock)   releaseInternLock(name);
  return refCount;
}

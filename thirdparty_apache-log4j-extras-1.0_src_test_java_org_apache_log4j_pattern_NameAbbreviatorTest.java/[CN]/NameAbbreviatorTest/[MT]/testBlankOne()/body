{
  NameAbbreviator abbrev=NameAbbreviator.getAbbreviator(" 1 ");
  StringBuffer buf=new StringBuffer("DEBUG - ");
  int fieldStart=buf.length();
  buf.append("org.example.foo.bar");
  abbrev.abbreviate(fieldStart,buf);
  assertEquals("DEBUG - bar",buf.toString());
  buf.setLength(0);
  buf.append("DEBUG - ");
  fieldStart=buf.length();
  buf.append("bar");
  abbrev.abbreviate(fieldStart,buf);
  assertEquals("DEBUG - bar",buf.toString());
  buf.setLength(0);
  buf.append("DEBUG - ");
  fieldStart=buf.length();
  abbrev.abbreviate(fieldStart,buf);
  assertEquals("DEBUG - ",buf.toString());
}

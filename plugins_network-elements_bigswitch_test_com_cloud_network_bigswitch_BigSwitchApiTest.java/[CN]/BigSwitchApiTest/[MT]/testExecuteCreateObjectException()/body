{
  NetworkData network=new NetworkData();
  when(_client.executeMethod((HttpMethod)any())).thenThrow(new HttpException());
  _method=mock(PostMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_INTERNAL_SERVER_ERROR);
  Header header=mock(Header.class);
  when(header.getValue()).thenReturn("text/html");
  when(_method.getResponseHeader("Content-type")).thenReturn(header);
  when(_method.getResponseBodyAsString()).thenReturn("Off to timbuktu, won't be back later.");
  try {
    _api.executeCreateObject(network,"/",Collections.<String,String>emptyMap());
  }
  finally {
    verify(_method,times(1)).releaseConnection();
  }
}

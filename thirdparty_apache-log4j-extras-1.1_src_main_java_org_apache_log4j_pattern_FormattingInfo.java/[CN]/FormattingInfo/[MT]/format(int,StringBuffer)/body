{
  final int rawLength=buffer.length() - fieldStart;
  if (rawLength > maxLength) {
    if (rightTruncate) {
      buffer.setLength(fieldStart + maxLength);
    }
 else {
      buffer.delete(fieldStart,buffer.length() - maxLength);
    }
  }
 else   if (rawLength < minLength) {
    if (leftAlign) {
      final int fieldEnd=buffer.length();
      buffer.setLength(fieldStart + minLength);
      for (int i=fieldEnd; i < buffer.length(); i++) {
        buffer.setCharAt(i,' ');
      }
    }
 else {
      int padLength=minLength - rawLength;
      for (; padLength > 8; padLength-=8) {
        buffer.insert(fieldStart,SPACES);
      }
      buffer.insert(fieldStart,SPACES,0,padLength);
    }
  }
}

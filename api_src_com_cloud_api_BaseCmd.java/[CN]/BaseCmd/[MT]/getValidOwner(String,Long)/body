{
  Account owner=null;
  if (accountName != null) {
    owner=_responseGenerator.findAccountByNameDomain(accountName,domainId);
  }
 else {
    owner=UserContext.current().getCaller();
  }
  if (owner == null) {
    throw new InvalidParameterValueException("Invalid value for owner specified: " + accountName);
  }
  if (owner.getState() == Account.State.Disabled || owner.getState() == Account.State.Locked) {
    throw new PermissionDeniedException("Account disabled.");
  }
  return owner;
}

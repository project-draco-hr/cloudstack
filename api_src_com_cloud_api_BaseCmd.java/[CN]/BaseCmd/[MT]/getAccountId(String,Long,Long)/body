{
  if (accountName != null) {
    if (domainId == null) {
      throw new InvalidParameterValueException("Account must be specified with domainId parameter");
    }
    Account account=_accountService.getActiveAccountByName(accountName,domainId);
    if (account != null) {
      return account.getId();
    }
 else {
      throw new InvalidParameterValueException("Unable to find account by name " + accountName + " in domain id="+ domainId);
    }
  }
  if (projectId != null) {
    Project project=_projectService.getProject(projectId);
    if (project != null) {
      return project.getProjectAccountId();
    }
 else {
      throw new InvalidParameterValueException("Unable to find project by id " + projectId);
    }
  }
  return UserContext.current().getCaller().getId();
}

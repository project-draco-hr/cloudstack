def create_template(self, vm):
    self.debug('CREATE TEMPLATE')
    list_volume = Volume.list(self.apiclient, virtualmachineid=vm.id, type='ROOT', listall=True)
    if isinstance(list_volume, list):
        self.volume = list_volume[0]
    else:
        raise Exception(('Exception: Unable to find root volume for VM: %s' % vm.id))
    self.test_data['template_pr']['ostype'] = self.test_data['ostype_pr']
    self.pw_enabled_template = Template.create(self.apiclient, self.test_data['template_pr'], self.volume.id, account=self.account.name, domainid=self.account.domainid)
    self.assertEqual(self.pw_enabled_template.passwordenabled, True, 'template is not passwordenabled')
    self.cleanup.append(self.pw_enabled_template)

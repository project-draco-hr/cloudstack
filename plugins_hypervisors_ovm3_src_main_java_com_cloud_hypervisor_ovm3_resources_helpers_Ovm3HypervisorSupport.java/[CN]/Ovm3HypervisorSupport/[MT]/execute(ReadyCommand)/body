{
  try {
    Linux host=new Linux(c);
    Pool pool=new Pool(c);
    if (!host.getIsMaster() && config.getAgentInOvm3Cluster()) {
      if (pool.getPoolMasterVip().equalsIgnoreCase(c.getIp())) {
        return new ReadyAnswer(cmd);
      }
 else {
        LOGGER.debug("Master IP changes to " + pool.getPoolMasterVip() + ", it should be "+ c.getIp());
        return new ReadyAnswer(cmd,"I am not the master server");
      }
    }
 else     if (host.getIsMaster()) {
      LOGGER.debug("Master, not clustered " + config.getAgentHostname());
      return new ReadyAnswer(cmd);
    }
 else {
      LOGGER.debug("No master, not clustered " + config.getAgentHostname());
      return new ReadyAnswer(cmd);
    }
  }
 catch (  CloudRuntimeException|Ovm3ResourceException e) {
    LOGGER.debug("XML RPC Exception" + e.getMessage(),e);
    throw new CloudRuntimeException("XML RPC Exception" + e.getMessage(),e);
  }
}

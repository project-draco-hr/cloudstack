{
  VMTemplateVO template=_tmpltDao.findById(cmd.getId());
  if (template == null || template.getRemoved() != null) {
    throw new InvalidParameterValueException("Please specify a valid template.");
  }
  TemplateAdapter adapter=getAdapter(template.getHypervisorType());
  TemplateProfile profile=adapter.prepareDelete(cmd);
  return adapter.delete(profile);
}

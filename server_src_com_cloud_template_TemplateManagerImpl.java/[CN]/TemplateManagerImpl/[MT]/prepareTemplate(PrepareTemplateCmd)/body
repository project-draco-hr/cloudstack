{
  VMTemplateVO vmTemplate=_tmpltDao.findById(cmd.getTemplateId());
  if (vmTemplate == null)   throw new InvalidParameterValueException("Unable to find template " + cmd.getTemplateId());
  prepareTemplateInAllStoragePools(vmTemplate,cmd.getZoneId());
  return vmTemplate;
}

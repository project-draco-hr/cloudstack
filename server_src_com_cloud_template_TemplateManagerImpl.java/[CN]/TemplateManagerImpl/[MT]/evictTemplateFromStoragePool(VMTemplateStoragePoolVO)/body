{
  StoragePoolVO pool=_poolDao.findById(templatePoolVO.getPoolId());
  VMTemplateVO template=_tmpltDao.findByIdIncludingRemoved(templatePoolVO.getTemplateId());
  long hostId;
  List<StoragePoolHostVO> poolHostVOs=_poolHostDao.listByPoolId(pool.getId());
  if (poolHostVOs.isEmpty()) {
    return;
  }
 else {
    hostId=poolHostVOs.get(0).getHostId();
  }
  if (s_logger.isDebugEnabled()) {
    s_logger.debug("Evicting " + templatePoolVO);
  }
  DestroyCommand cmd=new DestroyCommand(pool,templatePoolVO);
  Answer answer=_agentMgr.easySend(hostId,cmd);
  if (answer != null && answer.getResult()) {
    if (_tmpltPoolDao.remove(templatePoolVO.getId())) {
      s_logger.debug("Successfully evicted template: " + template.getName() + " from storage pool: "+ pool.getName());
    }
  }
}

{
  Long isoId=cmd.getId();
  Long userId=UserContext.current().getUserId();
  Long sourceZoneId=cmd.getSourceZoneId();
  Long destZoneId=cmd.getDestinationZoneId();
  Account account=(Account)UserContext.current().getAccountObject();
  VMTemplateVO iso=_tmpltDao.findById(isoId);
  if (iso == null) {
    throw new InvalidParameterValueException("Unable to find ISO with id " + isoId);
  }
  boolean isIso=Storage.ImageFormat.ISO.equals(iso.getFormat());
  if (!isIso) {
    throw new InvalidParameterValueException("Please specify a valid ISO.");
  }
  String errMsg="Unable to copy ISO " + isoId;
  userId=accountAndUserValidation(account,userId,null,iso,errMsg);
  long eventId=EventUtils.saveScheduledEvent(userId,iso.getAccountId(),EventTypes.EVENT_ISO_COPY,"copying iso with Id: " + isoId + " from zone: "+ sourceZoneId+ " to: "+ destZoneId);
  boolean success=copy(userId,isoId,sourceZoneId,destZoneId,eventId);
  VMTemplateVO copiedIso=null;
  if (success)   copiedIso=_tmpltDao.findById(isoId);
  return copiedIso;
}

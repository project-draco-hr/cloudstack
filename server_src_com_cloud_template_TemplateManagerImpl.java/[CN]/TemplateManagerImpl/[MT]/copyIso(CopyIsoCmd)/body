{
  Long isoId=cmd.getId();
  Long userId=UserContext.current().getCallerUserId();
  Long sourceZoneId=cmd.getSourceZoneId();
  Long destZoneId=cmd.getDestinationZoneId();
  Account account=UserContext.current().getCaller();
  VMTemplateVO iso=_tmpltDao.findById(isoId);
  if (iso == null) {
    throw new InvalidParameterValueException("Unable to find ISO with id " + isoId);
  }
  boolean isIso=Storage.ImageFormat.ISO.equals(iso.getFormat());
  if (!isIso) {
    throw new InvalidParameterValueException("Please specify a valid ISO.");
  }
  String errMsg="Unable to copy ISO " + isoId;
  userId=accountAndUserValidation(account,userId,null,iso,errMsg);
  boolean success=copy(userId,isoId,sourceZoneId,destZoneId);
  VMTemplateVO copiedIso=null;
  if (success) {
    copiedIso=_tmpltDao.findById(isoId);
  }
  return copiedIso;
}

{
  TransactionLegacy txn=TransactionLegacy.open("updatePhysicalNetworkTest");
  NetworkServiceImpl networkService=setUp();
  existingRange.add("524");
  when(_physicalNetworkDao.findById(anyLong())).thenReturn(physicalNetworkVO);
  when(_datacenterDao.findById(anyLong())).thenReturn(datacentervo);
  when(_physicalNetworkDao.update(anyLong(),any(physicalNetworkVO.getClass()))).thenReturn(true);
  when(_datacenterVnetDao.listVnetsByPhysicalNetworkAndDataCenter(anyLong(),anyLong())).thenReturn(existingRange);
  networkService.updatePhysicalNetwork(1l,null,null,"524-524,525-530",null);
  txn.close("updatePhysicalNetworkTest");
  verify(physicalNetworkVO).setVnet(argumentCaptor.capture());
  assertEquals("524-530",argumentCaptor.getValue());
}

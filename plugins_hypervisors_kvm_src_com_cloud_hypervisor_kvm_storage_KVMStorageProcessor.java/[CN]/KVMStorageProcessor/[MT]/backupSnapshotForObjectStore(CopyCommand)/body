{
  DataTO srcData=cmd.getSrcTO();
  DataTO destData=cmd.getDestTO();
  SnapshotObjectTO snapshot=(SnapshotObjectTO)srcData;
  DataStoreTO imageStore=destData.getDataStore();
  DataTO cacheData=cmd.getCacheTO();
  if (cacheData == null) {
    return new CopyCmdAnswer("Failed to copy to object store without cache store");
  }
  DataStoreTO cacheStore=cacheData.getDataStore();
  ((SnapshotObjectTO)destData).setDataStore(cacheStore);
  CopyCmdAnswer answer=(CopyCmdAnswer)backupSnapshot(cmd);
  if (!answer.getResult()) {
    return answer;
  }
  SnapshotObjectTO snapshotOnCacheStore=(SnapshotObjectTO)answer.getNewData();
  snapshotOnCacheStore.setDataStore(cacheStore);
  ((SnapshotObjectTO)destData).setDataStore(imageStore);
  CopyCommand newCpyCmd=new CopyCommand(snapshotOnCacheStore,destData,cmd.getWaitInMillSeconds(),cmd.executeInSequence());
  return copyToObjectStore(newCpyCmd);
}

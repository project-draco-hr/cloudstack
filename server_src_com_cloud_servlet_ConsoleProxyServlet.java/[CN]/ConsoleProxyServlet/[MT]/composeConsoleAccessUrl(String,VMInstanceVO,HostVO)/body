{
  StringBuffer sb=new StringBuffer(rootUrl);
  String host=hostVo.getPrivateIpAddress();
  int port=_ms.getVncPort(vm);
  String sid=vm.getVncPassword();
  long tag=vm.getId();
  String ticket=URLEncoder.encode(genAccessTicket(host,String.valueOf(port),sid,String.valueOf(tag)));
  sb.append("/ajax?host=").append(host);
  sb.append("&port=").append(port);
  sb.append("&sid=").append(sid);
  sb.append("&tag=").append(tag);
  sb.append("&ticket=").append(ticket);
  if (s_logger.isInfoEnabled())   s_logger.info("Compose console url: " + sb.toString());
  return sb.toString();
}

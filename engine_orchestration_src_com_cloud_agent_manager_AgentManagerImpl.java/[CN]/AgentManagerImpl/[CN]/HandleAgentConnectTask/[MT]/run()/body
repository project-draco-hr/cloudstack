{
  ServerContexts.registerSystemContext();
  try {
    _request.logD("Processing the first command ");
    StartupCommand[] startups=new StartupCommand[_cmds.length];
    for (int i=0; i < _cmds.length; i++) {
      startups[i]=(StartupCommand)_cmds[i];
    }
    AgentAttache attache=handleConnectedAgent(_link,startups,_request);
    if (attache == null) {
      s_logger.warn("Unable to create attache for agent: " + _request);
    }
  }
  finally {
    ServerContexts.unregisterSystemContext();
  }
}

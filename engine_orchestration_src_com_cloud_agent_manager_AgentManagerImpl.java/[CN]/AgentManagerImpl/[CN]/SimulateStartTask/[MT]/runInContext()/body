{
  try {
    if (logger.isDebugEnabled()) {
      logger.debug("Simulating start for resource " + resource.getName() + " id "+ id);
    }
    if (tapLoadingAgents(id,TapAgentsAction.Add)) {
      try {
        final AgentAttache agentattache=findAttache(id);
        if (agentattache == null) {
          logger.debug("Creating agent for host " + id);
          _resourceMgr.createHostAndAgent(id,resource,details,false,null,false);
          logger.debug("Completed creating agent for host " + id);
        }
 else {
          logger.debug("Agent already created in another thread for host " + id + ", ignore this");
        }
      }
  finally {
        tapLoadingAgents(id,TapAgentsAction.Del);
      }
    }
 else {
      logger.debug("Agent creation already getting processed in another thread for host " + id + ", ignore this");
    }
  }
 catch (  final Exception e) {
    logger.warn("Unable to simulate start on resource " + id + " name "+ resource.getName(),e);
  }
}

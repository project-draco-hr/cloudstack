{
  Long userId=cmd.getId();
  User user=getUser(userId.longValue());
  if (user == null) {
    throw new ServerApiException(BaseCmd.PARAM_ERROR,"unable to find user " + userId);
  }
  Account account=_accountDao.findById(user.getAccountId());
  if ((account != null) && (account.getId() == Account.ACCOUNT_ID_SYSTEM)) {
    throw new ServerApiException(BaseCmd.ACCOUNT_ERROR,"user id : " + userId + " is a system account, delete is not allowed");
  }
  return deleteUserInternal(userId);
}

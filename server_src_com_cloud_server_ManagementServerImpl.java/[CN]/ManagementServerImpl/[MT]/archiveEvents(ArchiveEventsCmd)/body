{
  List<Long> ids=cmd.getIds();
  boolean result=true;
  List<EventVO> events=_eventDao.listToArchiveOrDeleteEvents(ids,cmd.getType(),cmd.getOlderThan(),cmd.getEntityOwnerId());
  ControlledEntity[] sameOwnerEvents=events.toArray(new ControlledEntity[events.size()]);
  _accountMgr.checkAccess(UserContext.current().getCaller(),null,true,sameOwnerEvents);
  if (ids != null && events.size() < ids.size()) {
    result=false;
    return result;
  }
  _eventDao.archiveEvents(events);
  return result;
}

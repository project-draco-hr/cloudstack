{
  SearchCriteria<DomainVO> sc=_domainDao.createSearchCriteria();
  sc.addAnd("name",SearchCriteria.Op.EQ,name);
  sc.addAnd("parent",SearchCriteria.Op.EQ,parentId);
  List<DomainVO> domains=_domainDao.search(sc,null);
  if ((domains == null) || domains.isEmpty()) {
    DomainVO domain=new DomainVO(name,ownerId,parentId);
    try {
      DomainVO dbDomain=_domainDao.create(domain);
      EventUtils.saveEvent(new Long(1),ownerId,EventVO.LEVEL_INFO,EventTypes.EVENT_DOMAIN_CREATE,"Domain, " + name + " created with owner id = "+ ownerId+ " and parentId "+ parentId);
      return dbDomain;
    }
 catch (    IllegalArgumentException ex) {
      EventUtils.saveEvent(new Long(1),ownerId,EventVO.LEVEL_ERROR,EventTypes.EVENT_DOMAIN_CREATE,"Domain, " + name + " was not created with owner id = "+ ownerId+ " and parentId "+ parentId);
      throw ex;
    }
  }
 else {
    EventUtils.saveEvent(new Long(1),ownerId,EventVO.LEVEL_ERROR,EventTypes.EVENT_DOMAIN_CREATE,"Domain, " + name + " was not created with owner id = "+ ownerId+ " and parentId "+ parentId);
  }
  return null;
}

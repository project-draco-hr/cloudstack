{
  PreallocatedLunVO lun=null;
  if ((lun=_lunDao.findById(id)) == null) {
    throw new IllegalArgumentException("Unable to find a LUN with ID " + id);
  }
  if (lun.getTaken() != null) {
    throw new IllegalArgumentException("The LUN is currently in use and cannot be deleted.");
  }
  return _lunDao.delete(id);
}

{
  saveStartedEvent(userId,accountId,EventTypes.EVENT_VOLUME_CREATE,"Creating volume",startEventId);
  DataCenterVO zone=_dcDao.findById(zoneId);
  DiskOfferingVO diskOffering=_diskOfferingDao.findById(diskOfferingId);
  VolumeVO allocatedVolume=_storageMgr.allocVolume(accountId,userId,name,zone,diskOffering,startEventId,size);
  if (allocatedVolume != null)   return allocatedVolume;
 else   throw new InternalErrorException("Failed to create volume.");
}

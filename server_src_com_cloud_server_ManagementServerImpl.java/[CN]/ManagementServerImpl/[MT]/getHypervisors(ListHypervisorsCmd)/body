{
  Long zoneId=cmd.getZoneId();
  if (zoneId == null) {
    String hypers=_configDao.getValue(Config.HypervisorList.key());
    if (hypers == "" || hypers == null) {
      return null;
    }
    return hypers.split(",");
  }
 else {
    int i=0;
    List<ClusterVO> clustersForZone=_clusterDao.listByZoneId(zoneId);
    if (clustersForZone != null && clustersForZone.size() > 0) {
      String[] result=new String[clustersForZone.size()];
      for (      ClusterVO cluster : clustersForZone) {
        result[i++]=cluster.getHypervisorType().toString();
      }
      return result;
    }
  }
  return null;
}

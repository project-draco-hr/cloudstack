{
  Long zoneId=cmd.getZoneId();
  if (zoneId == null) {
    String hypers=_configDao.getValue(Config.HypervisorList.key());
    if (hypers == "" || hypers == null) {
      return null;
    }
    return hypers.split(",");
  }
 else {
    int i=0;
    List<ClusterVO> clustersForZone=_clusterDao.listByZoneId(zoneId);
    if (clustersForZone != null && clustersForZone.size() > 0) {
      Set<String> result=new HashSet<String>();
      for (      ClusterVO cluster : clustersForZone) {
        result.add(cluster.getHypervisorType().toString());
      }
      String[] resultArray=new String[result.size()];
      for (      String entity : result) {
        resultArray[i++]=entity;
      }
      return resultArray;
    }
  }
  return null;
}

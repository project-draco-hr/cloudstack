{
  VolumeVO volume=_volumeDao.findById(volumeId);
  if (volume == null) {
    throw new InvalidParameterValueException("Please specify a valid volume ID.");
  }
  if (!_storageMgr.volumeOnSharedStoragePool(volume)) {
    throw new InvalidParameterValueException("Please specify a volume that has been created on a shared storage pool.");
  }
  if (volume.getInstanceId() != null) {
    throw new InvalidParameterValueException("Please specify a volume that is not attached to any VM.");
  }
  if (volume.getDestroyed()) {
    throw new InvalidParameterValueException("Please specify a volume that is not already destroyed.");
  }
  _storageMgr.destroyVolume(volume);
}

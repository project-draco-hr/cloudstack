{
  try {
    logger.info("Request: " + request);
    logger.info("Key: " + key);
    if (key != null && request != null) {
      final Mac mac=Mac.getInstance("HmacSHA1");
      final SecretKeySpec keySpec=new SecretKeySpec(key.getBytes(),"HmacSHA1");
      mac.init(keySpec);
      mac.update(request.getBytes());
      final byte[] encryptedBytes=mac.doFinal();
      return new String(Base64.encodeBase64(encryptedBytes));
    }
  }
 catch (  final Exception ex) {
    logger.error("unable to sign request",ex);
  }
  return null;
}

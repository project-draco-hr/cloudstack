{
  SearchCriteria<IPAddressVO> sc=_publicIpAddressDao.createSearchCriteria();
  if (accountId != null) {
    sc.addAnd("accountId",SearchCriteria.Op.EQ,accountId);
  }
  if (zoneId != null) {
    sc.addAnd("dataCenterId",SearchCriteria.Op.EQ,zoneId);
  }
  if (vlanDbId != null) {
    sc.addAnd("vlanDbId",SearchCriteria.Op.EQ,vlanDbId);
  }
  if (allocatedOnly) {
    sc.addAnd("allocated",SearchCriteria.Op.NNULL);
  }
  return _publicIpAddressDao.search(sc,null);
}

{
  if ((name == null) && (description == null)) {
    return loadBalancer;
  }
  LoadBalancerVO lbForUpdate=_loadBalancerDao.createForUpdate();
  if (name != null) {
    LoadBalancerVO existingLB=_loadBalancerDao.findByAccountAndName(loadBalancer.getAccountId(),name);
    if ((existingLB != null) && (existingLB.getId().longValue() != loadBalancer.getId().longValue())) {
      throw new InvalidParameterValueException("Unable to update load balancer " + loadBalancer.getName() + " with new name "+ name+ ", the name is already in use.");
    }
    lbForUpdate.setName(name);
  }
  if (description != null) {
    lbForUpdate.setDescription(description);
  }
  _loadBalancerDao.update(loadBalancer.getId(),lbForUpdate);
  return _loadBalancerDao.findById(loadBalancer.getId());
}

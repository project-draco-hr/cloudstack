{
  Account caller=UserContext.current().getCaller();
  String accountName=cmd.getAccountName();
  Long domainId=cmd.getDomainId();
  Long projectId=cmd.getProjectId();
  Account owner=_accountMgr.finalizeOwner(caller,accountName,domainId,projectId);
  SSHKeyPairVO s=_sshKeyPairDao.findByName(owner.getAccountId(),owner.getDomainId(),cmd.getName());
  if (s == null) {
    InvalidParameterValueException ex=new InvalidParameterValueException("A key pair with name '" + cmd.getName() + "' does not exist for account "+ owner.getAccountName()+ " in specified domain id");
    String tablename=AnnotationHelper.getTableName(owner);
    if (tablename != null) {
      ex.addProxyObject(tablename,owner.getDomainId(),"domainId");
    }
 else {
      s_logger.info("\nCould not retrieve table name (annotation) from " + tablename + " VO proxy object\n");
    }
    throw ex;
  }
  return _sshKeyPairDao.deleteByName(caller.getAccountId(),caller.getDomainId(),cmd.getName());
}

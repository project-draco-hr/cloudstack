{
  if (command.getClusterId() == null) {
    throw new InvalidParameterValueException("You should provide a cluster id.");
  }
  final ClusterVO cluster=ApiDBUtils.findClusterById(command.getClusterId());
  if (cluster == null || cluster.getHypervisorType() != HypervisorType.XenServer || cluster.getHypervisorType() != HypervisorType.KVM) {
    throw new InvalidParameterValueException("This operation is not supported for this hypervisor type");
  }
  return updateHostsInCluster(command);
}

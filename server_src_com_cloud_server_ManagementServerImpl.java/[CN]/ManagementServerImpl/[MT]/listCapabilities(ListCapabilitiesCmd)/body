{
  Map<String,Object> capabilities=new HashMap<String,Object>();
  boolean securityGroupsEnabled=false;
  boolean elasticLoadBalancerEnabled=false;
  List<DataCenterVO> dc=_dcDao.listSecurityGroupEnabledZones();
  if (dc != null && !dc.isEmpty()) {
    securityGroupsEnabled=true;
    String elbEnabled=_configDao.getValue(Config.ElasticLoadBalancerEnabled.key());
    elasticLoadBalancerEnabled=elbEnabled == null ? false : Boolean.parseBoolean(elbEnabled);
  }
  String userPublicTemplateEnabled=_configs.get(Config.AllowPublicUserTemplates.key());
  capabilities.put("securityGroupsEnabled",securityGroupsEnabled);
  capabilities.put("userPublicTemplateEnabled",(userPublicTemplateEnabled == null || userPublicTemplateEnabled.equals("false") ? false : true));
  capabilities.put("cloudStackVersion",getVersion());
  capabilities.put("supportELB",elasticLoadBalancerEnabled);
  return capabilities;
}

{
  String certificatePath=cmd.getPath();
  Long certVOId=_certDao.persistCustomCertToDb(certificatePath);
  if (certVOId != null && certVOId != 0) {
    List<HostVO> hosts=_hostDao.listAll();
    List<HostVO> consoleProxyList=new ArrayList<HostVO>();
    for (    HostVO host : hosts) {
      if (host.getType().equals(com.cloud.host.Host.Type.ConsoleProxy)) {
        consoleProxyList.add(host);
      }
    }
    for (    HostVO consoleProxy : consoleProxyList) {
      UpdateCertificateCommand certCmd=new UpdateCertificateCommand(_certDao.findById(certVOId).getCertificate());
      try {
        Answer updateCertAns=_agentMgr.send(consoleProxy.getId(),certCmd);
      }
 catch (      AgentUnavailableException e) {
        s_logger.warn("Unable to send command to the console proxy resource",e);
      }
catch (      OperationTimedoutException e) {
        s_logger.warn("Unable to send command to the console proxy resource",e);
      }
    }
  }
  return false;
}

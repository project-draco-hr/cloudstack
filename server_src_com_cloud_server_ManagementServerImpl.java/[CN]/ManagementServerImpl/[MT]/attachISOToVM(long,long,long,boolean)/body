{
  UserVmVO vm=_userVmDao.findById(vmId);
  VMTemplateVO iso=_templateDao.findById(isoId);
  boolean success=_vmMgr.attachISOToVM(vmId,isoId,attach);
  if (success) {
    if (attach) {
      vm.setIsoId(iso.getId());
    }
 else {
      vm.setIsoId(null);
    }
    _userVmDao.update(vmId,vm);
  }
  return success;
}

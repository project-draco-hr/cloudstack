{
  LoadBalancerVO loadBalancer=_loadBalancerDao.findById(loadBalancerId);
  IPAddressVO ipAddress=_publicIpAddressDao.findById(loadBalancer.getIpAddress());
  DomainRouterVO router=_routerDao.findBy(loadBalancer.getAccountId(),ipAddress.getDataCenterId());
  LoadBalancerParam param=new LoadBalancerParam(userId,router.getId(),loadBalancerId,instanceIds);
  Gson gson=GsonHelper.getBuilder().create();
  AsyncJobVO job=new AsyncJobVO();
  job.setUserId(UserContext.current().getUserId());
  job.setAccountId(loadBalancer.getAccountId());
  job.setCmd("RemoveFromLoadBalancer");
  job.setCmdInfo(gson.toJson(param));
  return _asyncMgr.submitAsyncJob(job,true);
}

{
  if (_useNewNetworking) {
    return startSystemVm(cmd.getId());
  }
  Long id=cmd.getId();
  VMInstanceVO systemVm=_vmInstanceDao.findByIdTypes(id,VirtualMachine.Type.ConsoleProxy,VirtualMachine.Type.SecondaryStorageVm);
  if (systemVm == null) {
    throw new ServerApiException(BaseCmd.PARAM_ERROR,"unable to find a system vm with id " + id);
  }
  if (systemVm.getType().equals(VirtualMachine.Type.ConsoleProxy)) {
    return startConsoleProxy(id);
  }
 else {
    return startSecondaryStorageVm(id);
  }
}

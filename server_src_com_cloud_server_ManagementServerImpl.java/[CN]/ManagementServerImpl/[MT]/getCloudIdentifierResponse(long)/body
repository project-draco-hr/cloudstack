{
  Criteria c=new Criteria();
  c.addCriteria(Criteria.NAME,"cloud.identifier");
  List<ConfigurationVO> configs=searchForConfigurations(c,true);
  String cloudIdentifier;
  if (configs == null || configs.size() != 1) {
    cloudIdentifier="";
  }
 else {
    cloudIdentifier=configs.get(0).getValue();
  }
  String signature="";
  try {
    User user=getUser(userId);
    String secretKey=user.getSecretKey();
    String input=cloudIdentifier;
    signature=signRequest(input,secretKey);
  }
 catch (  Exception e) {
    s_logger.warn("Exception whilst creating a signature:" + e);
  }
  ArrayList<String> cloudParams=new ArrayList<String>();
  cloudParams.add(cloudIdentifier);
  cloudParams.add(signature);
  return cloudParams;
}

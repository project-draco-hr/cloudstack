{
  Integer page=cmd.getPage();
  Integer pageSize=cmd.getPageSize();
  Long startIndex=Long.valueOf(0);
  long pageSizeNum=50;
  if (pageSize != null) {
    pageSizeNum=pageSize.intValue();
  }
  if (page != null) {
    int pageNum=page.intValue();
    if (pageNum > 0) {
      startIndex=pageSizeNum * (pageNum - 1L);
    }
  }
  Filter searchFilter=new Filter(AlertVO.class,"lastSent",false,startIndex,pageSizeNum);
  SearchCriteria<AlertVO> sc=_alertDao.createSearchCriteria();
  Object type=cmd.getType();
  Object keyword=cmd.getKeyword();
  if (keyword != null) {
    SearchCriteria<AlertVO> ssc=_alertDao.createSearchCriteria();
    ssc.addOr("subject",SearchCriteria.Op.LIKE,"%" + keyword + "%");
    sc.addAnd("subject",SearchCriteria.Op.SC,ssc);
  }
  if (type != null) {
    sc.addAnd("type",SearchCriteria.Op.EQ,type);
  }
  return _alertDao.search(sc,searchFilter);
}

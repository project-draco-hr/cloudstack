{
  Filter searchFilter=new Filter(VMTemplateVO.class,c.getOrderBy(),c.getAscending(),c.getOffset(),c.getLimit());
  Boolean ready=(Boolean)c.getCriteria(Criteria.READY);
  Boolean isPublic=(Boolean)c.getCriteria(Criteria.ISPUBLIC);
  Long creator=(Long)c.getCriteria(Criteria.CREATED_BY);
  Object keyword=c.getCriteria(Criteria.KEYWORD);
  SearchCriteria<VMTemplateVO> sc=_templateDao.createSearchCriteria();
  if (keyword != null) {
    SearchCriteria<VMTemplateVO> ssc=_templateDao.createSearchCriteria();
    ssc.addOr("displayText",SearchCriteria.Op.LIKE,"%" + keyword + "%");
    ssc.addOr("name",SearchCriteria.Op.LIKE,"%" + keyword + "%");
    sc.addAnd("name",SearchCriteria.Op.SC,ssc);
  }
  if (creator != null) {
    sc.addAnd("accountId",SearchCriteria.Op.EQ,creator);
  }
  if (ready != null) {
    sc.addAnd("ready",SearchCriteria.Op.EQ,ready);
  }
  if (isPublic != null) {
    sc.addAnd("publicTemplate",SearchCriteria.Op.EQ,isPublic);
  }
  sc.addAnd("format",SearchCriteria.Op.EQ,ImageFormat.ISO);
  return _templateDao.search(sc,searchFilter);
}

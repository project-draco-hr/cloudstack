{
  Snapshot snapshot=findSnapshotById(snapshotId);
  long volumeId=snapshot.getVolumeId();
  List<SnapshotPolicyVO> policies=_snapMgr.listPoliciesforSnapshot(snapshotId);
  long finalJobId=0;
  for (  SnapshotPolicyVO policy : policies) {
    finalJobId=_snapMgr.destroySnapshotAsync(userId,volumeId,snapshotId,policy.getId());
  }
  return finalJobId;
}

{
  VMInstanceVO systemVm=_vmInstanceDao.findByIdTypes(instanceId,VirtualMachine.Type.ConsoleProxy,VirtualMachine.Type.SecondaryStorageVm);
  if (systemVm == null) {
    return null;
  }
  if (systemVm.getType() == VirtualMachine.Type.ConsoleProxy) {
    return _consoleProxyDao.findById(instanceId);
  }
  return _secStorageVmDao.findById(instanceId);
}

{
  try {
    Object[] noArgs=null;
    Object[] elements=(Object[])getStackTraceMethod.invoke(throwable,noArgs);
    ArrayList<String> lines=new ArrayList<String>(elements.length + 1);
    lines.add(throwable.toString());
    Map classMap=new HashMap();
    for (int i=0; i < elements.length; i++) {
      if (!(elements[i] instanceof StackTraceElement) || !((StackTraceElement)elements[i]).getFileName().equals("<generated>")) {
        lines.add(formatElement(elements[i],classMap));
      }
    }
    return lines.toArray(new String[lines.size()]);
  }
 catch (  Exception ex) {
    return null;
  }
}

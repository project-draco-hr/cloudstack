{
  List<? extends VmwareDatacenter> vmwareDcList=null;
  try {
    vmwareDcList=_vmwareDatacenterService.listVmwareDatacenters(this);
  }
 catch (  InvalidParameterValueException ie) {
    throw new InvalidParameterValueException("Invalid zone id " + getZoneId());
  }
catch (  Exception e) {
    throw new ServerApiException(ApiErrorCode.INTERNAL_ERROR,"Failed to find associated VMware DCs associated with zone " + getZoneId());
  }
  ListResponse<VmwareDatacenterResponse> response=new ListResponse<VmwareDatacenterResponse>();
  List<VmwareDatacenterResponse> vmwareDcResponses=new ArrayList<VmwareDatacenterResponse>();
  if (vmwareDcList != null && vmwareDcList.size() > 0) {
    for (    VmwareDatacenter vmwareDc : vmwareDcList) {
      VmwareDatacenterResponse vmwareDcResponse=new VmwareDatacenterResponse();
      vmwareDcResponse.setId(vmwareDc.getUuid());
      vmwareDcResponse.setVcenter(vmwareDc.getVcenterHost());
      vmwareDcResponse.setName(vmwareDc.getVmwareDatacenterName());
      vmwareDcResponse.setZoneId(getZoneId());
      vmwareDcResponse.setObjectName("VMwareDC");
      vmwareDcResponses.add(vmwareDcResponse);
    }
  }
  response.setResponses(vmwareDcResponses);
  response.setResponseName(getCommandName());
  setResponseObject(response);
}

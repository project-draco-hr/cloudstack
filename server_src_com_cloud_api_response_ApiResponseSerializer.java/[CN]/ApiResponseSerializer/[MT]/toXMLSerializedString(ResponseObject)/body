{
  StringBuilder sb=new StringBuilder();
  sb.append("<?xml version=\"1.0\" encoding=\"UTF-8\"?>");
  sb.append("<").append(result.getResponseName()).append(" cloudstack-version=\"").append(ApiDBUtils.getVersion()).append("\">");
  if (result instanceof ListResponse) {
    Integer count=((ListResponse)result).getCount();
    if (count != null && count != 0) {
      sb.append("<").append(ApiConstants.COUNT).append(">").append(((ListResponse)result).getCount()).append("</").append(ApiConstants.COUNT).append(">");
    }
    List<? extends ResponseObject> responses=((ListResponse)result).getResponses();
    if ((responses != null) && !responses.isEmpty()) {
      for (      ResponseObject obj : responses) {
        serializeResponseObjXML(sb,obj);
      }
    }
  }
 else {
    if (result instanceof CreateCmdResponse || result instanceof AsyncJobResponse) {
      serializeResponseObjFieldsXML(sb,result);
    }
 else {
      serializeResponseObjXML(sb,result);
    }
  }
  sb.append("</").append(result.getResponseName()).append(">");
  return sb.toString();
}

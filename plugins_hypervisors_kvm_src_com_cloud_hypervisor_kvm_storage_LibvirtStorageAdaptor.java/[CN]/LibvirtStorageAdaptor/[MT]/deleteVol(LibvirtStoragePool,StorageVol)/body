{
  if ((!pool.getType().equals(StoragePoolType.NetworkFilesystem)) && (!pool.getType().equals(StoragePoolType.Filesystem))) {
    vol.delete(0);
    return;
  }
  String lockFile=pool.getLocalPath() + File.separator + _lockfile;
  s_logger.debug("Attempting to lock pool " + pool.getName() + " with file "+ lockFile);
  if (lock(lockFile,30)) {
    try {
      vol.delete(0);
    }
  finally {
      s_logger.debug("Releasing the lock on pool " + pool.getName() + " with file "+ lockFile);
      unlock(lockFile);
    }
  }
 else {
    throw new CloudRuntimeException("Can not get file lock to delete the volume " + vol.getName());
  }
}

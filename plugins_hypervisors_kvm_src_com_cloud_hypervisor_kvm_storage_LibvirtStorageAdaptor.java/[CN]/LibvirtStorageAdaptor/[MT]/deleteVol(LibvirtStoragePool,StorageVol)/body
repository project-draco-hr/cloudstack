{
  if ((!pool.getType().equals(StoragePoolType.NetworkFilesystem)) && (!pool.getType().equals(StoragePoolType.Filesystem))) {
    vol.delete(0);
    return;
  }
  String lockFile=pool.getLocalPath() + File.separator + _lockfile;
  if (lock(lockFile,30)) {
    vol.delete(0);
    unlock(lockFile);
  }
 else {
    throw new CloudRuntimeException("Can not get file lock to delete the volume" + vol.getPath());
  }
}

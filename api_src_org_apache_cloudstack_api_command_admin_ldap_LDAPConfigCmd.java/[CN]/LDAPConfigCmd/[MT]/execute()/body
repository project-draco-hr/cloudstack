{
  try {
    if ("true".equalsIgnoreCase(getListAll())) {
      LDAPConfigCmd cmd=_configService.listLDAPConfig(this);
      LDAPConfigResponse lr=_responseGenerator.createLDAPConfigResponse(cmd.getHostname(),cmd.getPort(),cmd.getUseSSL(),cmd.getQueryFilter(),cmd.getSearchBase(),cmd.getBindDN());
      lr.setResponseName(getCommandName());
      this.setResponseObject(lr);
    }
 else     if (getHostname() == null || getSearchBase() == null || getQueryFilter() == null) {
      throw new InvalidParameterValueException("You need to provide hostname, serachbase and queryfilter to configure your LDAP server");
    }
 else {
      boolean result=_configService.updateLDAP(this);
      if (result) {
        LDAPConfigResponse lr=_responseGenerator.createLDAPConfigResponse(getHostname(),getPort(),getUseSSL(),getQueryFilter(),getSearchBase(),getBindDN());
        lr.setResponseName(getCommandName());
        this.setResponseObject(lr);
      }
    }
  }
 catch (  NamingException ne) {
    ne.printStackTrace();
  }
}

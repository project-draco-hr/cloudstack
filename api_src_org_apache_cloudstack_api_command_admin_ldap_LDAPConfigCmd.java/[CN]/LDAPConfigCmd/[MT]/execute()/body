{
  try {
    if (getListAll()) {
      LDAPConfigCmd cmd=_configService.listLDAPConfig(this);
      ListResponse<LDAPConfigResponse> response=new ListResponse<LDAPConfigResponse>();
      List<LDAPConfigResponse> responses=new ArrayList<LDAPConfigResponse>();
      if (!cmd.getHostname().equals("")) {
        responses.add(_responseGenerator.createLDAPConfigResponse(cmd.getHostname(),cmd.getPort(),cmd.getUseSSL(),cmd.getQueryFilter(),cmd.getSearchBase(),cmd.getBindDN()));
      }
      response.setResponses(responses);
      response.setResponseName(getCommandName());
      this.setResponseObject(response);
    }
 else     if (getHostname() == null || getSearchBase() == null || getQueryFilter() == null) {
      throw new InvalidParameterValueException("You need to provide hostname, searchbase and queryfilter to configure your LDAP server");
    }
 else {
      boolean result=_configService.updateLDAP(this);
      if (result) {
        LDAPConfigResponse lr=_responseGenerator.createLDAPConfigResponse(getHostname(),getPort(),getUseSSL(),getQueryFilter(),getSearchBase(),getBindDN());
        lr.setResponseName(getCommandName());
        this.setResponseObject(lr);
      }
    }
  }
 catch (  NamingException ne) {
    ne.printStackTrace();
  }
}

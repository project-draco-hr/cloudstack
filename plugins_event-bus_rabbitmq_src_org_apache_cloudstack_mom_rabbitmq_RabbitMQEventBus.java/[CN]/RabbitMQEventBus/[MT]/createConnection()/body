{
  try {
    ConnectionFactory factory=new ConnectionFactory();
    factory.setUsername(_username);
    factory.setPassword(_password);
    factory.setVirtualHost("/");
    factory.setHost(_amqpHost);
    factory.setPort(_port);
    Connection connection=factory.newConnection();
    connection.addShutdownListener(disconnectHandler);
    _connection=connection;
    return _connection;
  }
 catch (  Exception e) {
    throw e;
  }
}

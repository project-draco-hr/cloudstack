{
  SearchBuilder<SMetaVO> SearchByTarget=createSearchBuilder();
  SearchByTarget.and("Target",SearchByTarget.entity().getTarget(),SearchCriteria.Op.EQ);
  SearchByTarget.and("TargetID",SearchByTarget.entity().getTargetId(),SearchCriteria.Op.EQ);
  Transaction txn=Transaction.open(Transaction.AWSAPI_DB);
  try {
    txn.start();
    SearchCriteria<SMetaVO> sc=SearchByTarget.create();
    sc.setParameters("Target",target);
    sc.setParameters("TargetID",targetId);
    this.remove(sc);
    if (entries != null) {
      for (      S3MetaDataEntry entry : entries)       save(target,targetId,entry);
    }
    txn.commit();
  }
  finally {
    txn.close();
  }
}

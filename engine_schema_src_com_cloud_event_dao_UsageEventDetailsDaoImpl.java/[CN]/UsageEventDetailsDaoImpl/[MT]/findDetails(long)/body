{
  Connection conn=null;
  PreparedStatement pstmt=null;
  ResultSet resultSet=null;
  Map<String,String> details=new HashMap<String,String>();
  try {
    conn=TransactionLegacy.getStandaloneConnection();
    pstmt=conn.prepareStatement(EVENT_DETAILS_QUERY);
    pstmt.setLong(1,eventId);
    resultSet=pstmt.executeQuery();
    while (resultSet.next()) {
      details.put(resultSet.getString(3),resultSet.getString(4));
    }
  }
 catch (  SQLException e) {
    throw new CloudRuntimeException("Error while executing SQL prepared statement",e);
  }
catch (  Throwable e) {
    throw new CloudRuntimeException("Caught: " + e);
  }
 finally {
    if (pstmt != null) {
      try {
        pstmt.close();
      }
 catch (      SQLException e) {
      }
    }
    if (conn != null) {
      try {
        conn.close();
      }
 catch (      SQLException e) {
      }
    }
  }
  return details;
}

{
  DataTO srcData=cmd.getSrcTO();
  DataTO destData=cmd.getDestTO();
  DataStoreTO srcDataStore=srcData.getDataStore();
  DataStoreTO destDataStore=destData.getDataStore();
  if (srcData.getObjectType() == DataObjectType.TEMPLATE && (srcDataStore instanceof NfsTO) && destData.getDataStore().getRole() == DataStoreRole.Primary) {
    return copyTemplateToPrimaryStorage(srcData,destData,cmd.getWait());
  }
 else   if (srcData.getObjectType() == DataObjectType.TEMPLATE && srcDataStore.getRole() == DataStoreRole.Primary && destDataStore.getRole() == DataStoreRole.Primary) {
    return cloneVolumeFromBaseTemplate(srcData,destData);
  }
 else   if (srcData.getObjectType() == DataObjectType.VOLUME && srcData.getDataStore().getRole() == DataStoreRole.ImageCache) {
    return copyVolumeFromImageCacheToPrimary(srcData,destData,cmd.getWait());
  }
 else   if (srcData.getObjectType() == DataObjectType.VOLUME && srcData.getDataStore().getRole() == DataStoreRole.Primary) {
    return copyVolumeFromPrimaryToSecondary(srcData,destData,cmd.getWait());
  }
 else   if (srcData.getObjectType() == DataObjectType.SNAPSHOT && srcData.getDataStore().getRole() == DataStoreRole.Primary) {
    DataTO cacheData=cmd.getCacheTO();
    return backupSnasphot(srcData,destData,cacheData,cmd.getWait());
  }
  return new Answer(cmd,false,"not implemented yet");
}

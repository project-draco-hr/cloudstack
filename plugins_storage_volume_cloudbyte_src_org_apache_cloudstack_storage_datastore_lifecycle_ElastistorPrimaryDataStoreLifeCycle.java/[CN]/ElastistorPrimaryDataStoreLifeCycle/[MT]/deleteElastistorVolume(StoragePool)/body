{
  String poolip=pool.getHostAddress();
  String esip=null;
  String apikey=null;
  if (ElastistorUtil.s_esIPVAL == "" && ElastistorUtil.s_esAPIKEYVAL == "") {
    Map<String,String> detailsMap=_storagePoolDetailsDao.listDetailsKeyPairs(pool.getId());
    ElastistorUtil.setElastistorManagementIp(detailsMap.get("esmanagementip"));
    esip=ElastistorUtil.s_esIPVAL;
    ElastistorUtil.setElastistorApiKey(detailsMap.get("esapikey"));
    apikey=ElastistorUtil.s_esAPIKEYVAL;
  }
 else {
    esip=ElastistorUtil.s_esIPVAL;
    apikey=ElastistorUtil.s_esAPIKEYVAL;
  }
  boolean status;
  try {
    status=ElastistorUtil.deleteElastistorVolume(poolip,esip,apikey);
  }
 catch (  Throwable e) {
    throw new CloudRuntimeException("Failed to delete primary storage on elastistor" + e);
  }
  if (status == true) {
    s_logger.info("deletion of elastistor primary storage complete");
  }
 else {
    s_logger.error("deletion of elastistor volume failed");
  }
}

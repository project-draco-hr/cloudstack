{
  s_logger.info("creation of elastistor volume started");
  try {
    CreateTsmCmdResponse tsmCmdResponse=ElastistorUtil.createElastistorTsm(storagePoolName,storageIp,capacityBytes,capacityIops);
    String uuid=tsmCmdResponse.getTsm().getUuid();
    parameters.setUuid(uuid);
    CreateVolumeCmdResponse volumeCmdResponse=ElastistorUtil.createElastistorVolume(storagePoolName,tsmCmdResponse,capacityBytes,capacityIops,protocoltype,mountpoint);
    if (protocoltype.contentEquals("iscsi")) {
      String accesspath="/" + volumeCmdResponse.getFileSystem().getIqn() + "/0";
      parameters.setPath(accesspath);
    }
    s_logger.info("creation of elastistor volume complete");
    return parameters;
  }
 catch (  Throwable e) {
    throw new CloudRuntimeException("Failed to create volume in elastistor" + e.toString());
  }
}

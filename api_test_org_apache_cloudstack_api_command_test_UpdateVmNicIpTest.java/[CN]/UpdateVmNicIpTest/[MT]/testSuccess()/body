{
  UserVmService userVmService=Mockito.mock(UserVmService.class);
  updateVmNicIpCmd=Mockito.mock(UpdateVmNicIpCmd.class);
  UserVm userVm=Mockito.mock(UserVm.class);
  Mockito.when(userVmService.updateNicIpForVirtualMachine(Mockito.any(UpdateVmNicIpCmd.class))).thenReturn(userVm);
  updateVmNicIpCmd._userVmService=userVmService;
  responseGenerator=Mockito.mock(ResponseGenerator.class);
  List<UserVmResponse> list=new LinkedList<UserVmResponse>();
  UserVmResponse userVmResponse=Mockito.mock(UserVmResponse.class);
  list.add(userVmResponse);
  Mockito.when(responseGenerator.createUserVmResponse(ResponseView.Restricted,"virtualmachine",userVm)).thenReturn(list);
  updateVmNicIpCmd._responseGenerator=responseGenerator;
  updateVmNicIpCmd.execute();
}

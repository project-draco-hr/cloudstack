{
  FirewallRuleVO fwRule=(FirewallRuleVO)getResponseObject();
  if (fwRule != null) {
    FirewallRuleResponse fwResponse=new FirewallRuleResponse();
    fwResponse.setId(fwRule.getId());
    fwResponse.setPrivatePort(fwRule.getPrivatePort());
    fwResponse.setProtocol(fwRule.getProtocol());
    fwResponse.setPublicPort(fwRule.getPublicPort());
    UserVm vm=ApiDBUtils.findUserVmById(virtualMachineId);
    fwResponse.setVirtualMachineId(vm.getId());
    fwResponse.setVirtualMachineName(vm.getName());
    fwResponse.setResponseName(getName());
    return fwResponse;
  }
  throw new ServerApiException(NET_CREATE_IPFW_RULE_ERROR,"An existing rule for ipAddress / port / protocol of " + ipAddress + " / "+ publicPort+ " / "+ protocol+ " exits.");
}

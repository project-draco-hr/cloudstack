{
  try {
    final Mac hmacSha1=Mac.getInstance(HMAC_SHA_1);
    hmacSha1.init(new SecretKeySpec(secretKey.getBytes(),HMAC_SHA_1));
    final byte[] rawHmac=hmacSha1.doFinal(signIt.getBytes());
    return new String(Base64.encodeBase64(rawHmac)).trim();
  }
 catch (  final Exception e) {
    throw new SignatureException("Failed to generate keyed HMAC on soap request: " + e.getMessage());
  }
}

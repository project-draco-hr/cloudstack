{
  super.onStart();
  ByteBuffer negoToken=generateNegotiateMessage();
  ntlmState.negotiateMessage=negoToken.toByteArray();
  ByteBuffer buf=new ByteBuffer(1024,true);
  TSRequest tsRequest=new TSRequest("TSRequest");
  tsRequest.version.value=2L;
  NegoItem negoItem=new NegoItem("NegoItem");
  negoItem.negoToken.value=negoToken;
  tsRequest.negoTokens.tags=new Tag[]{negoItem};
  tsRequest.writeTag(buf);
  buf.trimAtCursor();
  pushDataToOTOut(buf);
  switchOff();
}

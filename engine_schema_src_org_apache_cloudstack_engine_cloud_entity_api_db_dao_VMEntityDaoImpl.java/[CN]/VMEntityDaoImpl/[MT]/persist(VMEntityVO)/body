{
  Transaction txn=Transaction.currentTxn();
  txn.start();
  VMEntityVO dbVO=super.persist(vm);
  saveVmNetworks(vm);
  loadVmNetworks(dbVO);
  saveVmReservation(vm);
  loadVmReservation(dbVO);
  saveComputeTags(vm.getId(),vm.getComputeTags());
  loadComputeTags(dbVO);
  saveRootDiskTags(vm.getId(),vm.getRootDiskTags());
  loadRootDiskTags(dbVO);
  txn.commit();
  return dbVO;
}

{
  int end=buf.length() - 1;
  String bufString=buf.toString();
  for (int i=count; i > 0; i--) {
    end=bufString.lastIndexOf(".",end - 1);
    if ((end == -1) || (end < nameStart)) {
      return;
    }
  }
  buf.delete(nameStart,end + 1);
}

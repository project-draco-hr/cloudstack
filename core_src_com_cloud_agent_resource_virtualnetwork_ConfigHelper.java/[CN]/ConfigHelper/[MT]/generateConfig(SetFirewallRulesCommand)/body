{
  List<FirewallRule> rules=new ArrayList<FirewallRule>();
  for (  FirewallRuleTO rule : cmd.getRules()) {
    FirewallRule fwRule=new FirewallRule(rule.getId(),rule.getSrcVlanTag(),rule.getSrcIp(),rule.getProtocol(),rule.getSrcPortRange(),rule.revoked(),rule.isAlreadyAdded(),rule.getSourceCidrList(),rule.getPurpose().toString(),rule.getIcmpType(),rule.getIcmpCode(),rule.getTrafficType().toString(),rule.getGuestCidr(),rule.isDefaultEgressPolicy());
    rules.add(fwRule);
  }
  FirewallRules ruleSet=new FirewallRules(rules.toArray(new FirewallRule[rules.size()]));
  return generateConfigItems(ruleSet);
}

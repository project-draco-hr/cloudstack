{
  final NicTO nic=cmd.getNic();
  final String routerGIP=cmd.getAccessDetail(NetworkElementCommand.ROUTER_GUEST_IP);
  final String gateway=cmd.getAccessDetail(NetworkElementCommand.GUEST_NETWORK_GATEWAY);
  final String cidr=Long.toString(NetUtils.getCidrSize(nic.getNetmask()));
  final String netmask=nic.getNetmask();
  final String domainName=cmd.getNetworkDomain();
  String dns=cmd.getDefaultDns1();
  if (dns == null || dns.isEmpty()) {
    dns=cmd.getDefaultDns2();
  }
 else {
    final String dns2=cmd.getDefaultDns2();
    if (dns2 != null && !dns2.isEmpty()) {
      dns+="," + dns2;
    }
  }
  final GuestNetwork guestNetwork=new GuestNetwork(cmd.isAdd(),nic.getMac(),"eth" + nic.getDeviceId(),routerGIP,netmask,gateway,cidr,dns,domainName);
  return generateConfigItems(guestNetwork);
}

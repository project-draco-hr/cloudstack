{
  String cookie=_vimClient.getServiceCookie();
  if (cookie == null) {
    s_logger.error("No cookie is found in vmware web service request context!");
    throw new Exception("No cookie is found in vmware web service request context!");
  }
  URL url=new URL(urlString);
  HttpURLConnection conn=(HttpURLConnection)url.openConnection();
  conn.setDoInput(true);
  conn.setDoOutput(true);
  conn.setAllowUserInteraction(true);
  conn.addRequestProperty("Cookie",cookie);
  conn.setRequestMethod(httpMethod);
  connectWithRetry(conn);
  return conn;
}

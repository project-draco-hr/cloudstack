{
  boolean success=true;
  Long vpcId=network.getVpcId();
  if (vpcId == null) {
    s_logger.debug("Network " + network + " doesn't belong to any vpc, so skipping plug nic part");
    return success;
  }
  List<? extends VirtualRouter> routers=_routerDao.listRoutersByVpcId(vpcId);
  for (  VirtualRouter router : routers) {
    if (_ntwkService.isVmPartOfNetwork(router.getId(),network.getId())) {
      s_logger.debug("Router " + router + " is already part of the network "+ network);
      continue;
    }
    success=success && _ntwkService.addVmToNetwork(router,network);
  }
  if (!success) {
    s_logger.warn("Failed to plug nic in network " + network + " for virtual router in vpc id="+ vpcId);
  }
 else {
    s_logger.debug("Successfully plugged nic in network " + network + " for virtual router in vpc id="+ vpcId);
  }
  return success;
}

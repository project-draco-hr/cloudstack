{
  List<Pair<NetworkVO,NicProfile>> networks=new ArrayList<Pair<NetworkVO,NicProfile>>(4);
  networks=super.createRouterNetworks(owner,isRedundant,plan,null,publicNetwork);
  VpcGateway privateGateway=_vpcMgr.getPrivateGatewayForVpc(vpcId);
  if (privateGateway != null) {
    NicProfile privateNic=createPrivateNicProfileForGateway(privateGateway);
    Network privateNetwork=_networkMgr.getNetwork(privateGateway.getNetworkId());
    networks.add(new Pair<NetworkVO,NicProfile>((NetworkVO)privateNetwork,privateNic));
  }
  List<? extends Network> guestNetworks=_vpcMgr.getVpcNetworks(vpcId);
  for (  Network guestNetwork : guestNetworks) {
    if (guestNetwork.getState() == Network.State.Implemented) {
      NicProfile guestNic=createGuestNicProfileForVpcRouter(guestNetwork);
      networks.add(new Pair<NetworkVO,NicProfile>((NetworkVO)guestNetwork,guestNic));
    }
  }
  return networks;
}

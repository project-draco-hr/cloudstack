{
  boolean result=true;
  SetupGuestNetworkCommand setupCmd=createSetupGuestNetworkCommand(router,add,guestNic);
  Commands cmds=new Commands(OnError.Stop);
  cmds.addCommand("setupguestnetwork",setupCmd);
  sendCommandsToRouter(router,cmds);
  SetupGuestNetworkAnswer setupAnswer=cmds.getAnswer(SetupGuestNetworkAnswer.class);
  String setup=add ? "set" : "destroy";
  if (!(setupAnswer != null && setupAnswer.getResult())) {
    s_logger.warn("Unable to " + setup + " guest network on router "+ router);
    result=false;
  }
  return result;
}

{
  boolean dnsProvided=_networkMgr.isProviderSupportServiceInNetwork(network.getId(),Service.Dns,Provider.VPCVirtualRouter);
  boolean dhcpProvided=_networkMgr.isProviderSupportServiceInNetwork(network.getId(),Service.Dhcp,Provider.VPCVirtualRouter);
  boolean setupDns=dnsProvided || dhcpProvided;
  return super.addRouterToGuestNetwork(router,network,isRedundant,setupDns);
}

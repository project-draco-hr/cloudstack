{
  if (staticRoutes == null || staticRoutes.isEmpty()) {
    s_logger.debug("No static routes to apply");
    return true;
  }
  Iterator<StaticRouteProfile> it=staticRoutes.iterator();
  while (it.hasNext()) {
    StaticRouteProfile profile=it.next();
    if (profile.getState() == StaticRoute.State.Revoke) {
      s_logger.debug("Not sending static route " + profile + " because its in "+ StaticRoute.State.Revoke+ " state");
      it.remove();
    }
  }
  boolean result=true;
  for (  VirtualRouter router : routers) {
    if (router.getState() == State.Running) {
      result=result && sendStaticRoutes(staticRoutes,routers.get(0));
    }
 else     if (router.getState() == State.Stopped || router.getState() == State.Stopping) {
      s_logger.debug("Router " + router.getInstanceName() + " is in "+ router.getState()+ ", so not sending StaticRoute command to the backend");
    }
 else {
      s_logger.warn("Unable to apply StaticRoute, virtual router is not in the right state " + router.getState());
      throw new ResourceUnavailableException("Unable to apply StaticRoute on the backend," + " virtual router is not in the right state",DataCenter.class,router.getDataCenterIdToDeployIn());
    }
  }
  return result;
}

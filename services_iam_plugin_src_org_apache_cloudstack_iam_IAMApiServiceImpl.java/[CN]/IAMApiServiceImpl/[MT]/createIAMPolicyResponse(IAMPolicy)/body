{
  IAMPolicyResponse response=new IAMPolicyResponse();
  response.setId(policy.getUuid());
  response.setName(policy.getName());
  response.setDescription(policy.getDescription());
  String domainPath=policy.getPath();
  if (domainPath != null) {
    DomainVO domain=_domainDao.findDomainByPath(domainPath);
    if (domain != null) {
      response.setDomainId(domain.getUuid());
      response.setDomainName(domain.getName());
    }
  }
  long accountId=policy.getAccountId();
  AccountVO owner=_accountDao.findById(accountId);
  if (owner != null) {
    response.setAccountName(owner.getAccountName());
  }
  List<IAMPolicyPermission> permissions=_iamSrv.listPolicyPermissions(policy.getId());
  if (permissions != null && permissions.size() > 0) {
    for (    IAMPolicyPermission permission : permissions) {
      IAMPermissionResponse perm=new IAMPermissionResponse();
      perm.setAction(permission.getAction());
      if (permission.getEntityType() != null) {
        perm.setEntityType(IAMEntityType.valueOf(permission.getEntityType()));
      }
      if (permission.getScope() != null) {
        perm.setScope(PermissionScope.valueOf(permission.getScope()));
      }
      perm.setScopeId(permission.getScopeId());
      perm.setPermission(permission.getPermission());
      response.addPermission(perm);
    }
  }
  response.setObjectName("aclpolicy");
  return response;
}

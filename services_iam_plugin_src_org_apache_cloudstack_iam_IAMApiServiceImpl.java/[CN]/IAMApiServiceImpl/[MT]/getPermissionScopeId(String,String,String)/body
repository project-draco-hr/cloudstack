{
  if (scopeId.equals("-1")) {
    return -1L;
  }
  PermissionScope permScope=PermissionScope.valueOf(scope);
  InternalIdentity entity=null;
switch (permScope) {
case DOMAIN:
    entity=_domainDao.findByUuid(scopeId);
  break;
case ACCOUNT:
entity=_accountDao.findByUuid(scopeId);
break;
case RESOURCE:
Class<?> clazz=s_typeMap.get(entityType);
entity=(InternalIdentity)_entityMgr.findByUuid(clazz,scopeId);
}
if (entity != null) {
return entity.getId();
}
throw new InvalidParameterValueException("Unable to find scopeId " + scopeId + " with scope "+ scope+ " and type "+ entityType);
}

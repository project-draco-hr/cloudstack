{
  IAMEntityType entityType=(IAMEntityType)params.get(ApiConstants.ENTITY_TYPE);
  Long entityId=(Long)params.get(ApiConstants.ENTITY_ID);
  Long domainId=(Long)params.get(ApiConstants.DOMAIN_ID);
  Boolean isRecursive=(Boolean)params.get(ApiConstants.SUBDOMAIN_ACCESS);
  if (entityType == IAMEntityType.Network) {
    createPolicyAndAddToDomainGroup("DomainWideNetwork-" + entityId,"domain wide network",entityType.toString(),entityId,"listNetworks",AccessType.UseEntry,domainId,isRecursive);
  }
 else   if (entityType == IAMEntityType.AffinityGroup) {
    createPolicyAndAddToDomainGroup("DomainWideNetwork-" + entityId,"domain wide affinityGroup",entityType.toString(),entityId,"listAffinityGroups",AccessType.UseEntry,domainId,isRecursive);
  }
}

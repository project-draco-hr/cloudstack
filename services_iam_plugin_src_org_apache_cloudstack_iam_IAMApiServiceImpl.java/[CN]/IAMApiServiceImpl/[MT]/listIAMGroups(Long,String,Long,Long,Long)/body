{
  Account caller=CallContext.current().getCallingAccount();
  Domain domain=null;
  if (domainId != null) {
    domain=_domainDao.findById(domainId);
    if (domain == null) {
      throw new InvalidParameterValueException("Domain id=" + domainId + " doesn't exist");
    }
    _accountMgr.checkAccess(caller,domain);
  }
 else {
    domain=_domainDao.findById(caller.getDomainId());
  }
  String domainPath=domain.getPath();
  Pair<List<IAMGroup>,Integer> result=_iamSrv.listAclGroups(iamGroupId,iamGroupName,domainPath,startIndex,pageSize);
  ListResponse<IAMGroupResponse> response=new ListResponse<IAMGroupResponse>();
  List<IAMGroupResponse> groupResponses=new ArrayList<IAMGroupResponse>();
  for (  IAMGroup group : result.first()) {
    IAMGroupResponse resp=createIAMGroupResponse(group);
    groupResponses.add(resp);
  }
  response.setResponses(groupResponses,result.second());
  return response;
}

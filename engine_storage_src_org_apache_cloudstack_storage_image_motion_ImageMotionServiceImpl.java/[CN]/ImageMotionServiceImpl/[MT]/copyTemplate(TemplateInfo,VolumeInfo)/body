{
  ImageMotionStrategy ims=null;
  for (  ImageMotionStrategy strategy : motionStrategies) {
    if (strategy.canHandle(template,volume)) {
      ims=strategy;
      break;
    }
  }
  if (ims == null) {
    throw new CloudRuntimeException("Can't find proper image motion strategy");
  }
  EndPoint ep=ims.getEndPoint(template,volume);
  volumeService.grantAccess(volume,ep);
  imageService.grantTemplateAccess(template,ep);
  return ims.copyTemplate(template,volume,ep);
}

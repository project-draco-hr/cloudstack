{
  ImageMotionStrategy ims=null;
  for (  ImageMotionStrategy strategy : motionStrategies) {
    if (strategy.canHandle(templateStore)) {
      ims=strategy;
      break;
    }
  }
  if (ims == null) {
    throw new CloudRuntimeException("Can't find proper image motion strategy");
  }
  EndPoint ep=ims.getEndPoint(templateStore);
  volumeService.grantAccess(templateStore,ep);
  TemplateInfo template=templateStore.getTemplate();
  imageService.grantTemplateAccess(template,ep);
  return ims.copyTemplate(templateStore,ep);
}

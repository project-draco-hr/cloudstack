{
  RouterDeploymentDefinition routerDeploymentDefinition=null;
  if (vpc != null) {
    routerDeploymentDefinition=new VpcRouterDeploymentDefinition(vpc,dest,owner,params,isRedundant);
  }
 else {
    routerDeploymentDefinition=new RouterDeploymentDefinition(guestNetwork,dest,owner,params,isRedundant);
  }
  return builder.injectDependencies(routerDeploymentDefinition);
}

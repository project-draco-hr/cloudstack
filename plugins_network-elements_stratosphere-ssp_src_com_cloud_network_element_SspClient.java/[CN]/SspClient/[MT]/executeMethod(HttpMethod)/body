{
  String apiCallPath=null;
  try {
    apiCallPath=method.getName() + " " + method.getURI().toString();
  }
 catch (  URIException e) {
    s_logger.error("method getURI failed",e);
  }
  String response=null;
  try {
    client.executeMethod(method);
    response=method.getResponseBodyAsString();
  }
 catch (  HttpException e) {
    s_logger.error("ssp api call failed " + apiCallPath,e);
    return null;
  }
catch (  IOException e) {
    s_logger.error("ssp api call failed " + apiCallPath,e);
    return null;
  }
 finally {
    method.releaseConnection();
  }
  if (method.getStatusCode() == HttpStatus.SC_UNAUTHORIZED) {
    if (!login()) {
      return null;
    }
    try {
      client.executeMethod(method);
      response=method.getResponseBodyAsString();
    }
 catch (    HttpException e) {
      s_logger.error("ssp api call failed " + apiCallPath,e);
      return null;
    }
catch (    IOException e) {
      s_logger.error("ssp api call failed " + apiCallPath,e);
      return null;
    }
 finally {
      method.releaseConnection();
    }
  }
  s_logger.info("ssp api call:" + apiCallPath + " user="+ username+ " status="+ method.getStatusLine());
  if (method instanceof EntityEnclosingMethod) {
    EntityEnclosingMethod emethod=(EntityEnclosingMethod)method;
    RequestEntity reqEntity=emethod.getRequestEntity();
    if (reqEntity instanceof StringRequestEntity) {
      StringRequestEntity strReqEntity=(StringRequestEntity)reqEntity;
      s_logger.debug("ssp api request body:" + strReqEntity.getContent());
    }
 else {
      s_logger.debug("ssp api request body:" + emethod.getRequestEntity());
    }
  }
  s_logger.debug("ssp api response body:" + response);
  return response;
}

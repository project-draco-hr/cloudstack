{
  ByteArrayOutputStream byteOut=new ByteArrayOutputStream(65535);
  byte[] array=new byte[buffer.capacity()];
  buffer.get(array);
  try {
    GZIPOutputStream out=new GZIPOutputStream(byteOut,65535);
    out.write(array);
    out.finish();
    out.close();
  }
 catch (  IOException e) {
    s_logger.error("Fail to compress the request!",e);
  }
  return ByteBuffer.wrap(byteOut.toByteArray());
}

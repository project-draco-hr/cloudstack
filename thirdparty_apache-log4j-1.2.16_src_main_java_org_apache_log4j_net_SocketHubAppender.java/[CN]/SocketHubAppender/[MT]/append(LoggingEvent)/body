{
  if (event != null) {
    if (locationInfo) {
      event.getLocationInformation();
    }
    if (application != null) {
      event.setProperty("application",application);
    }
    event.getNDC();
    event.getThreadName();
    event.getMDCCopy();
    event.getRenderedMessage();
    event.getThrowableStrRep();
    if (buffer != null) {
      buffer.add(event);
    }
  }
  if ((event == null) || (oosList.size() == 0)) {
    return;
  }
  for (int streamCount=0; streamCount < oosList.size(); streamCount++) {
    ObjectOutputStream oos=null;
    try {
      oos=(ObjectOutputStream)oosList.elementAt(streamCount);
    }
 catch (    ArrayIndexOutOfBoundsException e) {
    }
    if (oos == null)     break;
    try {
      oos.writeObject(event);
      oos.flush();
      oos.reset();
    }
 catch (    IOException e) {
      if (e instanceof InterruptedIOException) {
        Thread.currentThread().interrupt();
      }
      oosList.removeElementAt(streamCount);
      LogLog.debug("dropped connection");
      streamCount--;
    }
  }
}

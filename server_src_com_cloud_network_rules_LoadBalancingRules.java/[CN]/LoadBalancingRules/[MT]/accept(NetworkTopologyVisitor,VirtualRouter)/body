{
  _router=router;
  final List<LoadBalancerVO> lbs=_loadBalancerDao.listByNetworkIdAndScheme(_network.getId(),Scheme.Public);
  _rules.clear();
  for (  final LoadBalancerVO lb : lbs) {
    final List<LbDestination> dstList=_lbMgr.getExistingDestinations(lb.getId());
    final List<LbStickinessPolicy> policyList=_lbMgr.getStickinessPolicies(lb.getId());
    final List<LbHealthCheckPolicy> hcPolicyList=_lbMgr.getHealthCheckPolicies(lb.getId());
    final LbSslCert sslCert=_lbMgr.getLbSslCert(lb.getId());
    final Ip sourceIp=_networkModel.getPublicIpAddress(lb.getSourceIpAddressId()).getAddress();
    final LoadBalancingRule loadBalancing=new LoadBalancingRule(lb,dstList,policyList,hcPolicyList,sourceIp,sslCert,lb.getLbProtocol());
    _rules.add(loadBalancing);
  }
  return visitor.visit(this);
}

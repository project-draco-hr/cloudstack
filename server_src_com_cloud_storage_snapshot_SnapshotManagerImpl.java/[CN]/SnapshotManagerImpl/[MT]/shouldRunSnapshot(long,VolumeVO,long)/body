{
  boolean runSnap=isVolumeDirty(volume.getId(),policyId);
  ImageFormat format=getImageFormat(volume.getId());
  if (format != null) {
    if (!(format == ImageFormat.VHD || format == ImageFormat.ISO)) {
      s_logger.error("Currently, a snapshot can be taken from a Root Disk only if it is created from a 1) template in VHD format or 2) from an ISO.");
      runSnap=false;
    }
  }
  if (!runSnap) {
    s_logger.warn("Snapshot for volume " + volume.getId() + " not created. No policy assigned currently.");
  }
  return runSnap;
}

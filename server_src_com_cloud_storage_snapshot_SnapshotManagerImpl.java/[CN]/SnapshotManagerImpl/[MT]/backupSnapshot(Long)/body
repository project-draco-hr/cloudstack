{
  SnapshotInfo snapshot=this.snapshotFactory.getSnapshot(snapshotId);
  if (snapshot == null) {
    throw new CloudRuntimeException("Can't find snapshot:" + snapshotId);
  }
  if (snapshot.getState() == Snapshot.State.BackedUp) {
    return snapshot;
  }
  return this.snapshotSrv.backupSnapshot(snapshot);
}

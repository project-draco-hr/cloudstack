{
  if (host.getHypervisorType() != HypervisorType.KVM) {
    return true;
  }
  boolean snapshotEnabled=Boolean.parseBoolean(_configDao.getValue("kvm.snapshot.enabled"));
  if (!snapshotEnabled) {
    return false;
  }
  String caps=host.getCapabilities();
  if (caps != null) {
    String[] tokens=caps.split(",");
    for (    String token : tokens) {
      if (token.contains("snapshot")) {
        return true;
      }
    }
  }
  return false;
}

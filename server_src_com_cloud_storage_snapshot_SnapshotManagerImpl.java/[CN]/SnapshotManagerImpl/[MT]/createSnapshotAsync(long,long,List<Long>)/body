{
  VolumeVO volume=_volsDao.findById(volumeId);
  SnapshotOperationParam param=new SnapshotOperationParam(userId,volume.getAccountId(),volumeId,policies);
  Gson gson=GsonHelper.getBuilder().create();
  AsyncJobVO job=new AsyncJobVO();
  job.setUserId(userId);
  job.setAccountId(volume.getAccountId());
  job.setCmd("CreateSnapshot");
  job.setCmdInfo(gson.toJson(param));
  job.setCmdOriginator(CreateSnapshotCmd.getResultObjectName());
  return _asyncMgr.submitAsyncJob(job,true);
}

{
  SnapshotVO snapshot=_snapshotDao.findById(cmd.getId());
  Long snapshotId=null;
  boolean backedUp=false;
  if (snapshot != null) {
    if (snapshot.getStatus() == Snapshot.Status.CreatedOnPrimary) {
      snapshotId=snapshot.getId();
      backedUp=backupSnapshotToSecondaryStorage(snapshot,cmd.getStartEventId());
      if (!backedUp) {
        throw new CloudRuntimeException("Created snapshot: " + snapshotId + " on primary but failed to backup on secondary");
      }
    }
    postCreateSnapshot(cmd.getVolumeId(),snapshotId,Snapshot.MANUAL_POLICY_ID,backedUp);
  }
  return snapshot;
}

{
  List<SnapshotScheduleVO> snapshotSchedules=new ArrayList<SnapshotScheduleVO>();
  if (policyId == null) {
    List<SnapshotPolicyVO> policyInstances=listPoliciesforVolume(volumeId);
    for (    SnapshotPolicyVO policyInstance : policyInstances) {
      SnapshotScheduleVO snapshotSchedule=_snapshotScheduleDao.getCurrentSchedule(volumeId,policyInstance.getId(),false);
      snapshotSchedules.add(snapshotSchedule);
    }
  }
 else {
    snapshotSchedules.add(_snapshotScheduleDao.getCurrentSchedule(volumeId,policyId,false));
  }
  return snapshotSchedules;
}

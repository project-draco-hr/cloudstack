{
  Long snapshotId=cmd.getId();
  Account caller=UserContext.current().getCaller();
  Snapshot snapshotCheck=_snapshotDao.findByIdIncludingRemoved(snapshotId.longValue());
  if (snapshotCheck == null) {
    throw new InvalidParameterValueException("unable to find a snapshot with id " + snapshotId);
  }
  _accountMgr.checkAccess(caller,null,snapshotCheck);
  return deleteSnapshotInternal(snapshotId);
}

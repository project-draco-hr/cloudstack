{
  Long volumeId=cmd.getVolumeId();
  boolean display=cmd.isDisplay();
  VolumeVO volume=_volsDao.findById(volumeId);
  if (volume == null) {
    throw new InvalidParameterValueException("Unable to find a volume with id " + volumeId);
  }
  _accountMgr.checkAccess(CallContext.current().getCallingAccount(),null,true,volume);
  Pair<List<SnapshotPolicyVO>,Integer> result=_snapshotPolicyDao.listAndCountByVolumeId(volumeId,display);
  return new Pair<List<? extends SnapshotPolicy>,Integer>(result.first(),result.second());
}

{
  SnapshotVO createdSnapshot=_snapshotDao.findByIdIncludingRemoved(id);
  createdSnapshot.setPath(snapshotPath);
  createdSnapshot.setPrevSnapshotId(preSnapshotId);
  try {
    stateTransitTo(createdSnapshot,Snapshot.Event.OperationSucceeded);
  }
 catch (  NoTransitionException nte) {
    s_logger.debug("Faile to update state of snapshot due to " + nte.getMessage());
  }
  return createdSnapshot;
}

{
  final GetMethod gm=mock(GetMethod.class);
  when(client.executeMethod((HttpMethod)any())).thenThrow(new HttpException());
  when(gm.getStatusCode()).thenReturn(HttpStatus.SC_UNAUTHORIZED).thenReturn(HttpStatus.SC_UNAUTHORIZED);
  api.executeMethod(gm);
  verify(gm,times(1)).getStatusCode();
}

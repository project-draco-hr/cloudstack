{
  LogicalSwitch ls=new LogicalSwitch();
  _method=mock(PutMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_OK);
  when(_client.executeMethod((HttpMethod)any())).thenThrow(new IOException());
  try {
    _api.executeUpdateObject(ls,"/",Collections.<String,String>emptyMap());
  }
  finally {
    verify(_method,times(1)).releaseConnection();
  }
}

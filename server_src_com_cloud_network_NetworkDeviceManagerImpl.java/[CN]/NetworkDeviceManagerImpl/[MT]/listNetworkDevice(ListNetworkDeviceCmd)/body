{
  Map paramList=cmd.getParamList();
  if (paramList == null) {
    throw new CloudRuntimeException("Parameter list is null");
  }
  List<Host> res;
  Collection paramsCollection=paramList.values();
  HashMap params=(HashMap)(paramsCollection.toArray())[0];
  if (NetworkDeviceType.ExternalDhcp.getName().equalsIgnoreCase(cmd.getType())) {
    Long zoneId=Long.parseLong((String)params.get(ApiConstants.ZONE_ID));
    Long podId=Long.parseLong((String)params.get(ApiConstants.POD_ID));
    res=listNetworkDevice(zoneId,podId,Host.Type.ExternalDhcp);
  }
 else   if (NetworkDeviceType.PxeServer.getName().equalsIgnoreCase(cmd.getType())) {
    Long zoneId=Long.parseLong((String)params.get(ApiConstants.ZONE_ID));
    Long podId=Long.parseLong((String)params.get(ApiConstants.POD_ID));
    res=listNetworkDevice(zoneId,podId,Host.Type.PxeServer);
  }
 else   if (NetworkDeviceType.F5BigIpLoadBalancer.getName().equalsIgnoreCase(cmd.getType())) {
    Long zoneId=Long.parseLong((String)params.get(ApiConstants.ZONE_ID));
    Long networkId=Long.parseLong((String)params.get(ApiConstants.NETWORK_ID));
    return _externalNetworkDeviceMgr.listExternalLoadBalancers(zoneId,networkId,NetworkDeviceType.F5BigIpLoadBalancer.getName());
  }
 else   if (NetworkDeviceType.NetscalerLoadBalancer.getName().equalsIgnoreCase(cmd.getType())) {
    Long zoneId=Long.parseLong((String)params.get(ApiConstants.ZONE_ID));
    Long networkId=Long.parseLong((String)params.get(ApiConstants.NETWORK_ID));
    return _externalNetworkDeviceMgr.listExternalLoadBalancers(zoneId,networkId,NetworkDeviceType.NetscalerLoadBalancer.getName());
  }
 else   if (NetworkDeviceType.JuniperSRXFirewall.getName().equalsIgnoreCase(cmd.getType())) {
    Long zoneId=Long.parseLong((String)params.get(ApiConstants.ZONE_ID));
    Long networkId=Long.parseLong((String)params.get(ApiConstants.NETWORK_ID));
    return _externalNetworkDeviceMgr.listExternalFirewalls(zoneId,networkId,NetworkDeviceType.JuniperSRXFirewall.getName());
  }
 else   if (cmd.getType() == null) {
    Long zoneId=Long.parseLong((String)params.get(ApiConstants.ZONE_ID));
    Long podId=Long.parseLong((String)params.get(ApiConstants.POD_ID));
    List<Host> res1=listNetworkDevice(zoneId,podId,Host.Type.PxeServer);
    List<Host> res2=listNetworkDevice(zoneId,podId,Host.Type.ExternalDhcp);
    List<Host> res3=listNetworkDevice(zoneId,podId,Host.Type.ExternalLoadBalancer);
    List<Host> res4=listNetworkDevice(zoneId,podId,Host.Type.ExternalFirewall);
    List<Host> deviceAll=new ArrayList<Host>();
    deviceAll.addAll(res1);
    deviceAll.addAll(res2);
    deviceAll.addAll(res3);
    deviceAll.addAll(res4);
    res=deviceAll;
  }
 else {
    throw new CloudRuntimeException("Unknown network device type:" + cmd.getType());
  }
  return res;
}

{
  Map paramList=cmd.getParamList();
  if (paramList == null) {
    throw new CloudRuntimeException("Parameter list is null");
  }
  List<Host> res;
  Collection paramsCollection=paramList.values();
  HashMap params=(HashMap)(paramsCollection.toArray())[0];
  if (NetworkDeviceType.ExternalDhcp.getName().equalsIgnoreCase(cmd.getType())) {
    Long zoneId=Long.parseLong((String)params.get(ApiConstants.ZONE_ID));
    Long podId=Long.parseLong((String)params.get(ApiConstants.POD_ID));
    res=listNetworkDevice(zoneId,podId,Host.Type.ExternalDhcp);
  }
 else   if (NetworkDeviceType.PxeServer.getName().equalsIgnoreCase(cmd.getType())) {
    Long zoneId=Long.parseLong((String)params.get(ApiConstants.ZONE_ID));
    Long podId=Long.parseLong((String)params.get(ApiConstants.POD_ID));
    res=listNetworkDevice(zoneId,podId,Host.Type.PxeServer);
  }
 else   if (cmd.getType() == null) {
    Long zoneId=Long.parseLong((String)params.get(ApiConstants.ZONE_ID));
    Long podId=Long.parseLong((String)params.get(ApiConstants.POD_ID));
    List<Host> res1=listNetworkDevice(zoneId,podId,Host.Type.PxeServer);
    List<Host> res2=listNetworkDevice(zoneId,podId,Host.Type.ExternalDhcp);
    List<Host> res3=new ArrayList<Host>();
    res3.addAll(res1);
    res3.addAll(res2);
    res=res3;
  }
 else {
    throw new CloudRuntimeException("Unknown network device type:" + cmd.getType());
  }
  return res;
}

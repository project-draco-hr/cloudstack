{
  Transaction.execute(new TransactionCallbackNoReturn(){
    @Override public void doInTransactionWithoutResult(    TransactionStatus status){
      List<IAMPolicyPermissionVO> permitList=_policyPermissionDao.listByEntity(entityType,entityId);
      for (      IAMPolicyPermissionVO permit : permitList) {
        long policyId=permit.getAclPolicyId();
        _policyPermissionDao.remove(permit.getId());
        if ((_policyPermissionDao.listByPolicy(policyId)).isEmpty()) {
          deleteIAMPolicy(policyId);
        }
      }
    }
  }
);
}

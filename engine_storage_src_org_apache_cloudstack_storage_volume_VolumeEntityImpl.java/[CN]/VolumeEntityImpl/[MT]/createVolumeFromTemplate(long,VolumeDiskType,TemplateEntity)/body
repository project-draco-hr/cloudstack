{
  TemplateInfo ti=((TemplateEntityImpl)template).getTemplateInfo();
  AsyncCallFuture<VolumeApiResult> future=vs.createVolumeFromTemplateAsync(volumeInfo,dataStoreId,diskType,ti);
  try {
    result=future.get();
    if (!result.isSuccess()) {
      throw new CloudRuntimeException("create volume from template failed: " + result.getResult());
    }
    return true;
  }
 catch (  InterruptedException e) {
    throw new CloudRuntimeException("wait result failed",e);
  }
catch (  ExecutionException e) {
    throw new CloudRuntimeException("wait result failed",e);
  }
}

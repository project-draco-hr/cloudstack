{
  ConfigurationVO dynamicIntCV=new ConfigurationVO("UnitTestComponent",DynamicIntCK);
  dynamicIntCV.setValue("100");
  ConfigurationVO staticIntCV=new ConfigurationVO("UnitTestComponent",StaticIntCK);
  dynamicIntCV.setValue("200");
  when(configurable.getConfigComponentName()).thenReturn("UnitTestComponent");
  when(configurable.getConfigKeys()).thenReturn(new ConfigKey<?>[]{DynamicIntCK,StaticIntCK});
  when(_entityMgr.findById(org.apache.cloudstack.config.Configuration.class,DynamicIntCK.key())).thenReturn(dynamicIntCV);
  when(_entityMgr.findById(org.apache.cloudstack.config.Configuration.class,StaticIntCK.key())).thenReturn(staticIntCV);
  when(_configDao.findById(StaticIntCK.key())).thenReturn(null);
  when(_configDao.findById(DynamicIntCK.key())).thenReturn(dynamicIntCV);
  when(_configDao.persist(any(ConfigurationVO.class))).thenReturn(dynamicIntCV);
  _depotAdmin.populateConfigurations();
  verify(_configDao,times(1)).persist(Mockito.any(ConfigurationVO.class));
  when(_configDao.findById(DynamicIntCK.key())).thenReturn(dynamicIntCV);
  _depotAdmin.populateConfigurations();
  verify(_configDao,times(2)).persist(Mockito.any(ConfigurationVO.class));
}

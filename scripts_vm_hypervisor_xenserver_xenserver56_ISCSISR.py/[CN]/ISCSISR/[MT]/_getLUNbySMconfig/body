def _getLUNbySMconfig(self, sm_config):
    if (not sm_config.has_key('LUNid')):
        raise xs_errors.XenError('VDIUnavailable')
    LUNid = long(sm_config['LUNid'])
    if (not len(self._attach_LUN_bylunid(LUNid))):
        raise xs_errors.XenError('VDIUnavailable')
    return os.path.join(self.path, ('LUN%d' % LUNid))

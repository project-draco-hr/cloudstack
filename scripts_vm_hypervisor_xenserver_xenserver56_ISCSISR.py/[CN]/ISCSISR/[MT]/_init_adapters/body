def _init_adapters(self):
    ids = scsiutil._genHostList(ISCSI_PROCNAME)
    util.SMlog(ids)
    self.adapter = {}
    for host in ids:
        try:
            targetIQN = util.get_single_entry(glob.glob(('/sys/class/iscsi_host/host%s/device/session*/iscsi_session*/targetname' % host))[0])
            if (targetIQN != self.targetIQN):
                continue
            addr = util.get_single_entry(glob.glob(('/sys/class/iscsi_host/host%s/device/session*/connection*/iscsi_connection*/persistent_address' % host))[0])
            port = util.get_single_entry(glob.glob(('/sys/class/iscsi_host/host%s/device/session*/connection*/iscsi_connection*/persistent_port' % host))[0])
            entry = ('%s:%s' % (addr, port))
            self.adapter[entry] = host
        except:
            pass
    self.devs = scsiutil.cacheSCSIidentifiers()

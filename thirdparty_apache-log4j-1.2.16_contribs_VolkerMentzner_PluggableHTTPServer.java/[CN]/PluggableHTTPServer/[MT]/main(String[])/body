{
  int thePort;
  BasicConfigurator.configure();
  Category cat1=Category.getInstance("cat1");
  cat1.addAppender(new org.apache.log4j.ConsoleAppender(new PatternLayout("%m%n")));
  Category cat2=Category.getInstance("cat2");
  cat2.setPriority(Priority.INFO);
  cat2.addAppender(new org.apache.log4j.ConsoleAppender(new PatternLayout("%c - %m%n")));
  try {
    thePort=Integer.parseInt(args[1]);
  }
 catch (  Exception e) {
    thePort=PluggableHTTPServer.DEFAULT_PORT;
  }
  PluggableHTTPServer server=null;
  while (server == null) {
    try {
      server=new PluggableHTTPServer(thePort);
      server.addRequestHandler(new RootRequestHandler());
      server.addRequestHandler(new Log4jRequestHandler());
      server.addRequestHandler(new UserDialogRequestHandler());
      server.autoCreateRootPage(0);
      Thread t=new Thread(server);
      t.start();
    }
 catch (    IOException e) {
      server=null;
      thePort++;
    }
  }
}

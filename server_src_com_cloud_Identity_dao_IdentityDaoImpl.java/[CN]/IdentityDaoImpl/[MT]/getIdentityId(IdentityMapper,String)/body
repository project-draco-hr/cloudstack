{
  assert(mapper.entityTableName() != null);
  assert(identityString != null);
  PreparedStatement pstmt=null;
  Transaction txn=Transaction.currentTxn();
  ;
  try {
    pstmt=txn.prepareAutoCloseStatement(String.format("SELECT id FROM %s WHERE id=? OR uuid=?",mapper.entityTableName()));
    long id=0;
    try {
      id=Long.parseLong(identityString);
    }
 catch (    NumberFormatException e) {
    }
    pstmt.setLong(1,id);
    pstmt.setString(2,identityString);
    ResultSet rs=pstmt.executeQuery();
    if (rs.next()) {
      return rs.getLong(1);
    }
  }
 catch (  SQLException e) {
    s_logger.error("Unexpected exception ",e);
  }
  return null;
}

{
  try {
    resp.setStatusCode(statusCode);
    resp.setReasonPhrase(reasonPhrase);
    final BasicHttpEntity body=new BasicHttpEntity();
    if (HttpUtils.RESPONSE_TYPE_JSON.equalsIgnoreCase(responseType)) {
      body.setContentType(getJSONContentType());
      if (responseText == null) {
        body.setContent(new ByteArrayInputStream("{ \"error\" : { \"description\" : \"Internal Server Error\" } }".getBytes(HttpUtils.UTF_8)));
      }
    }
 else {
      body.setContentType("text/xml");
      if (responseText == null) {
        body.setContent(new ByteArrayInputStream("<error>Internal Server Error</error>".getBytes(HttpUtils.UTF_8)));
      }
    }
    if (responseText != null) {
      body.setContent(new ByteArrayInputStream(responseText.getBytes(HttpUtils.UTF_8)));
    }
    resp.setEntity(body);
  }
 catch (  final Exception ex) {
    s_logger.error("error!",ex);
  }
}

{
  User user=_ms.findUserById(userId);
  Account account=null;
  if (user != null) {
    account=_ms.findAccountById(user.getAccountId());
  }
  if ((user == null) || (user.getRemoved() != null) || !user.getState().equals(Account.State.Enabled)|| (account == null)|| !account.getState().equals(Account.State.Enabled)) {
    s_logger.warn("Deleted/Disabled/Locked user with id=" + userId + " attempting to access public API");
    return false;
  }
  return true;
}

{
  Long accountId=cmd.getId();
  Long domainId=cmd.getDomainId();
  String accountName=cmd.getAccountName();
  String newAccountName=cmd.getNewName();
  String networkDomain=cmd.getNetworkDomain();
  Map<String,String> details=cmd.getDetails();
  AccountVO account=_accountDao.findById(accountId);
  String accountUUID=account.getUuid();
  long regionId=account.getRegionId();
  if (getId() == regionId) {
    Account updateAccount=_accountMgr.updateAccount(cmd);
    if (updateAccount != null) {
      List<RegionVO> regions=_regionDao.listAll();
      StringBuffer params=new StringBuffer("/api?command=updateAccount" + "&ispropagate=true");
      for (      Region region : regions) {
        if (region.getId() == getId()) {
          continue;
        }
        String url=region.getEndPoint() + params;
        if (makeAPICall(url)) {
          s_logger.debug("Successfully updated account :" + accountUUID + " in Region: "+ region.getId());
        }
 else {
          s_logger.error("Error while updated account :" + accountUUID + " in Region: "+ region.getId());
        }
      }
    }
    return updateAccount;
  }
 else {
    StringBuffer params=new StringBuffer("/api?command=updateAccount");
    Region region=_regionDao.findById(regionId);
    String url=region.getEndPoint() + params;
    if (makeAPICall(url)) {
      s_logger.debug("Successfully updated account :" + accountUUID + " in source Region: "+ region.getId());
      return null;
    }
 else {
      s_logger.error("Error while updated account :" + accountUUID + " in source Region: "+ region.getId());
      return null;
    }
  }
}

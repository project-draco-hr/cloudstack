{
  Set<Pair<Long,Long>> templateZonePairSet=_mgr.listTemplates(this);
  boolean isAdmin=false;
  Account account=UserContext.current().getAccount();
  if ((account == null) || (account.getType() == Account.ACCOUNT_TYPE_ADMIN) || (account.getType() == Account.ACCOUNT_TYPE_DOMAIN_ADMIN)) {
    isAdmin=true;
  }
  ListResponse<TemplateResponse> response=new ListResponse<TemplateResponse>();
  List<TemplateResponse> templateResponses=new ArrayList<TemplateResponse>();
  for (  Pair<Long,Long> template : templateZonePairSet) {
    _responseGenerator.createTemplateResponse(templateResponses,template,isAdmin,account);
  }
  response.setResponses(templateResponses);
  response.setResponseName(getCommandName());
  this.setResponseObject(response);
}

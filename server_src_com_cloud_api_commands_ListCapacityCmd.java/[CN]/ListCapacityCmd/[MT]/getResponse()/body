{
  List<CapacityVO> capacities=(List<CapacityVO>)getResponseObject();
  List<CapacityVO> summedCapacities=sumCapacities(capacities);
  List<CapacityResponse> response=new ArrayList<CapacityResponse>();
  for (  CapacityVO summedCapacity : summedCapacities) {
    CapacityResponse capacityResponse=new CapacityResponse();
    capacityResponse.setCapacityTotal(summedCapacity.getTotalCapacity());
    capacityResponse.setCapacityType(summedCapacity.getCapacityType());
    capacityResponse.setCapacityUsed(summedCapacity.getUsedCapacity());
    capacityResponse.setPodId(summedCapacity.getPodId());
    capacityResponse.setZoneId(summedCapacity.getDataCenterId());
    if (summedCapacity.getTotalCapacity() != 0) {
      capacityResponse.setPercentUsed(s_percentFormat.format(summedCapacity.getUsedCapacity() / summedCapacity.getTotalCapacity()));
    }
 else {
      capacityResponse.setPercentUsed(s_percentFormat.format(0L));
    }
  }
  return SerializerHelper.toSerializedString(response);
}

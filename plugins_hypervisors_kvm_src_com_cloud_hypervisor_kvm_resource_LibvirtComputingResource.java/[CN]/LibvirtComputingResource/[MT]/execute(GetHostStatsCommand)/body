{
  final Script cpuScript=new Script("/bin/bash",s_logger);
  cpuScript.add("-c");
  cpuScript.add("idle=$(top -b -n 1| awk -F, '/^[%]*[Cc]pu/{$0=$4; gsub(/[^0-9.,]+/,\"\"); print }'); echo $idle");
  final OutputInterpreter.OneLineParser parser=new OutputInterpreter.OneLineParser();
  String result=cpuScript.execute(parser);
  if (result != null) {
    s_logger.debug("Unable to get the host CPU state: " + result);
    return new Answer(cmd,false,result);
  }
  double cpuUtil=(100.0D - Double.parseDouble(parser.getLine()));
  _memStat.refresh();
  double totMem=_memStat.getTotal();
  double freeMem=_memStat.getAvailable();
  Pair<Double,Double> nicStats=getNicStats(_publicBridgeName);
  HostStatsEntry hostStats=new HostStatsEntry(cmd.getHostId(),cpuUtil,nicStats.first() / 1024,nicStats.second() / 1024,"host",totMem,freeMem,0,0);
  return new GetHostStatsAnswer(cmd,hostStats);
}

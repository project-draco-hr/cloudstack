{
  if (cmd.isForVpc()) {
    if (cmd.getOption() != null && cmd.getOption().equals("create")) {
      final String result=VPCNetworkUsage(cmd.getPrivateIP(),cmd.getGatewayIP(),"create",cmd.getVpcCIDR());
      final NetworkUsageAnswer answer=new NetworkUsageAnswer(cmd,result,0L,0L);
      return answer;
    }
 else     if (cmd.getOption() != null && (cmd.getOption().equals("get") || cmd.getOption().equals("vpn"))) {
      final long[] stats=getVPCNetworkStats(cmd.getPrivateIP(),cmd.getGatewayIP(),cmd.getOption());
      final NetworkUsageAnswer answer=new NetworkUsageAnswer(cmd,"",stats[0],stats[1]);
      return answer;
    }
 else {
      final String result=VPCNetworkUsage(cmd.getPrivateIP(),cmd.getGatewayIP(),cmd.getOption(),cmd.getVpcCIDR());
      final NetworkUsageAnswer answer=new NetworkUsageAnswer(cmd,result,0L,0L);
      return answer;
    }
  }
 else {
    if (cmd.getOption() != null && cmd.getOption().equals("create")) {
      final String result=networkUsage(cmd.getPrivateIP(),"create",null);
      final NetworkUsageAnswer answer=new NetworkUsageAnswer(cmd,result,0L,0L);
      return answer;
    }
    final long[] stats=getNetworkStats(cmd.getPrivateIP());
    final NetworkUsageAnswer answer=new NetworkUsageAnswer(cmd,"",stats[0],stats[1]);
    return answer;
  }
}

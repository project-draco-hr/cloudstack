{
  Connect conn;
  NicTO nic=cmd.getNic();
  String routerName=cmd.getAccessDetail(NetworkElementCommand.ROUTER_NAME);
  try {
    conn=LibvirtConnection.getConnectionByVmName(routerName);
    List<InterfaceDef> pluggedNics=getInterfaces(conn,routerName);
    InterfaceDef routerNic=null;
    for (    InterfaceDef pluggedNic : pluggedNics) {
      if (pluggedNic.getMacAddress().equalsIgnoreCase(nic.getMac())) {
        routerNic=pluggedNic;
        break;
      }
    }
    if (routerNic == null) {
      return new ExecutionResult(false,"Can not find nic with mac " + nic.getMac() + " for VM "+ routerName);
    }
    return new ExecutionResult(true,null);
  }
 catch (  LibvirtException e) {
    String msg="Creating guest network failed due to " + e.toString();
    s_logger.warn(msg,e);
    return new ExecutionResult(false,msg);
  }
}

{
  VolumeTO vol=cmd.getVolume();
  try {
    KVMStoragePool pool=_storagePoolMgr.getStoragePool(vol.getPoolType(),vol.getPoolUuid());
    pool.deletePhysicalDisk(vol.getPath());
    String vmName=cmd.getVmName();
    String poolPath=pool.getLocalPath();
    if (vol.getType() == Volume.Type.ROOT && vmName.matches("^[rsv]-\\d+-.+$")) {
      File patchVbd=new File(poolPath + File.separator + vmName+ "-patchdisk");
      if (patchVbd.exists()) {
        try {
          _storagePoolMgr.deleteVbdByPath(vol.getPoolType(),patchVbd.getAbsolutePath());
        }
 catch (        CloudRuntimeException e) {
          s_logger.warn("unable to destroy patch disk '" + patchVbd.getAbsolutePath() + "' while removing root disk for "+ vmName+ " : "+ e);
        }
      }
 else {
        s_logger.debug("file '" + patchVbd.getAbsolutePath() + "' not found");
      }
    }
    return new Answer(cmd,true,"Success");
  }
 catch (  CloudRuntimeException e) {
    s_logger.debug("Failed to delete volume: " + e.toString());
    return new Answer(cmd,false,e.toString());
  }
}

def __init__(self):
    self.config_fields = {'host': 'localhost', 'port': '8080', 'apiKey': '', 'secretKey': '', 'prompt': '\xf0\x9f\x99\x89 cloudmonkey> ', 'color': 'true', 'log_file': os.path.expanduser('~/.cloudmonkey_log'), 'history_file': os.path.expanduser('~/.cloudmonkey_history'), }
    if os.path.exists(self.config_file):
        config = self.read_config()
    else:
        for key in self.config_fields.keys():
            setattr(self, key, self.config_fields[key])
        config = self.write_config()
        print 'Set your api and secret keys, host, port etc. using the set command!'
    for key in self.config_fields.keys():
        setattr(self, key, config.get('CLI', key))
    self.prompt += ' '
    logging.basicConfig(filename=self.log_file, level=logging.DEBUG, format=log_fmt)
    self.logger = logging.getLogger(self.__class__.__name__)
    cmd.Cmd.__init__(self)
    if (not os.path.exists(self.config_file)):
        config = self.write_config()
    if (sys.platform == 'darwin'):
        readline.parse_and_bind('bind ^I rl_complete')
    else:
        readline.parse_and_bind('tab: complete')
    try:
        if os.path.exists(self.history_file):
            readline.read_history_file(self.history_file)
        atexit.register(readline.write_history_file, self.history_file)
    except IOError:
        print 'Error: history support'

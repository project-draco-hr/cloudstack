{
  SnapshotVO snapshot=snapshotDao.findByIdIncludingRemoved(snapshotId);
  SnapshotObject so=null;
  if (snapshot.getState() == Snapshot.State.BackedUp) {
    DataStore store=objMap.findStore(snapshot.getId(),DataObjectType.SNAPSHOT,DataStoreRole.Image);
    so=SnapshotObject.getSnapshotObject(snapshot,store);
  }
 else {
    VolumeInfo volume=this.volumeFactory.getVolume(snapshot.getVolumeId());
    so=SnapshotObject.getSnapshotObject(snapshot,volume.getDataStore());
  }
  return so;
}

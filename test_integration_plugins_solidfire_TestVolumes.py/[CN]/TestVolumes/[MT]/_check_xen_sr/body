def _check_xen_sr(self, xen_sr_name, should_exist=True):
    if should_exist:
        xen_sr = self.xen_session.xenapi.SR.get_by_name_label(xen_sr_name)[0]
        self.sr_shared = self.xen_session.xenapi.SR.get_shared(xen_sr)
        self.assertEqual(self.sr_shared, True, TestVolumes._sr_not_shared_err_msg)
    else:
        xen_sr = self.xen_session.xenapi.SR.get_by_name_label(xen_sr_name)
        self._check_list(xen_sr, 0, TestVolumes._list_should_be_empty)

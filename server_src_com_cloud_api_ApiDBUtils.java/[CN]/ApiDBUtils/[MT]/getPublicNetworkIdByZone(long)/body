{
  Long networkOfferingId=null;
  List<NetworkOfferingVO> offerings=_networkOfferingDao.listSystemNetworkOfferings();
  for (  NetworkOfferingVO offering : offerings) {
    if (offering.getGuestIpType() == null && offering.getTrafficType() == TrafficType.Public) {
      networkOfferingId=offering.getId();
      break;
    }
  }
  if (networkOfferingId == null) {
    throw new InvalidParameterValueException("Unable to find system Public network offering");
  }
  List<NetworkVO> networks=_networkDao.listBy(Account.ACCOUNT_ID_SYSTEM,networkOfferingId,zoneId);
  if (networks == null) {
    throw new InvalidParameterValueException("Unable to find public network in zone " + zoneId);
  }
  return networks.get(0).getId();
}

{
  if (zoneId != null) {
    HostVO secondaryStorageHost=_storageMgr.getSecondaryStorageHost(zoneId);
    if (secondaryStorageHost == null) {
      return new ArrayList<VMTemplateHostVO>();
    }
 else {
      return _templateHostDao.listByHostTemplate(secondaryStorageHost.getId(),templateId);
    }
  }
 else {
    return _templateHostDao.listByOnlyTemplateId(templateId);
  }
}

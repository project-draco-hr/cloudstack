{
  if (sh != null) {
    sh.send(layout.format(event));
    if (layout.ignoresThrowable()) {
      String[] s=event.getThrowableStrRep();
      if (s != null) {
        StringBuffer buf=new StringBuffer();
        for (int i=0; i < s.length; i++) {
          buf.append(s[i]);
          buf.append("\r\n");
        }
        sh.send(buf.toString());
      }
    }
  }
}

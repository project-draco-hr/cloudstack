{
  if (value instanceof LoggingEvent) {
    LoggingEvent event=(LoggingEvent)value;
    String str=layout.format(event);
    String t=event.getThrowableInformation();
    if (t != null) {
      setText(str + Layout.LINE_SEP + t);
    }
 else {
      setText(str);
    }
  }
 else {
    setText(value.toString());
  }
  return this;
}

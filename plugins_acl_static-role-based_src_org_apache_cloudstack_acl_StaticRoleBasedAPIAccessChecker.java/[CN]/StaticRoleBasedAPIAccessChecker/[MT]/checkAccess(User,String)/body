{
  Account account=_accountService.getAccount(user.getAccountId());
  if (account == null) {
    throw new PermissionDeniedException("The account id=" + user.getAccountId() + "for user id="+ user.getId()+ "is null");
  }
  RoleType roleType=_accountService.getRoleType(account);
  boolean isAllowed=s_roleBasedApisMap.get(roleType).contains(commandName);
  if (!isAllowed) {
    throw new PermissionDeniedException("The API does not exist or is blacklisted. Role type=" + roleType.toString() + " is not allowed to request the api: "+ commandName);
  }
  return isAllowed;
}

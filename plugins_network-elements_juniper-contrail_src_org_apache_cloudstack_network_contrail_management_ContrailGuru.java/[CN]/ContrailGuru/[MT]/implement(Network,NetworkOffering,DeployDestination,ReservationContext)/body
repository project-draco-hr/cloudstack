{
  s_logger.debug("Implement network: " + network.getName() + ", traffic type: "+ network.getTrafficType());
  VirtualNetworkModel vnModel=_manager.getDatabase().lookupVirtualNetwork(network.getUuid(),_manager.getCanonicalName(network),network.getTrafficType());
  if (vnModel == null) {
    vnModel=new VirtualNetworkModel(network,network.getUuid(),_manager.getCanonicalName(network),network.getTrafficType());
    vnModel.setProperties(_manager.getModelController(),network);
  }
  try {
    if (!vnModel.verify(_manager.getModelController())) {
      vnModel.update(_manager.getModelController());
    }
  }
 catch (  Exception ex) {
    s_logger.warn("virtual-network update: ",ex);
    return network;
  }
  _manager.getDatabase().getVirtualNetworks().add(vnModel);
  return network;
}

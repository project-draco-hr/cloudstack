def loadCmdFromJSON(self, apiStream):
    if (apiStream is None):
        raise Exception('No APIs found through discovery')
    apiDict = json.loads(apiStream)
    if (not apiDict.has_key('listapisresponse')):
        raise Exception('API discovery plugin response failed')
    if (not apiDict['listapisresponse'].has_key('count')):
        raise Exception('Malformed api response')
    apilist = apiDict['listapisresponse']['api']
    cmds = []
    for cmd in apilist:
        csCmd = cloudStackCmd()
        if cmd.has_key('name'):
            csCmd.name = cmd['name']
        assert csCmd.name
        if cmd.has_key('description'):
            csCmd.desc = cmd['description']
        if cmd.has_key('async'):
            csCmd.async = cmd['isasync']
        for param in cmd['params']:
            paramProperty = cmdParameterProperty()
            if param.has_key('name'):
                paramProperty.name = param['name']
            assert paramProperty.name
            if param.has_key('required'):
                paramProperty.required = param.getElementsByTagName('required')
            if param.has_key('description'):
                paramProperty.desc = param['description']
            if param.has_key('type'):
                paramProperty.type = param['type']
            csCmd.request.append(paramProperty)
        for response in cmd['response']:
            paramProperty = self.constructResponseFromJSON(response)
            csCmd.response.append(paramProperty)
        cmds.append(csCmd)
    return cmds

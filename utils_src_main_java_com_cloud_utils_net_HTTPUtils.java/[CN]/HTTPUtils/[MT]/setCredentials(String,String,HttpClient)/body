{
  if (username != null && password != null && httpClient != null) {
    if (LOGGER.isDebugEnabled()) {
      LOGGER.debug("Setting credentials with username " + username + " for host "+ httpClient.getHostConfiguration().getHost()+ ":"+ httpClient.getHostConfiguration().getPort());
    }
    httpClient.getParams().setAuthenticationPreemptive(true);
    httpClient.getState().setCredentials(new AuthScope(httpClient.getHostConfiguration().getHost(),httpClient.getHostConfiguration().getPort(),AuthScope.ANY_REALM),new UsernamePasswordCredentials(username,password));
  }
}

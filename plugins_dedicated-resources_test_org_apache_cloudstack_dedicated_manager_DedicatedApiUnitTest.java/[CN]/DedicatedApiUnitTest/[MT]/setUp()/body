{
  ComponentContext.initComponentsLifeCycle();
  AccountVO account=new AccountVO(accountName,domainId,"networkDomain",Account.ACCOUNT_TYPE_NORMAL,"uuid");
  DomainVO domain=new DomainVO("rootDomain",5L,5L,"networkDomain");
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,account);
  when(_acctMgr.finalizeOwner((Account)anyObject(),anyString(),anyLong(),anyLong())).thenReturn(account);
  when(_accountDao.findByIdIncludingRemoved(0L)).thenReturn(account);
  when(_accountDao.findById(anyLong())).thenReturn(account);
  when(_domainDao.findById(domainId)).thenReturn(domain);
}

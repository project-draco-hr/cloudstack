{
  final NicVO defaultNic=_nicDao.findDefaultNicForVM(userVmId);
  if (!_networkModel.isProviderSupportServiceInNetwork(defaultNic.getNetworkId(),Service.Dns,Provider.VirtualRouter)) {
    return null;
  }
  final NetworkOffering offering=_networkOfferingDao.findById(_networkDao.findById(defaultNic.getNetworkId()).getNetworkOfferingId());
  if (offering.getRedundantRouter()) {
    return findGatewayIp(userVmId);
  }
  return null;
}

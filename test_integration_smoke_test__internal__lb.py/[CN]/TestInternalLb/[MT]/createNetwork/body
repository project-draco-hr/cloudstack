def createNetwork(self):
    createVPCCmd = createVPC.createVPCCmd()
    createVPCCmd.name = 'new vpc'
    createVPCCmd.cidr = '10.1.1.0/24'
    createVPCCmd.displaytext = 'new vpc'
    createVPCCmd.vpcofferingid = 1
    createVPCCmd.zoneid = self.zoneId
    createVPCResponse = self.apiClient.createVPC(createVPCCmd)
    createNetworkCmd = createNetwork.createNetworkCmd()
    createNetworkCmd.name = 'vpc network'
    createNetworkCmd.displaytext = 'vpc network'
    createNetworkCmd.netmask = '255.255.255.0'
    createNetworkCmd.gateway = '10.1.1.1'
    createNetworkCmd.zoneid = self.zoneId
    createNetworkCmd.vpcid = createVPCResponse.id
    createNetworkCmd.networkofferingid = TestInternalLb.networkOfferingId
    createNetworkResponse = self.apiClient.createNetwork(createNetworkCmd)
    TestInternalLb.networkId = createNetworkResponse.id
    self.assertIsNotNone(createNetworkResponse.id, 'Network failed to create')

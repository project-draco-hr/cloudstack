def createInternalLoadBalancer(self):
    createLoadBalancerCmd = createLoadBalancer.createLoadBalancerCmd()
    createLoadBalancerCmd.name = 'lb rule'
    createLoadBalancerCmd.sourceport = 22
    createLoadBalancerCmd.instanceport = 22
    createLoadBalancerCmd.algorithm = 'roundrobin'
    createLoadBalancerCmd.scheme = 'internal'
    createLoadBalancerCmd.sourceipaddressnetworkid = TestInternalLb.networkId
    createLoadBalancerCmd.networkid = TestInternalLb.networkId
    createLoadBalancerResponse = self.apiClient.createLoadBalancer(createLoadBalancerCmd)
    TestInternalLb.lbId = createLoadBalancerResponse.id
    self.assertIsNotNone(createLoadBalancerResponse.id, 'Failed to create a load balancer')

{
  final int numVms=10000;
  System.out.println("Starting");
  ComponentLocator locator=ComponentLocator.getCurrentLocator();
  SecurityGroupManagerImpl2 sgMgr=ComponentLocator.inject(SecurityGroupManagerImpl2.class);
  List<Long> work=new ArrayList<Long>();
  for (long i=100; i <= numVms; i++) {
    work.add(i);
  }
  Profiler profiler=new Profiler();
  profiler.start();
  sgMgr.scheduleRulesetUpdateToHosts(work,false,null);
  profiler.stop();
  System.out.println("Done " + numVms + " in "+ profiler.getDuration()+ " ms");
}

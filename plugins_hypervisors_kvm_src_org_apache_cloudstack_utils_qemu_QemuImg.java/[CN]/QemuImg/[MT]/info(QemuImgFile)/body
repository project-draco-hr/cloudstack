{
  final Script s=new Script(_qemuImgPath);
  s.add("info");
  s.add(file.getFileName());
  final OutputInterpreter.AllLinesParser parser=new OutputInterpreter.AllLinesParser();
  final String result=s.execute(parser);
  if (result != null) {
    throw new QemuImgException(result);
  }
  final HashMap<String,String> info=new HashMap<String,String>();
  final String[] outputBuffer=parser.getLines().trim().split("\n");
  for (int i=0; i < outputBuffer.length; i++) {
    final String[] lineBuffer=outputBuffer[i].split(":",2);
    if (lineBuffer.length == 2) {
      final String key=lineBuffer[0].trim().replace(" ","_");
      String value=null;
      if (key.equals("virtual_size")) {
        value=lineBuffer[1].trim().replaceAll("^.*\\(([0-9]+).*$","$1");
      }
 else {
        value=lineBuffer[1].trim();
      }
      info.put(key,value);
    }
  }
  return info;
}

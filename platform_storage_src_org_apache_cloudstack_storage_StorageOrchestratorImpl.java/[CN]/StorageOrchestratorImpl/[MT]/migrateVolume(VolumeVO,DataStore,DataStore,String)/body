{
  Transaction txn=Transaction.currentTxn();
  txn.start();
  volume.setReservationId(reservationId);
  volume=_volumeMgr.processEvent(volume,Volume.Event.MigrationRequested);
  Volume destVolume=_volumeMgr.allocateDuplicateVolume(volume);
  destVolume=_volumeMgr.processEvent(destVolume,Volume.Event.CreateRequested);
  txn.commit();
  VolumeStrategy vs=srcStore.getVolumeStrategy();
  vs.migrateVolume(volume,srcStore,destVolume,destStore);
  txn.start();
  volume=_volumeMgr.processEvent(volume,Volume.Event.OperationSucceeded);
  destVolume=_volumeMgr.processEvent(destVolume,Volume.Event.OperationSucceeded);
  txn.commit();
  volume=_volumeMgr.processEvent(volume,Volume.Event.DestroyRequested);
  vs.deleteVolume(volume);
  _volumeMgr.processEvent(volume,Volume.Event.OperationSucceeded);
  return destVolume;
}

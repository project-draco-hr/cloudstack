{
  super.configure(name,params);
  _dumpPath=(String)params.get("upgrade.dump.path");
  if (_dumpPath == null) {
    _dumpPath=System.getenv("upgrade.dump.path");
    if (_dumpPath == null) {
      _dumpPath="/var/log/";
    }
  }
  String dbVersion=getCurrentVersion();
  String currentVersion=this.getClass().getPackage().getImplementationVersion();
  if (currentVersion == null) {
    currentVersion=this.getClass().getSuperclass().getPackage().getImplementationVersion();
  }
  if (s_logger.isDebugEnabled()) {
    s_logger.debug("DB version = " + dbVersion + " Code Version = "+ currentVersion);
  }
  if (Version.compare(dbVersion,currentVersion) > 0) {
    throw new ConfigurationException("Database version " + dbVersion + " is higher than management software version "+ currentVersion);
  }
  if (Version.compare(dbVersion,currentVersion) == 0) {
    return true;
  }
  upgrade(dbVersion,currentVersion);
  return true;
}

{
  Transaction txn=Transaction.currentTxn();
  txn.start();
  Long volumeId=volume.getId();
  _volsDao.destroyVolume(volumeId);
  EventUtils.saveEvent(User.UID_SYSTEM,volume.getAccountId(),EventTypes.EVENT_VOLUME_DELETE,"Volume " + volume.getName() + " deleted");
  UsageEventVO usageEvent=new UsageEventVO(EventTypes.EVENT_VOLUME_DELETE,volume.getAccountId(),volume.getDataCenterId(),volume.getId(),volume.getName(),null,null,null);
  _usageEventDao.persist(usageEvent);
  _snapshotMgr.deletePoliciesForVolume(volumeId);
  _accountMgr.decrementResourceCount(volume.getAccountId(),ResourceType.volume);
  txn.commit();
}

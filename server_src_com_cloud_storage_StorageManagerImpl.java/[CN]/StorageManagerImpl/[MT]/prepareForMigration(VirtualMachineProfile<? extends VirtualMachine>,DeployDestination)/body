{
  List<VolumeVO> vols=_volsDao.findUsableVolumesForInstance(vm.getId());
  if (s_logger.isDebugEnabled()) {
    s_logger.debug("Preparing " + vols.size() + " volumes for "+ vm);
  }
  for (  VolumeVO vol : vols) {
    StoragePool pool=_storagePoolDao.findById(vol.getPoolId());
    vm.addDisk(new VolumeTO(vol,pool));
  }
}

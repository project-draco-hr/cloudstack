{
  List<VolumeVO> volumes=create(account,vm,template,dc,pod,offering,diskOffering,avoids);
  for (  VolumeVO v : volumes) {
    long volumeId=v.getId();
    long sizeMB=v.getSize() / (1024 * 1024);
    String diskOfferingIdentifier=(diskOffering != null) ? String.valueOf(diskOffering.getId()) : "-1";
    String eventParams="id=" + volumeId + "\ndoId="+ diskOfferingIdentifier+ "\ntId="+ template.getId()+ "\ndcId="+ dc.getId()+ "\nsize="+ sizeMB;
    EventVO event=new EventVO();
    event.setAccountId(account.getId());
    event.setUserId(1L);
    event.setType(EventTypes.EVENT_VOLUME_CREATE);
    event.setParameters(eventParams);
    event.setDescription("Created volume: " + v.getName() + " with size: "+ sizeMB+ " MB");
    _eventDao.persist(event);
  }
  return volumes.get(0).getPoolId();
}

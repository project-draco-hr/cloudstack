{
  StoragePoolVO pool=_storagePoolDao.findById(poolId);
  if (pool == null) {
    throw new IllegalArgumentException("Unable to find storage pool with ID: " + poolId);
  }
  if (tags != null) {
    Map<String,String> details=_storagePoolDao.getDetails(poolId);
    String[] tagsList=tags.split(",");
    for (    String tag : tagsList) {
      tag=tag.trim();
      if (tag.length() > 0 && !details.containsKey(tag)) {
        details.put(tag,"true");
      }
    }
    _storagePoolDao.updateDetails(poolId,details);
  }
  return pool;
}

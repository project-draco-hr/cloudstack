{
  Transaction txn=Transaction.currentTxn();
  try {
    txn.start();
    _volsDao.update(existingVolume,Volume.Event.Destroy);
    VolumeVO newVolume=allocateDuplicateVolume(existingVolume);
    txn.commit();
    return newVolume;
  }
 catch (  ConcurrentOperationException e) {
    throw new StorageUnavailableException("Unable to duplicate the volume " + existingVolume,existingVolume,e);
  }
}

{
  _locator=ComponentLocator.getLocator(ManagementServer.Name);
  _asyncMgr=_locator.getManager(AsyncJobManager.class);
  _identityDao=_locator.getDao(IdentityDao.class);
  ConfigurationDao configDao=_locator.getDao(ConfigurationDao.class);
  Map<String,String> configs=configDao.getConfiguration();
  String strSnapshotLimit=configs.get(Config.ConcurrentSnapshotsThresholdPerHost.key());
  if (strSnapshotLimit != null) {
    Long snapshotLimit=NumbersUtil.parseLong(strSnapshotLimit,1L);
    if (snapshotLimit <= 0) {
      s_logger.debug("Global config parameter " + Config.ConcurrentSnapshotsThresholdPerHost.toString() + " is less or equal 0; defaulting to unlimited");
    }
 else {
      _createSnapshotQueueSizeLimit=snapshotLimit;
    }
  }
  _accountMgr=_locator.getManager(AccountManager.class);
  _daoNameMap.put("com.cloud.network.Network",NetworkDao.class);
  _daoNameMap.put("com.cloud.template.VirtualMachineTemplate",VMTemplateDao.class);
}

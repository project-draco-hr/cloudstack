{
  NatRule[] rules=_resource.generatePortForwardingRulePair("10.10.10.10",new int[]{8080,8080},"11.11.11.11",new int[]{80,80},"tcp");
  assertTrue("DestinationNatRule".equals(rules[0].getType()));
  assertTrue("SourceNatRule".equals(rules[1].getType()));
  assertTrue(rules[0].getToDestinationIpAddressMin().equals("10.10.10.10") && rules[0].getToDestinationIpAddressMax().equals("10.10.10.10"));
  assertTrue(rules[0].getToDestinationPort() == 8080);
  assertTrue(rules[0].getMatch().getDestinationIpAddresses().equals("11.11.11.11"));
  assertTrue(rules[0].getMatch().getDestinationPortMin() == 80 && rules[0].getMatch().getDestinationPortMax() == 80);
  assertTrue(rules[0].getMatch().getEthertype().equals("IPv4") && rules[0].getMatch().getProtocol() == 6);
  assertTrue(rules[1].getToSourceIpAddressMin().equals("11.11.11.11") && rules[1].getToSourceIpAddressMax().equals("11.11.11.11"));
  assertTrue(rules[1].getToSourcePortMin() == 80 && rules[1].getToSourcePortMax() == 80);
  assertTrue(rules[1].getMatch().getSourceIpAddresses().equals("10.10.10.10"));
  assertTrue(rules[1].getMatch().getSourcePortMin() == 8080 && rules[1].getMatch().getSourcePortMax() == 8080);
  assertTrue(rules[1].getMatch().getEthertype().equals("IPv4") && rules[1].getMatch().getProtocol() == 6);
}

{
  _resource.configure("NiciraNvpResource",_parameters);
  ConfigurePublicIpsOnLogicalRouterCommand cmd=mock(ConfigurePublicIpsOnLogicalRouterCommand.class);
  @SuppressWarnings("unchecked") NiciraNvpList<LogicalRouterPort> list=mock(NiciraNvpList.class);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  when(cmd.getL3GatewayServiceUuid()).thenReturn("bbbbb");
  doThrow(new NiciraNvpApiException()).when(_nvpApi).modifyLogicalRouterPort((String)any(),(LogicalRouterPort)any());
  when(_nvpApi.findLogicalRouterPortByGatewayServiceUuid("aaaaa","bbbbb")).thenReturn(list);
  ConfigurePublicIpsOnLogicalRouterAnswer answer=(ConfigurePublicIpsOnLogicalRouterAnswer)_resource.executeRequest(cmd);
  assertFalse(answer.getResult());
}

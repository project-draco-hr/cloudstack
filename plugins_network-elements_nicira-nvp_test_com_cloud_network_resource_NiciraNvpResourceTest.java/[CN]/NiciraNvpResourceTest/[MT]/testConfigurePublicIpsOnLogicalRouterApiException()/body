{
  resource.configure("NiciraNvpResource",parameters);
  ConfigurePublicIpsOnLogicalRouterCommand cmd=mock(ConfigurePublicIpsOnLogicalRouterCommand.class);
  @SuppressWarnings("unchecked") NiciraNvpList<LogicalRouterPort> list=mock(NiciraNvpList.class);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  when(cmd.getL3GatewayServiceUuid()).thenReturn("bbbbb");
  doThrow(new NiciraNvpApiException()).when(nvpApi).modifyLogicalRouterPort((String)any(),(LogicalRouterPort)any());
  when(nvpApi.findLogicalRouterPortByGatewayServiceUuid("aaaaa","bbbbb")).thenReturn(list);
  ConfigurePublicIpsOnLogicalRouterAnswer answer=(ConfigurePublicIpsOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertFalse(answer.getResult());
}

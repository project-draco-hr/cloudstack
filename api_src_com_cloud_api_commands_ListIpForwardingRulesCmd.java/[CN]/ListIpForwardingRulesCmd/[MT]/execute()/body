{
  Ip ip=null;
  if (publicIpAddress != null) {
    ip=new Ip(publicIpAddress);
  }
  List<? extends PortForwardingRule> result=_rulesService.searchForIpForwardingRules(ip,id,vmId,this.getStartIndex(),this.getPageSizeVal());
  ListResponse<IpForwardingRuleResponse> response=new ListResponse<IpForwardingRuleResponse>();
  List<IpForwardingRuleResponse> ipForwardingResponses=new ArrayList<IpForwardingRuleResponse>();
  for (  PortForwardingRule rule : result) {
    IpForwardingRuleResponse resp=_responseGenerator.createIpForwardingRuleResponse(rule);
    if (resp != null) {
      ipForwardingResponses.add(resp);
    }
  }
  response.setResponses(ipForwardingResponses);
  response.setResponseName(getCommandName());
  this.setResponseObject(response);
}

{
  String iqn=null;
  String errMsg=null;
  if (dataObject.getType() == DataObjectType.VOLUME) {
    VolumeInfo volumeInfo=(VolumeInfo)dataObject;
    AccountVO account=_accountDao.findById(volumeInfo.getAccountId());
    String sfAccountName=SolidFireUtil.getSolidFireAccountName(account.getUuid(),account.getAccountId());
    long storagePoolId=dataStore.getId();
    SolidFireUtil.SolidFireConnection sfConnection=SolidFireUtil.getSolidFireConnection(storagePoolId,_storagePoolDetailsDao);
    if (SolidFireUtil.getSolidFireAccount(sfConnection,sfAccountName) == null) {
      SolidFireUtil.SolidFireAccount sfAccount=createSolidFireAccount(sfConnection,sfAccountName);
      SolidFireUtil.updateCsDbWithSolidFireAccountInfo(account.getId(),sfAccount,_accountDetailsDao);
    }
    SolidFireUtil.SolidFireVolume sfVolume=createSolidFireVolume(sfConnection,volumeInfo);
    iqn=sfVolume.getIqn();
    VolumeVO volume=this._volumeDao.findById(volumeInfo.getId());
    volume.set_iScsiName(iqn);
    volume.setFolder(String.valueOf(sfVolume.getId()));
    volume.setPoolType(StoragePoolType.IscsiLUN);
    volume.setPoolId(storagePoolId);
    _volumeDao.update(volume.getId(),volume);
    StoragePoolVO storagePool=_storagePoolDao.findById(dataStore.getId());
    long capacityBytes=storagePool.getCapacityBytes();
    long usedBytes=storagePool.getUsedBytes();
    usedBytes+=sfVolume.getTotalSize();
    storagePool.setUsedBytes(usedBytes > capacityBytes ? capacityBytes : usedBytes);
    _storagePoolDao.update(storagePoolId,storagePool);
  }
 else {
    errMsg="Invalid DataObjectType (" + dataObject.getType() + ") passed to createAsync";
  }
  CreateCmdResult result=new CreateCmdResult(iqn,new Answer(null,errMsg == null,errMsg));
  result.setResult(errMsg);
  callback.complete(result);
}

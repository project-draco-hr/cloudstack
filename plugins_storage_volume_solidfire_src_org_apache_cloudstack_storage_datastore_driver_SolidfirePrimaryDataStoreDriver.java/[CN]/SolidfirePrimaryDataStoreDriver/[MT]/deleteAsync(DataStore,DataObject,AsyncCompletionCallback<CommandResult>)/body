{
  String errMsg=null;
  if (dataObject.getType() == DataObjectType.VOLUME) {
    VolumeInfo volumeInfo=(VolumeInfo)dataObject;
    AccountVO account=_accountDao.findById(volumeInfo.getAccountId());
    AccountDetailVO accountDetails=_accountDetailsDao.findDetail(account.getAccountId(),SolidFireUtil.ACCOUNT_ID);
    long sfAccountId=Long.parseLong(accountDetails.getValue());
    long storagePoolId=dataStore.getId();
    SolidFireConnection sfConnection=getSolidFireConnection(storagePoolId);
    deleteSolidFireVolume(volumeInfo,sfConnection);
    _volumeDao.deleteVolumesByInstance(volumeInfo.getId());
    StoragePoolVO storagePool=_storagePoolDao.findById(storagePoolId);
    long usedBytes=storagePool.getUsedBytes();
    usedBytes-=volumeInfo.getSize();
    storagePool.setUsedBytes(usedBytes < 0 ? 0 : usedBytes);
    _storagePoolDao.update(storagePoolId,storagePool);
  }
 else {
    errMsg="Invalid DataObjectType (" + dataObject.getType() + ") passed to deleteAsync";
  }
  CommandResult result=new CommandResult();
  result.setResult(errMsg);
  callback.complete(result);
}

{
  if (host == null || host.isEmpty() || adminuser == null || adminuser.isEmpty() || adminpass == null || adminpass.isEmpty()) {
    throw new NiciraNvpApiException("Hostname/credentials are null or empty");
  }
  final PostMethod pm=(PostMethod)createMethod(POST_METHOD_TYPE,uri);
  pm.setRequestHeader(CONTENT_TYPE,JSON_CONTENT_TYPE);
  try {
    pm.setRequestEntity(new StringRequestEntity(gson.toJson(newObject),JSON_CONTENT_TYPE,null));
  }
 catch (  final UnsupportedEncodingException e) {
    throw new NiciraNvpApiException("Failed to encode json request body",e);
  }
  executeMethod(pm);
  if (pm.getStatusCode() != HttpStatus.SC_CREATED) {
    final String errorMessage=responseToErrorMessage(pm);
    pm.releaseConnection();
    s_logger.error("Failed to create object : " + errorMessage);
    throw new NiciraNvpApiException("Failed to create object : " + errorMessage);
  }
  T result;
  try {
    result=(T)gson.fromJson(pm.getResponseBodyAsString(),TypeToken.get(newObject.getClass()).getType());
  }
 catch (  final IOException e) {
    throw new NiciraNvpApiException("Failed to decode json response body",e);
  }
 finally {
    pm.releaseConnection();
  }
  return result;
}

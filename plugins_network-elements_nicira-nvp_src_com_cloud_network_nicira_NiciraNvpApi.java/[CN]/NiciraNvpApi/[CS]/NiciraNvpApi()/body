{
  client=createHttpClient();
  client.getParams().setCookiePolicy(CookiePolicy.BROWSER_COMPATIBILITY);
  try {
    Protocol.registerProtocol("https",new Protocol("https",(ProtocolSocketFactory)new TrustingProtocolSocketFactory(),HTTPS_PORT));
  }
 catch (  IOException e) {
    s_logger.warn("Failed to register the TrustingProtocolSocketFactory, falling back to default SSLSocketFactory",e);
  }
  gson=new GsonBuilder().registerTypeAdapter(NatRule.class,new NatRuleAdapter()).setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create();
}

{
  List<GreTunnelVO> tunnels=_tunnelDao.getByFrom(from);
  if (tunnels.size() == 0) {
    return "[]";
  }
 else {
    Transaction txn=Transaction.currentTxn();
    txn.start();
    List<String> maps=new ArrayList<String>();
    for (    GreTunnelVO t : tunnels) {
      VlanMappingVO m=_vlanMappingDao.lockByAccountIdAndHostId(accountId,t.getTo());
      if (m == null) {
        s_logger.debug("Host " + t.getTo() + " has no VM for account "+ accountId+ ", skip it");
        continue;
      }
      String s=String.format("%1$s:%2$s",m.getVlan(),t.getInPort());
      maps.add(s);
    }
    txn.commit();
    return maps.toString();
  }
}

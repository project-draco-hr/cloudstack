{
  if (!_isEnabled) {
    return;
  }
switch (vmState) {
case Creating:
case Destroyed:
case Error:
case Migrating:
case Expunging:
case Starting:
case Unknown:
    return;
case Running:
  handleVmStateChange(userVm);
break;
case Stopping:
case Stopped:
checkAndRemove(userVm);
handleVmStateChange(userVm);
break;
}
}

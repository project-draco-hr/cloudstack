{
  if (!_isEnabled) {
    return;
  }
  DomainRouterVO router=_routerDao.findByNetworkConfiguration(nw.getId());
  if (router == null) {
    return;
  }
  long accountId=nw.getAccountId();
  if (!_vlanMappingDirtyDao.isDirty(accountId)) {
    return;
  }
  try {
    String vlans=getVlanMapping(accountId);
    _agentMgr.send(router.getHostId(),new OvsSetTagAndFlowCommand(router.getName(),vlans));
    s_logger.debug("ask router " + router.getName() + " on host "+ router.getHostId()+ " update vlan map to "+ vlans);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}

{
  String prodBrand=record.softwareVersion.get("product_brand").trim();
  String prodVersion=record.softwareVersion.get("product_version").trim();
  if (prodBrand.equals("XenCloudPlatform") && prodVersion.equals("0.1.1"))   return new XcpServerResource();
  if (prodBrand.equals("XenServer") && prodVersion.equals("5.6.0"))   return new XenServerResource();
  String msg="Only support XCP 0.1.1 and Xerver 5.6.0, but this one is " + prodBrand + " "+ prodVersion;
  _alertMgr.sendAlert(AlertManager.ALERT_TYPE_HOST,dcId,podId,msg,msg);
  s_logger.debug(msg);
  throw new RuntimeException(msg);
}

{
  long id=Long.parseLong(_currentObjectParams.get("id"));
  long domainId=Long.parseLong(_currentObjectParams.get("domainId"));
  String name=_currentObjectParams.get("name");
  String displayText=_currentObjectParams.get("displayText");
  int diskSpace=Integer.parseInt(_currentObjectParams.get("diskSpace"));
  String tags=_currentObjectParams.get("tags");
  if (tags != null && tags.length() > 0) {
    String[] tokens=tags.split(",");
    StringBuilder newTags=new StringBuilder();
    for (    String token : tokens) {
      newTags.append(token.trim()).append(",");
    }
    newTags.delete(newTags.length() - 1,newTags.length());
    tags=newTags.toString();
  }
  DiskOfferingVO diskOffering=new DiskOfferingVO(domainId,name,displayText,diskSpace,tags);
  DiskOfferingDaoImpl offering=ComponentLocator.inject(DiskOfferingDaoImpl.class);
  try {
    offering.persist(diskOffering);
  }
 catch (  Exception e) {
    s_logger.error("error creating disk offering",e);
  }
}

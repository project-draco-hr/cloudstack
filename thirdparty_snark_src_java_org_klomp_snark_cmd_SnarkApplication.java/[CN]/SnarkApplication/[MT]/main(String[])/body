{
  System.out.println(copyright);
  System.out.println();
  Snark snark=parseArguments(args,new ConsoleStorageReporter(),null);
  boolean interactive=true;
  boolean showPeers=false;
  for (  String arg : args) {
    if (arg.equals("--no-commands")) {
      interactive=false;
    }
    if (arg.equals("--show-peers") || arg.equals("--share")) {
      showPeers=true;
    }
  }
  ;
  ShutdownListener listener=new ShutdownListener(){
    public void shutdown(){
      System.exit(0);
    }
  }
;
  SnarkShutdown hook=new SnarkShutdown(snark,listener);
  Runtime.getRuntime().addShutdownHook(hook);
  try {
    snark.setupNetwork();
    snark.collectPieces();
  }
 catch (  IOException ioe) {
    System.exit(-1);
  }
  if (showPeers) {
    Timer timer=new Timer(true);
    TimerTask monitor=new PeerMonitorTask(snark.coordinator);
    timer.schedule(monitor,PeerMonitorTask.MONITOR_PERIOD,PeerMonitorTask.MONITOR_PERIOD);
  }
  if (interactive) {
    doInteractive(snark,hook);
  }
}

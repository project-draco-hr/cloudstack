{
  if (_ovsNetworkMgr.isOvsNetworkEnabled() || _tunnelMgr.isOvsTunnelEnabled()) {
    return null;
  }
  NetworkVO config=(NetworkVO)super.design(offering,plan,userSpecified,owner);
  if (config == null) {
    return null;
  }
 else   if (_networkMgr.networkIsConfiguredForExternalNetworking(plan.getDataCenterId(),config.getNetworkOfferingId())) {
    config.setState(State.Allocated);
  }
  return config;
}

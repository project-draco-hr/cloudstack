{
  NicProfile profile=super.allocate(config,nic,vm);
  if (_ovsNetworkMgr.isOvsNetworkEnabled() || _tunnelMgr.isOvsTunnelEnabled()) {
    return null;
  }
  if (_networkMgr.zoneIsConfiguredForExternalNetworking(config.getDataCenterId())) {
    profile.setStrategy(ReservationStrategy.Start);
    profile.setIp4Address(null);
    profile.setGateway(null);
    profile.setNetmask(null);
  }
  return profile;
}

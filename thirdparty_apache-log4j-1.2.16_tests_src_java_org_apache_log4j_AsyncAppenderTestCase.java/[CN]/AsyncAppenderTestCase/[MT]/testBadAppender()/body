{
  Appender nullPointerAppender=new NullPointerAppender();
  AsyncAppender asyncAppender=new AsyncAppender();
  asyncAppender.addAppender(nullPointerAppender);
  asyncAppender.setBufferSize(5);
  asyncAppender.activateOptions();
  Logger root=Logger.getRootLogger();
  root.addAppender(nullPointerAppender);
  try {
    root.info("Message");
    Thread.sleep(10);
    root.info("Message");
    fail("Should have thrown exception");
  }
 catch (  NullPointerException ex) {
  }
}

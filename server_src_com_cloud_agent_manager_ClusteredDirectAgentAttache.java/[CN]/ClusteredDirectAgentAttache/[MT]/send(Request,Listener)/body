{
  checkAvailability(req.getCommands());
  if (_transferMode) {
    long seq=req.getSequence();
    if (s_logger.isDebugEnabled()) {
      s_logger.debug(log(seq,"Holding request as the corresponding agent is in transfer mode: "));
    }
synchronized (this) {
      addRequest(req);
      return;
    }
  }
 else {
    super.send(req,listener);
  }
}

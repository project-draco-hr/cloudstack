{
  Long lbRuleId=cmd.getId();
  String name=cmd.getLoadBalancerName();
  String description=cmd.getDescription();
  String algorithm=cmd.getAlgorithm();
  LoadBalancerVO lb=_lbDao.findById(lbRuleId);
  if (name != null) {
    lb.setName(name);
  }
  if (description != null) {
    lb.setDescription(description);
  }
  if (algorithm != null) {
    lb.setAlgorithm(algorithm);
  }
  _lbDao.update(lbRuleId,lb);
  if (algorithm != null) {
    try {
      lb.setState(FirewallRule.State.Add);
      _lbDao.persist(lb);
      applyLoadBalancerConfig(lbRuleId);
    }
 catch (    ResourceUnavailableException e) {
      s_logger.warn("Unable to apply the load balancer config because resource is unavaliable.",e);
    }
  }
  return lb;
}

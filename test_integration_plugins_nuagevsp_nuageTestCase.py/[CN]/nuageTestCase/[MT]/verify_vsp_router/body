def verify_vsp_router(self, router, stopped=None):
    ext_router_id = self.get_externalID(router.id)
    vsd_router = self.vsd.get_vm(externalID=ext_router_id)
    self.debug('SHOW VIRTUAL ROUTER DATA FORMAT IN VSD')
    self.debug(vsd_router)
    if (not self.isSimulator):
        if stopped:
            self.assertEqual(vsd_router['status'], 'DELETE_PENDING', 'Router state in VSD should be DELETE_PENDING')
        else:
            self.assertEqual(vsd_router['status'], router.state.upper(), 'Router state in VSD should match its state in CloudStack')

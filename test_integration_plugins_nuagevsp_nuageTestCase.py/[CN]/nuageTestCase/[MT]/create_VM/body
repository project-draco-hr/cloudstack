def create_VM(self, network, vm_key='virtual_machine', host_id=None, start_vm=True):
    self.debug(('Creating VM in network with ID - %s' % network.id))
    self.debug(('Passed vm_key - %s' % vm_key))
    self.test_data[vm_key]['zoneid'] = self.zone.id
    self.test_data[vm_key]['template'] = self.template.id
    vm = VirtualMachine.create(self.api_client, self.test_data[vm_key], accountid=self.account.name, domainid=self.account.domainid, serviceofferingid=self.service_offering.id, networkids=[str(network.id)], startvm=start_vm, hostid=host_id)
    self.debug(('Created VM with ID - %s in network with ID - %s' % (vm.id, network.id)))
    self.cleanup.append(vm)
    return vm

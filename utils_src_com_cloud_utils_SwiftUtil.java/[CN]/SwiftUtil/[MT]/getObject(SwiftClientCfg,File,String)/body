{
  int firstIndexOfSeparator=swiftPath.indexOf(File.separator);
  String container=swiftPath.substring(0,firstIndexOfSeparator);
  String srcPath=swiftPath.substring(firstIndexOfSeparator + 1);
  String destFilePath=null;
  if (destDirectory.isDirectory()) {
    destFilePath=destDirectory.getAbsolutePath() + File.separator + srcPath;
  }
 else {
    destFilePath=destDirectory.getAbsolutePath();
  }
  String swiftCli=getSwiftCLIPath();
  Script command=new Script("/bin/bash",logger);
  command.add("-c");
  command.add("/usr/bin/python " + swiftCli + " -A "+ cfg.getEndPoint()+ " -U "+ cfg.getAccount()+ ":"+ cfg.getUserName()+ " -K "+ cfg.getKey()+ " download "+ container+ " "+ srcPath+ " -o "+ destFilePath);
  OutputInterpreter.AllLinesParser parser=new OutputInterpreter.AllLinesParser();
  String result=command.execute(parser);
  if (result != null) {
    String errMsg="swiftDownload failed  err=" + result;
    logger.debug(errMsg);
    throw new CloudRuntimeException("failed to get object: " + swiftPath);
  }
  if (parser.getLines() != null) {
    String[] lines=parser.getLines().split("\\n");
    for (    String line : lines) {
      if (line.contains("Errno") || line.contains("failed")) {
        String errMsg="swiftDownload failed , err=" + Arrays.toString(lines);
        logger.debug(errMsg);
        throw new CloudRuntimeException("Failed to get object: " + swiftPath);
      }
    }
  }
  return new File(destFilePath);
}

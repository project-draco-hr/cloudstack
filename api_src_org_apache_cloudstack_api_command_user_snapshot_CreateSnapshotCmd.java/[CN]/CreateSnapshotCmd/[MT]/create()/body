{
  Snapshot snapshot=this._volumeService.allocSnapshot(getVolumeId(),getPolicyId());
  if (snapshot != null) {
    this.setEntityId(snapshot.getId());
    this.setEntityUuid(snapshot.getUuid());
  }
 else {
    throw new ServerApiException(ApiErrorCode.INTERNAL_ERROR,"Failed to create snapshot");
  }
}

{
  boolean success=false;
  StaticRoute route=_entityMgr.findById(StaticRoute.class,getEntityId());
  try {
    UserContext.current().setEventDetails("Static route Id: " + getEntityId());
    success=_vpcService.applyStaticRoutes(route.getVpcId());
    route=_entityMgr.findById(StaticRoute.class,getEntityId());
    StaticRouteResponse routeResponse=new StaticRouteResponse();
    if (route != null) {
      routeResponse=_responseGenerator.createStaticRouteResponse(route);
      setResponseObject(routeResponse);
    }
    routeResponse.setResponseName(getCommandName());
  }
  finally {
    if (!success || route == null) {
      _vpcService.revokeStaticRoute(getEntityId());
      throw new ServerApiException(ApiErrorCode.INTERNAL_ERROR,"Failed to create static route");
    }
  }
}

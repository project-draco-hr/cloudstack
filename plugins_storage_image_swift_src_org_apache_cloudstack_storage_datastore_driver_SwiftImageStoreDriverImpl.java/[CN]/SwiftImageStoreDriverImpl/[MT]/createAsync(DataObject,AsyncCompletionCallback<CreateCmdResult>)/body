{
  CreateContext<CreateCmdResult> context=new CreateContext<CreateCmdResult>(callback,data);
  AsyncCallbackDispatcher<SwiftImageStoreDriverImpl,DownloadAnswer> caller=AsyncCallbackDispatcher.create(this);
  caller.setContext(context);
  caller.setCallback(caller.getTarget().createAsyncCallback(null,null));
  if (data.getType() == DataObjectType.TEMPLATE) {
    TemplateObject tData=(TemplateObject)data;
    _downloadMonitor.downloadTemplateToStorage(tData,tData.getDataStore(),caller);
  }
 else   if (data.getType() == DataObjectType.VOLUME) {
    VolumeObject volInfo=(VolumeObject)data;
    RegisterVolumePayload payload=(RegisterVolumePayload)volInfo.getpayload();
    _downloadMonitor.downloadVolumeToStorage(volInfo,volInfo.getDataStore(),payload.getUrl(),payload.getChecksum(),ImageFormat.valueOf(payload.getFormat().toUpperCase()),caller);
  }
}

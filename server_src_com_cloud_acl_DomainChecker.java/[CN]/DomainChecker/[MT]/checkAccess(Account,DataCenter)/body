{
  if (account == null || zone.getDomainId() == null) {
    return true;
  }
 else {
    if (_accountService.isRootAdmin(account.getId())) {
      return true;
    }
 else     if (_accountService.isNormalUser(account.getId()) || account.getType() == Account.ACCOUNT_TYPE_PROJECT) {
      DedicatedResourceVO dedicatedZone=_dedicatedDao.findByZoneId(zone.getId());
      if (dedicatedZone != null) {
        if (dedicatedZone.getAccountId() != null) {
          if (dedicatedZone.getAccountId() == account.getId()) {
            return true;
          }
 else {
            return false;
          }
        }
      }
      if (account.getDomainId() == zone.getDomainId()) {
        return true;
      }
 else {
        Domain domainRecord=_domainDao.findById(account.getDomainId());
        if (domainRecord != null) {
          while (true) {
            if (domainRecord.getId() == zone.getDomainId()) {
              return true;
            }
            if (domainRecord.getParent() != null) {
              domainRecord=_domainDao.findById(domainRecord.getParent());
            }
 else {
              break;
            }
          }
        }
      }
      return false;
    }
 else     if (_accountService.isDomainAdmin(account.getId())) {
      if (account.getDomainId() == zone.getDomainId()) {
        return true;
      }
 else {
        Domain zoneDomainRecord=_domainDao.findById(zone.getDomainId());
        Domain accountDomainRecord=_domainDao.findById(account.getDomainId());
        if (accountDomainRecord != null) {
          Domain localRecord=accountDomainRecord;
          while (true) {
            if (localRecord.getId() == zone.getDomainId()) {
              return true;
            }
            if (localRecord.getParent() != null) {
              localRecord=_domainDao.findById(localRecord.getParent());
            }
 else {
              break;
            }
          }
        }
        if (zoneDomainRecord.getPath().contains(accountDomainRecord.getPath())) {
          return true;
        }
      }
      return false;
    }
  }
  return false;
}

{
  if (vm.getHypervisorType() != HypervisorType.BareMetal) {
    if (_allocationAlgorithm != null) {
      if (_allocationAlgorithm.equals(AllocationAlgorithm.random.toString()) || _allocationAlgorithm.equals(AllocationAlgorithm.firstfit.toString())) {
        return "FirstFitPlanner";
      }
 else       if (_allocationAlgorithm.equals(AllocationAlgorithm.userdispersing.toString())) {
        return "UserDispersingPlanner";
      }
 else       if (_allocationAlgorithm.equals(AllocationAlgorithm.userconcentratedpod_random.toString()) || _allocationAlgorithm.equals(AllocationAlgorithm.userconcentratedpod_firstfit.toString())) {
        return "UserConcentratedPodPlanner";
      }
    }
 else {
      if (s_logger.isDebugEnabled()) {
        s_logger.debug("The allocation algorithm is null, cannot select the planner");
      }
    }
  }
  return null;
}

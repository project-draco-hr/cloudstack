{
  deployment.routers=new ArrayList<>();
  final DomainRouterVO routerVO1=mock(DomainRouterVO.class);
  deployment.routers.add(routerVO1);
  when(routerVO1.getIsRedundantRouter()).thenReturn(true);
  when(routerVO1.getState()).thenReturn(VirtualMachine.State.Stopped);
  final DomainRouterVO routerVO2=mock(DomainRouterVO.class);
  deployment.routers.add(routerVO2);
  when(routerVO2.getIsRedundantRouter()).thenReturn(true);
  when(routerVO2.getState()).thenReturn(VirtualMachine.State.Running);
  when(mockNw.isRedundant()).thenReturn(true);
  deployment.setupPriorityOfRedundantRouter();
  verify(routerVO1,times(0)).setPriority(anyInt());
  verify(routerVO1,times(0)).setIsPriorityBumpUp(anyBoolean());
  verify(mockRouterDao,times(0)).update(anyLong(),(DomainRouterVO)anyObject());
}

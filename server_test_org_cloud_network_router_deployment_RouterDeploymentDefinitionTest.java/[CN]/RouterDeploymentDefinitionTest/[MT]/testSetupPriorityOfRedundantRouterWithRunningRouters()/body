{
  this.deployment.routers=new ArrayList<>();
  final DomainRouterVO routerVO1=mock(DomainRouterVO.class);
  this.deployment.routers.add(routerVO1);
  when(routerVO1.getIsRedundantRouter()).thenReturn(true);
  when(routerVO1.getState()).thenReturn(VirtualMachine.State.Stopped);
  final DomainRouterVO routerVO2=mock(DomainRouterVO.class);
  this.deployment.routers.add(routerVO2);
  when(routerVO2.getIsRedundantRouter()).thenReturn(true);
  when(routerVO2.getState()).thenReturn(VirtualMachine.State.Running);
  this.deployment.isRedundant=true;
  this.deployment.setupPriorityOfRedundantRouter();
  verify(routerVO1,times(0)).setPriority(anyInt());
  verify(routerVO1,times(0)).setIsPriorityBumpUp(anyBoolean());
  verify(this.mockRouterDao,times(0)).update(anyLong(),(DomainRouterVO)anyObject());
}

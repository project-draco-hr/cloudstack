{
  when(this.mockNetworkModel.getPhysicalNetworkId(this.deployment.guestNetwork)).thenReturn(PHYSICAL_NW_ID);
  Type type=Type.VirtualRouter;
  PhysicalNetworkServiceProviderVO physicalNwSrvProvider=mock(PhysicalNetworkServiceProviderVO.class);
  when(this.physicalProviderDao.findByServiceProvider(PHYSICAL_NW_ID,type.toString())).thenReturn(physicalNwSrvProvider);
  when(physicalNwSrvProvider.getId()).thenReturn(PROVIDER_ID);
  when(this.mockVrProviderDao.findByNspIdAndType(PROVIDER_ID,type)).thenReturn(null);
  this.deployment.findVirtualProvider();
}

{
  final PublicIp sourceNatIp=mock(PublicIp.class);
  when(mockIpAddrMgr.assignSourceNatIpAddressToGuestNetwork(mockOwner,mockNw)).thenReturn(sourceNatIp);
  deployment.isPublicNetwork=true;
  assertNull(deployment.sourceNatIp);
  deployment.findSourceNatIP();
  assertEquals("SourceNatIP was not correctly found and set",sourceNatIp,deployment.sourceNatIp);
}

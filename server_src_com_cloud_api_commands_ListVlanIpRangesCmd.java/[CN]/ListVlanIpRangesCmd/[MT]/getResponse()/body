{
  List<VlanVO> vlans=(List<VlanVO>)getResponseObject();
  ListResponse<VlanIpRangeResponse> response=new ListResponse<VlanIpRangeResponse>();
  List<VlanIpRangeResponse> vlanResponses=new ArrayList<VlanIpRangeResponse>();
  for (  VlanVO vlan : vlans) {
    Long accountId=ApiDBUtils.getAccountIdForVlan(vlan.getId());
    Long podId=ApiDBUtils.getPodIdForVlan(vlan.getId());
    VlanIpRangeResponse vlanResponse=new VlanIpRangeResponse();
    vlanResponse.setId(vlan.getId());
    vlanResponse.setForVirtualNetwork(vlan.getVlanType().equals(VlanType.VirtualNetwork));
    vlanResponse.setVlan(vlan.getVlanId());
    vlanResponse.setZoneId(vlan.getDataCenterId());
    if (accountId != null) {
      Account account=ApiDBUtils.findAccountById(accountId);
      vlanResponse.setAccountName(account.getAccountName());
      vlanResponse.setDomainId(account.getDomainId());
      vlanResponse.setDomainName(ApiDBUtils.findDomainById(account.getDomainId()).getName());
    }
    if (podId != null) {
      HostPodVO pod=ApiDBUtils.findPodById(podId);
      vlanResponse.setPodId(podId);
      vlanResponse.setPodName(pod.getName());
    }
    vlanResponse.setGateway(vlan.getVlanGateway());
    vlanResponse.setNetmask(vlan.getVlanNetmask());
    vlanResponse.setDescription(vlan.getIpRange());
    vlanResponse.setResponseName("vlaniprange");
    vlanResponses.add(vlanResponse);
  }
  response.setResponses(vlanResponses);
  response.setResponseName(getName());
  return response;
}

def configureProviders(self, providers, zoneid):
    for prov in providers:
        pnets = listPhysicalNetworks.listPhysicalNetworksCmd()
        pnets.zoneid = zoneid
        pnets.state = 'Disabled'
        pnetsresponse = self.apiClient.listPhysicalNetworks(pnets)
        pnetid = pnetsresponse[0].id
        upnet = updatePhysicalNetwork.updatePhysicalNetworkCmd()
        upnet.state = 'Enabled'
        upnet.id = pnetid
        upnet.vlan = prov.vlan
        upnetresponse = self.apiClient.updatePhysicalNetwork(upnet)
        pnetprov = listNetworkServiceProviders.listNetworkServiceProvidersCmd()
        pnetprov.physicalnetworkid = pnetid
        pnetprov.state = 'Disabled'
        pnetprovresponse = self.apiClient.listNetworkServiceProviders(pnetprov)
        pnetprovid = pnetprovresponse[0].id
        upnetprov = updateNetworkServiceProvider.updateNetworkServiceProviderCmd()
        upnetprov.id = pnetprovid
        upnetprov.state = 'Enabled'
        upnetprovresponse = self.apiClient.updateNetworkServiceProvider(upnetprov)
        vrprov = listVirtualRouterElements.listVirtualRouterElementsCmd()
        vrprov.nspid = pnetprovid
        vrprovresponse = self.apiClient.listVirtualRouterElements(vrprov)
        vrprovid = vrprovresponse[0].id
        vrconfig = configureVirtualRouterElement.configureVirtualRouterElementCmd()
        vrconfig.enabled = 'true'
        vrconfig.id = vrprovid
        vrconfigresponse = self.apiClient.configureVirtualRouterElement(vrconfig)

{
  Connection conn=getConnection();
  String hostuuid=cmd.getHostuuid();
  try {
    Map<Host,Host.Record> hostrs=Host.getAllRecords(conn);
    boolean found=false;
    for (    Host.Record hr : hostrs.values()) {
      if (hr.uuid.equals(hostuuid)) {
        found=true;
      }
    }
    if (!found) {
      s_logger.debug("host " + hostuuid + " has already been ejected from pool "+ _host.pool);
      return new Answer(cmd);
    }
    Host host=Host.getByUuid(conn,hostuuid);
    Host.Record hr=host.getRecord(conn);
    Iterator<String> it=hr.tags.iterator();
    while (it.hasNext()) {
      String tag=it.next();
      if (tag.startsWith("vmops-version-")) {
        it.remove();
      }
    }
    Pool.eject(conn,host);
    return new Answer(cmd);
  }
 catch (  XenAPIException e) {
    String msg="Unable to eject host " + _host.uuid + " due to "+ e.toString();
    s_logger.warn(msg,e);
    return new Answer(cmd,false,msg);
  }
catch (  Exception e) {
    s_logger.warn("Unable to eject host " + _host.uuid,e);
    String msg="Unable to eject host " + _host.uuid + " due to "+ e.getMessage();
    s_logger.warn(msg,e);
    return new Answer(cmd,false,msg);
  }
}

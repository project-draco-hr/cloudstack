{
  Connection conn=getConnection();
  StorageFilerTO pool=cmd.getPool();
  try {
    SR sr=getStorageRepository(conn,pool);
    setupHeartbeatSr(conn,sr,false);
    long capacity=sr.getPhysicalSize(conn);
    long available=capacity - sr.getPhysicalUtilisation(conn);
    if (capacity == -1) {
      String msg="Pool capacity is -1! pool: " + pool.getHost() + pool.getPath();
      s_logger.warn(msg);
      return new Answer(cmd,false,msg);
    }
    Map<String,TemplateInfo> tInfo=new HashMap<String,TemplateInfo>();
    ModifyStoragePoolAnswer answer=new ModifyStoragePoolAnswer(cmd,capacity,available,tInfo);
    return answer;
  }
 catch (  XenAPIException e) {
    String msg="ModifyStoragePoolCommand XenAPIException:" + e.toString() + " host:"+ _host.uuid+ " pool: "+ pool.getHost()+ pool.getPath();
    s_logger.warn(msg,e);
    return new Answer(cmd,false,msg);
  }
catch (  Exception e) {
    String msg="ModifyStoragePoolCommand XenAPIException:" + e.getMessage() + " host:"+ _host.uuid+ " pool: "+ pool.getHost()+ pool.getPath();
    s_logger.warn(msg,e);
    return new Answer(cmd,false,msg);
  }
}

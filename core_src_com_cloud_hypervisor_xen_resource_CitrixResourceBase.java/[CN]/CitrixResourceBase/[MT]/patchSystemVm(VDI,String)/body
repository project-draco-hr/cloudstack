{
  if (vmName.startsWith("r-")) {
    return patchSpecialVM(vdi,vmName,"router");
  }
 else   if (vmName.startsWith("v-")) {
    return patchSpecialVM(vdi,vmName,"consoleproxy");
  }
 else   if (vmName.startsWith("s-")) {
    return patchSpecialVM(vdi,vmName,"secstorage");
  }
 else {
    throw new CloudRuntimeException("Tried to patch unknown type of system vm");
  }
}

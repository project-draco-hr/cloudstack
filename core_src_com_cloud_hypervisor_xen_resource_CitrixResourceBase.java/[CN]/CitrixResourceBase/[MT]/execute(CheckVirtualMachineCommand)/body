{
  Connection conn=getConnection();
  final String vmName=cmd.getVmName();
  final State state=getVmState(conn,vmName);
  Integer vncPort=null;
  if (state == State.Running) {
synchronized (_vms) {
      _vms.put(_cluster,_name,vmName,State.Running);
    }
  }
  return new CheckVirtualMachineAnswer(cmd,state,vncPort);
}

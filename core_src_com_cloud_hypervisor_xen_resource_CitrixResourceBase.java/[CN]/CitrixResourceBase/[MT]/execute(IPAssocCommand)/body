{
  Connection conn=getConnection();
  try {
    assignPublicIpAddress(conn,cmd.getRouterName(),cmd.getRouterIp(),cmd.getPublicIp(),cmd.isAdd(),cmd.isFirstIP(),cmd.isSourceNat(),cmd.getVlanId(),cmd.getVlanGateway(),cmd.getVlanNetmask(),cmd.getVifMacAddress(),cmd.getGuestIp());
  }
 catch (  InternalErrorException e) {
    return new Answer(cmd,false,e.getMessage());
  }
  return new Answer(cmd);
}

{
  try {
    Set<VIF> routerVIFs=router.getVIFs(conn);
    for (    VIF vif : routerVIFs) {
      Network vifNetwork=vif.getNetwork(conn);
      if (vlanId.equalsIgnoreCase(Vlan.UNTAGGED)) {
        if (vifNetwork.getUuid(conn).equals(_host.publicNetwork)) {
          return vif;
        }
      }
 else {
        if (vifNetwork.getNameLabel(conn).equals("VLAN" + vlanId)) {
          return vif;
        }
      }
    }
  }
 catch (  XmlRpcException e) {
    String msg="Caught XmlRpcException: " + e.getMessage();
    s_logger.warn(msg,e);
  }
catch (  XenAPIException e) {
    String msg="Caught XenAPIException: " + e.toString();
    s_logger.warn(msg,e);
  }
  return null;
}

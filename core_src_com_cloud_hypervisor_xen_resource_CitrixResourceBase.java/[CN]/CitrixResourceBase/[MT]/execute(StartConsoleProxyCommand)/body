{
  final String vmName=cmd.getVmName();
  final ConsoleProxyVO proxy=cmd.getProxy();
  try {
    Connection conn=getConnection();
    Network network=Network.getByUuid(conn,_host.privateNetwork);
    String bootArgs=cmd.getBootArgs();
    bootArgs+=" zone=" + _dcId;
    bootArgs+=" pod=" + _pod;
    bootArgs+=" guid=Proxy." + proxy.getId();
    bootArgs+=" proxy_vm=" + proxy.getId();
    bootArgs+=" localgw=" + _localGateway;
    String result=startSystemVM(vmName,proxy.getVlanId(),network,cmd.getVolumes(),bootArgs,proxy.getGuestMacAddress(),proxy.getGuestIpAddress(),proxy.getPrivateMacAddress(),proxy.getPublicMacAddress(),cmd.getProxyCmdPort(),proxy.getRamSize(),cmd.getGuestOSDescription(),cmd.getNetworkRateMbps());
    if (result == null) {
      return new StartConsoleProxyAnswer(cmd);
    }
    return new StartConsoleProxyAnswer(cmd,result);
  }
 catch (  Exception e) {
    String msg="Exception caught while starting router vm " + vmName + " due to "+ e.getMessage();
    s_logger.warn(msg,e);
    return new StartConsoleProxyAnswer(cmd,msg);
  }
}

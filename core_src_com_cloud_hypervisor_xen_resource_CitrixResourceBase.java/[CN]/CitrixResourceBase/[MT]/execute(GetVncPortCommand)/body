{
  Connection conn=getConnection();
  try {
    Set<VM> vms=VM.getByNameLabel(conn,cmd.getName());
    return new GetVncPortAnswer(cmd,getVncPort(conn,vms.iterator().next()));
  }
 catch (  XenAPIException e) {
    s_logger.warn("Unable to get vnc port " + e.toString(),e);
    return new GetVncPortAnswer(cmd,e.toString());
  }
catch (  Exception e) {
    s_logger.warn("Unable to get vnc port ",e);
    return new GetVncPortAnswer(cmd,e.getMessage());
  }
}

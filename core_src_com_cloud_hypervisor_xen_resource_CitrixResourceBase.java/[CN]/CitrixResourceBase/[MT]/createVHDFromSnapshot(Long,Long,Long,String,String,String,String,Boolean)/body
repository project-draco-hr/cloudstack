{
  String vdiUUID=null;
  String failureString="Could not create volume from " + backedUpSnapshotUuid;
  templatePath=(templatePath == null) ? "" : templatePath;
  String results=callHostPluginWithTimeOut("vmopsSnapshot","createVolumeFromSnapshot",110 * 60,"dcId",dcId.toString(),"accountId",accountId.toString(),"volumeId",volumeId.toString(),"secondaryStorageMountPath",secondaryStorageMountPath,"backedUpSnapshotUuid",backedUpSnapshotUuid,"templatePath",templatePath,"templateDownloadFolder",templateDownloadFolder,"isISCSI",isISCSI.toString());
  if (results == null || results.isEmpty()) {
    return null;
  }
  String[] tmp=results.split("#");
  String status=tmp[0];
  vdiUUID=tmp[1];
  Long virtualSizeInMB=0L;
  if (tmp.length == 3) {
    virtualSizeInMB=Long.valueOf(tmp[2]);
  }
  if (status != null && status.equalsIgnoreCase("1") && vdiUUID != null) {
    s_logger.debug("Successfully created vhd file with all data on secondary storage : " + vdiUUID);
  }
 else {
    s_logger.debug(failureString + ". Failed with status " + status+ " with vdiUuid "+ vdiUUID);
  }
  return new VHDInfo(vdiUUID,virtualSizeInMB * MB);
}

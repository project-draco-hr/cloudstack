{
  try {
    vm.cleanShutdown(conn);
  }
 catch (  Types.XenAPIException e) {
    s_logger.debug("Unable to cleanShutdown VM(" + vmName + ") on host("+ _host.uuid+ ") due to "+ e.toString()+ ", try hard shutdown");
    try {
      vm.hardShutdown(conn);
    }
 catch (    Exception e1) {
      String msg="Unable to hardShutdown VM(" + vmName + ") on host("+ _host.uuid+ ") due to "+ e.toString();
      s_logger.warn(msg,e1);
      throw new CloudRuntimeException(msg);
    }
  }
}

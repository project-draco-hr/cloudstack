{
  disconnected();
  setupServer();
  if (!getHostInfo()) {
    s_logger.warn("Unable to get host information for " + _host.ip);
    return null;
  }
  StartupRoutingCommand cmd=new StartupRoutingCommand();
  fillHostInfo(cmd);
  cleanupDiskMounts();
  Map<String,State> changes=null;
synchronized (_vms) {
    _vms.clear();
    changes=sync();
  }
  cmd.setHypervisorType(HypervisorType.XenServer);
  cmd.setChanges(changes);
  cmd.setCluster(_cluster);
  StartupStorageCommand sscmd=initializeLocalSR();
  if (sscmd != null) {
    getPVISO(sscmd);
    return new StartupCommand[]{cmd,sscmd};
  }
  return new StartupCommand[]{cmd};
}

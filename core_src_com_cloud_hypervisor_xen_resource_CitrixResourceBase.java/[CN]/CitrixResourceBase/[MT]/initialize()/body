{
  Connection conn=getConnection();
  if (!getHostInfo(conn)) {
    s_logger.warn("Unable to get host information for " + _host.ip);
    return null;
  }
  StartupRoutingCommand cmd=new StartupRoutingCommand();
  fillHostInfo(conn,cmd);
  fullHostSync(cmd,conn);
  cmd.setHypervisorType(HypervisorType.XenServer);
  cmd.setCluster(_cluster);
  cmd.setPoolSync(true);
  StartupStorageCommand sscmd=initializeLocalSR(conn);
  if (sscmd != null) {
    return new StartupCommand[]{cmd,sscmd};
  }
  return new StartupCommand[]{cmd};
}

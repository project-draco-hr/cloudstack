{
  DataTO srcData=cmd.getSrcTO();
  DataTO destData=cmd.getDestTO();
  DataStoreTO srcDataStore=srcData.getDataStore();
  DataStoreTO destDataStore=destData.getDataStore();
  if (srcData.getObjectType() == DataObjectType.TEMPLATE && (srcData.getDataStore().getRole() == DataStoreRole.Image || srcData.getDataStore().getRole() == DataStoreRole.ImageCache) && destData.getDataStore().getRole() == DataStoreRole.Primary) {
    return processor.copyTemplateToPrimaryStorage(cmd);
  }
 else   if (srcData.getObjectType() == DataObjectType.TEMPLATE && srcDataStore.getRole() == DataStoreRole.Primary && destDataStore.getRole() == DataStoreRole.Primary) {
    return processor.cloneVolumeFromBaseTemplate(cmd);
  }
 else   if (srcData.getObjectType() == DataObjectType.VOLUME && (srcData.getDataStore().getRole() == DataStoreRole.ImageCache || srcDataStore.getRole() == DataStoreRole.Image)) {
    return processor.copyVolumeFromImageCacheToPrimary(cmd);
  }
 else   if (srcData.getObjectType() == DataObjectType.VOLUME && srcData.getDataStore().getRole() == DataStoreRole.Primary) {
    if (destData.getObjectType() == DataObjectType.VOLUME) {
      return processor.copyVolumeFromPrimaryToSecondary(cmd);
    }
 else     if (destData.getObjectType() == DataObjectType.TEMPLATE) {
      return processor.createTemplateFromVolume(cmd);
    }
  }
 else   if (srcData.getObjectType() == DataObjectType.SNAPSHOT && destData.getObjectType() == DataObjectType.SNAPSHOT && srcData.getDataStore().getRole() == DataStoreRole.Primary) {
    return processor.backupSnapshot(cmd);
  }
 else   if (srcData.getObjectType() == DataObjectType.SNAPSHOT && destData.getObjectType() == DataObjectType.VOLUME) {
    return processor.createVolumeFromSnapshot(cmd);
  }
 else   if (srcData.getObjectType() == DataObjectType.SNAPSHOT && destData.getObjectType() == DataObjectType.TEMPLATE) {
    return processor.createTemplateFromSnapshot(cmd);
  }
  return new Answer(cmd,false,"not implemented yet");
}

{
  DomainRouterVO router=_routerDao.findById(routerId);
  String privateIp=vm.getPrivateIpAddress();
  String routerPrivateIp=router.getPrivateIpAddress();
  List<HostVO> otherHosts=findHostByPod(router.getPodId(),null);
  for (  HostVO otherHost : otherHosts) {
    try {
      Answer pingTestAnswer=_agentMgr.send(otherHost.getId(),new PingTestCommand(routerPrivateIp,privateIp),30 * 1000);
      if (pingTestAnswer.getResult()) {
        if (s_logger.isDebugEnabled()) {
          s_logger.debug("user vm " + vm.getName() + " has been successfully pinged, returning that it is alive");
        }
        return Boolean.TRUE;
      }
    }
 catch (    AgentUnavailableException e) {
      if (s_logger.isDebugEnabled()) {
        s_logger.debug("Couldn't reach " + e.getAgentId());
      }
      continue;
    }
catch (    OperationTimedoutException e) {
      if (s_logger.isDebugEnabled()) {
        s_logger.debug("Operation timed out: " + e.getMessage());
      }
      continue;
    }
  }
  if (s_logger.isDebugEnabled()) {
    s_logger.debug("user vm " + vm.getName() + " could not be pinged, returning that it is unknown");
  }
  return null;
}

{
  try {
    Answer pingTestAnswer=_agentMgr.send(hostId,new PingTestCommand(testHostIp),30 * 1000);
    if (pingTestAnswer == null) {
      if (s_logger.isDebugEnabled()) {
        s_logger.debug("host (" + testHostIp + ") returns null answer");
      }
      return null;
    }
    if (pingTestAnswer.getResult()) {
      if (s_logger.isDebugEnabled()) {
        s_logger.debug("host (" + testHostIp + ") has been successfully pinged, returning that host is up");
      }
      return Status.Up;
    }
 else {
      if (pingTestAnswer.getDetails().startsWith("Unable to ping default route")) {
        if (s_logger.isDebugEnabled()) {
          s_logger.debug("host (" + hostId + ") cannot ping default route, returning 'I don't know'");
        }
        return null;
      }
      if (s_logger.isDebugEnabled()) {
        s_logger.debug("host (" + testHostIp + ") cannot be pinged, returning that host is down");
      }
      return Status.Down;
    }
  }
 catch (  AgentUnavailableException e) {
    return null;
  }
catch (  OperationTimedoutException e) {
    return null;
  }
}

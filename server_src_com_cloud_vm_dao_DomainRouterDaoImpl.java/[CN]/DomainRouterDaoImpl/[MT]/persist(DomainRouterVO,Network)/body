{
  Transaction txn=Transaction.currentTxn();
  txn.start();
  DomainRouterVO newRouter=super.persist(router);
  addRouterToNetwork(router.getId(),guestNetwork);
  UserStatisticsVO stats=_userStatsDao.findBy(router.getAccountId(),router.getDataCenterIdToDeployIn(),guestNetwork.getId(),null,router.getId(),router.getType().toString());
  if (stats == null) {
    stats=new UserStatisticsVO(router.getAccountId(),router.getDataCenterIdToDeployIn(),null,router.getId(),router.getType().toString(),guestNetwork.getId());
    _userStatsDao.persist(stats);
  }
  txn.commit();
  return newRouter;
}

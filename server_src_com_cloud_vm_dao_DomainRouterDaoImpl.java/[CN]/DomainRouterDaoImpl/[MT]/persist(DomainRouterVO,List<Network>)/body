{
  Transaction txn=Transaction.currentTxn();
  txn.start();
  DomainRouterVO newRouter=super.persist(router);
  if (guestNetworks != null && !guestNetworks.isEmpty()) {
    for (    Network guestNetwork : guestNetworks) {
      addRouterToNetwork(router,guestNetwork);
    }
  }
  txn.commit();
  return newRouter;
}

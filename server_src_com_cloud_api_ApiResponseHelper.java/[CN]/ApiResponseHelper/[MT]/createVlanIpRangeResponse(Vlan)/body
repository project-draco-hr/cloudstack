{
  Long podId=ApiDBUtils.getPodIdForVlan(vlan.getId());
  VlanIpRangeResponse vlanResponse=new VlanIpRangeResponse();
  vlanResponse.setId(vlan.getId());
  vlanResponse.setForVirtualNetwork(vlan.getVlanType().equals(VlanType.VirtualNetwork));
  vlanResponse.setVlan(vlan.getVlanId());
  vlanResponse.setZoneId(vlan.getDataCenterId());
  if (podId != null) {
    HostPodVO pod=ApiDBUtils.findPodById(podId);
    vlanResponse.setPodId(podId);
    vlanResponse.setPodName(pod.getName());
  }
  vlanResponse.setGateway(vlan.getVlanGateway());
  vlanResponse.setNetmask(vlan.getVlanNetmask());
  String ipRange=vlan.getIpRange();
  String[] range=ipRange.split("-");
  vlanResponse.setStartIp(range[0]);
  vlanResponse.setEndIp(range[1]);
  Long networkId=vlan.getNetworkId();
  if (networkId != null) {
    vlanResponse.setNetworkId(vlan.getNetworkId());
    Network network=ApiDBUtils.findNetworkById(networkId);
    if (network != null) {
      Long accountId=network.getAccountId();
      if (accountId != null) {
        Account account=ApiDBUtils.findAccountById(accountId);
        vlanResponse.setAccountName(account.getAccountName());
        vlanResponse.setDomainId(account.getDomainId());
        vlanResponse.setDomainName(ApiDBUtils.findDomainById(account.getDomainId()).getName());
      }
    }
  }
  vlanResponse.setObjectName("vlan");
  return vlanResponse;
}

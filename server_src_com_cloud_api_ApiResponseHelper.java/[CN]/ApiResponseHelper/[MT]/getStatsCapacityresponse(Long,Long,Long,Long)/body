{
  List<CapacityVO> capacities=new ArrayList<CapacityVO>();
  capacities.add(ApiDBUtils.getStoragePoolUsedStats(poolId,clusterId,podId,zoneId));
  if (clusterId == null && podId == null) {
    capacities.add(ApiDBUtils.getSecondaryStorageUsedStats(poolId,zoneId));
  }
  List<CapacityResponse> capacityResponses=new ArrayList<CapacityResponse>();
  for (  CapacityVO capacity : capacities) {
    CapacityResponse capacityResponse=new CapacityResponse();
    capacityResponse.setCapacityType(capacity.getCapacityType());
    capacityResponse.setCapacityUsed(capacity.getUsedCapacity());
    capacityResponse.setCapacityTotal(capacity.getTotalCapacity());
    capacityResponses.add(capacityResponse);
  }
  return capacityResponses;
}

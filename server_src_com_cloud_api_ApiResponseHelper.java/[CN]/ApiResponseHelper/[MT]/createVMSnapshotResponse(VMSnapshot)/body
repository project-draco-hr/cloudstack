{
  VMSnapshotResponse vmSnapshotResponse=new VMSnapshotResponse();
  vmSnapshotResponse.setId(vmSnapshot.getUuid());
  vmSnapshotResponse.setName(vmSnapshot.getName());
  vmSnapshotResponse.setState(vmSnapshot.getState());
  vmSnapshotResponse.setCreated(vmSnapshot.getCreated());
  vmSnapshotResponse.setDescription(vmSnapshot.getDescription());
  vmSnapshotResponse.setDisplayName(vmSnapshot.getDisplayName());
  UserVm vm=ApiDBUtils.findUserVmById(vmSnapshot.getVmId());
  if (vm != null)   vmSnapshotResponse.setVirtualMachineid(vm.getUuid());
  if (vmSnapshot.getParent() != null)   vmSnapshotResponse.setParentName(ApiDBUtils.getVMSnapshotById(vmSnapshot.getParent()).getDisplayName());
  vmSnapshotResponse.setCurrent(vmSnapshot.getCurrent());
  vmSnapshotResponse.setType(vmSnapshot.getType().toString());
  return vmSnapshotResponse;
}

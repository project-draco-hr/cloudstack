{
  SnapshotResponse snapshotResponse=new SnapshotResponse();
  snapshotResponse.setId(snapshot.getId());
  Account acct=ApiDBUtils.findAccountById(Long.valueOf(snapshot.getAccountId()));
  if (acct != null) {
    snapshotResponse.setAccountName(acct.getAccountName());
    snapshotResponse.setDomainId(acct.getDomainId());
    snapshotResponse.setDomainName(ApiDBUtils.findDomainById(acct.getDomainId()).getName());
  }
  VolumeVO volume=findVolumeById(snapshot.getVolumeId());
  String snapshotTypeStr=Type.values()[snapshot.getSnapshotType()].name();
  snapshotResponse.setSnapshotType(snapshotTypeStr);
  snapshotResponse.setVolumeId(snapshot.getVolumeId());
  if (volume != null) {
    snapshotResponse.setVolumeName(volume.getName());
    snapshotResponse.setVolumeType(volume.getVolumeType().name());
  }
  snapshotResponse.setCreated(snapshot.getCreated());
  snapshotResponse.setName(snapshot.getName());
  snapshotResponse.setIntervalType(ApiDBUtils.getSnapshotIntervalTypes(snapshot.getId()));
  AsyncJobVO asyncJob=ApiDBUtils.findInstancePendingAsyncJob("snapshot",snapshot.getId());
  if (asyncJob != null) {
    snapshotResponse.setJobId(asyncJob.getId());
    snapshotResponse.setJobStatus(asyncJob.getStatus());
  }
  snapshotResponse.setObjectName("snapshot");
  return snapshotResponse;
}

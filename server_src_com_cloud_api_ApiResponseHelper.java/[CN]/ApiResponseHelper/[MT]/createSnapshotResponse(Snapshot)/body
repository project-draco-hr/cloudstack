{
  SnapshotResponse snapshotResponse=new SnapshotResponse();
  snapshotResponse.setId(snapshot.getUuid());
  populateOwner(snapshotResponse,snapshot);
  VolumeVO volume=findVolumeById(snapshot.getVolumeId());
  String snapshotTypeStr=snapshot.getRecurringType().name();
  snapshotResponse.setSnapshotType(snapshotTypeStr);
  if (volume != null) {
    snapshotResponse.setVolumeId(volume.getUuid());
    snapshotResponse.setVolumeName(volume.getName());
    snapshotResponse.setVolumeType(volume.getVolumeType().name());
  }
  snapshotResponse.setCreated(snapshot.getCreated());
  snapshotResponse.setName(snapshot.getName());
  snapshotResponse.setIntervalType(ApiDBUtils.getSnapshotIntervalTypes(snapshot.getId()));
  snapshotResponse.setState(snapshot.getState());
  List<? extends ResourceTag> tags=ApiDBUtils.listByResourceTypeAndId(TaggedResourceType.Snapshot,snapshot.getId());
  List<ResourceTagResponse> tagResponses=new ArrayList<ResourceTagResponse>();
  for (  ResourceTag tag : tags) {
    ResourceTagResponse tagResponse=createResourceTagResponse(tag,true);
    tagResponses.add(tagResponse);
  }
  snapshotResponse.setTags(tagResponses);
  snapshotResponse.setObjectName("snapshot");
  return snapshotResponse;
}

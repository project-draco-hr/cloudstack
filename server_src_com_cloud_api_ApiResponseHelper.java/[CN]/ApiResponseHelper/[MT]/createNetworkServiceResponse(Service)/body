{
  ServiceResponse response=new ServiceResponse();
  response.setName(service.getName());
  List<CapabilityResponse> capabilityResponses=new ArrayList<CapabilityResponse>();
  Capability[] capabilities=service.getCapabilities();
  for (  Capability cap : capabilities) {
    CapabilityResponse capabilityResponse=new CapabilityResponse();
    capabilityResponse.setName(cap.getName());
    capabilityResponse.setObjectName("capability");
    capabilityResponses.add(capabilityResponse);
  }
  response.setCapabilities(capabilityResponses);
  List<? extends Network.Provider> serviceProviders=ApiDBUtils.getProvidersForService(service);
  List<ProviderResponse> serviceProvidersResponses=new ArrayList<ProviderResponse>();
  for (  Network.Provider serviceProvider : serviceProviders) {
    ProviderResponse serviceProviderResponse=createServiceProviderResponse(serviceProvider);
    serviceProvidersResponses.add(serviceProviderResponse);
  }
  response.setProviders(serviceProvidersResponses);
  response.setObjectName("networkservice");
  return response;
}

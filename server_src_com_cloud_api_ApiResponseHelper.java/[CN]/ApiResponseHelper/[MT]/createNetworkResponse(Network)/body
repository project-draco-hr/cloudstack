{
  NetworkResponse response=new NetworkResponse();
  response.setId(network.getId());
  response.setName(network.getName());
  response.setDisplaytext(network.getDisplayText());
  if (network.getBroadcastDomainType() != null) {
    response.setBroadcastDomainType(network.getBroadcastDomainType().toString());
  }
  if (network.getBroadcastUri() != null) {
    response.setBroadcastUri(network.getBroadcastUri().toString());
  }
  if (network.getTrafficType() != null) {
    response.setTrafficType(network.getTrafficType().name());
  }
  if (network.getGuestType() != null) {
    response.setType(network.getGuestType().name());
  }
  List<? extends Vlan> vlan=ApiDBUtils.listVlanByNetworkId(network.getId());
  if (vlan != null && !vlan.isEmpty()) {
    Vlan singleVlan=vlan.get(0);
    String ipRange=singleVlan.getIpRange();
    String[] range=ipRange.split("-");
    response.setStartIp(range[0]);
    response.setEndIp(range[1]);
    response.setGateway(singleVlan.getVlanGateway());
    response.setNetmask(singleVlan.getVlanNetmask());
    response.setVlan(singleVlan.getVlanTag());
  }
  response.setZoneId(network.getDataCenterId());
  NetworkOffering networkOffering=ApiDBUtils.findNetworkOfferingById(network.getNetworkOfferingId());
  if (networkOffering != null) {
    response.setNetworkOfferingId(networkOffering.getId());
    response.setNetworkOfferingName(networkOffering.getName());
    response.setNetworkOfferingDisplayText(networkOffering.getDisplayText());
    response.setIsSystem(networkOffering.isSystemOnly());
    response.setNetworkOfferingAvailability(networkOffering.getAvailability().toString());
  }
  response.setIsShared(network.isShared());
  response.setState(network.getState().toString());
  response.setRelated(network.getRelated());
  response.setDns1(network.getDns1());
  response.setDns2(network.getDns2());
  Account account=ApiDBUtils.findAccountById(network.getAccountId());
  if (account != null) {
    response.setAccountName(account.getAccountName());
    Domain domain=ApiDBUtils.findDomainById(account.getDomainId());
    response.setDomainId(domain.getId());
    response.setDomain(domain.getName());
  }
  response.setObjectName("network");
  return response;
}

{
  StoragePoolResponse poolResponse=new StoragePoolResponse();
  poolResponse.setId(pool.getId());
  poolResponse.setName(pool.getName());
  poolResponse.setState(pool.getStatus());
  poolResponse.setPath(pool.getPath());
  poolResponse.setIpAddress(pool.getHostAddress());
  poolResponse.setZoneId(pool.getDataCenterId());
  poolResponse.setZoneName(ApiDBUtils.findZoneById(pool.getDataCenterId()).getName());
  if (pool.getPoolType() != null) {
    poolResponse.setType(pool.getPoolType().toString());
  }
  if (pool.getPodId() != null) {
    poolResponse.setPodId(pool.getPodId());
    poolResponse.setPodName(ApiDBUtils.findPodById(pool.getPodId()).getName());
  }
  if (pool.getCreated() != null) {
    poolResponse.setCreated(pool.getCreated());
  }
  StorageStats stats=ApiDBUtils.getStoragePoolStatistics(pool.getId());
  Long capacity=pool.getCapacityBytes();
  Long available=pool.getAvailableBytes();
  Long used=capacity - available;
  if (stats != null) {
    used=stats.getByteUsed();
    available=capacity - used;
  }
  poolResponse.setDiskSizeTotal(pool.getCapacityBytes());
  poolResponse.setDiskSizeAllocated(used);
  if (pool.getClusterId() != null) {
    ClusterVO cluster=ApiDBUtils.findClusterById(pool.getClusterId());
    poolResponse.setClusterId(cluster.getId());
    poolResponse.setClusterName(cluster.getName());
  }
  poolResponse.setTags(ApiDBUtils.getStoragePoolTags(pool.getId()));
  poolResponse.setObjectName("storagepool");
  return poolResponse;
}

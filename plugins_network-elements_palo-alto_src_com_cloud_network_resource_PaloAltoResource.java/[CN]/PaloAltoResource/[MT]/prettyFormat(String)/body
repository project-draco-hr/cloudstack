{
  int indent=4;
  try {
    Source xmlInput=new StreamSource(new StringReader(input));
    StringWriter stringWriter=new StringWriter();
    StreamResult xmlOutput=new StreamResult(stringWriter);
    TransformerFactory transformerFactory=TransformerFactory.newInstance();
    transformerFactory.setAttribute("indent-number",indent);
    Transformer transformer=transformerFactory.newTransformer();
    transformer.setOutputProperty(OutputKeys.INDENT,"yes");
    transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,"yes");
    transformer.transform(xmlInput,xmlOutput);
    return xmlOutput.getWriter().toString();
  }
 catch (  Throwable e) {
    try {
      Source xmlInput=new StreamSource(new StringReader(input));
      StringWriter stringWriter=new StringWriter();
      StreamResult xmlOutput=new StreamResult(stringWriter);
      TransformerFactory transformerFactory=TransformerFactory.newInstance();
      Transformer transformer=transformerFactory.newTransformer();
      transformer.setOutputProperty(OutputKeys.INDENT,"yes");
      transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount",String.valueOf(indent));
      transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,"yes");
      transformer.transform(xmlInput,xmlOutput);
      return xmlOutput.getWriter().toString();
    }
 catch (    Throwable t) {
      return input;
    }
  }
}

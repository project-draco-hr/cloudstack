{
  PreparedStatement pstmt;
  try {
    pstmt=conn.prepareStatement("SELECT value FROM configuration WHERE name='direct.attach.untagged.vlan.enabled'");
    ResultSet rs=pstmt.executeQuery();
    _basicZone=!(rs.next() && Boolean.parseBoolean(rs.getString(1)));
    rs.close();
    pstmt.close();
    pstmt=conn.prepareStatement("UPDATE data_center SET networktype=?, dns_provider=?, gateway_provider=?, firewall_provider=?, dhcp_provider=?, lb_provider=?, vpn_provider=?, userdata_provider=?");
    if (_basicZone) {
      pstmt.setString(1,"Basic");
      pstmt.setString(2,"DhcpServer");
      pstmt.setString(3,null);
      pstmt.setString(4,null);
      pstmt.setString(5,"DhcpServer");
      pstmt.setString(6,null);
      pstmt.setString(7,null);
      pstmt.setString(8,"DhcpServer");
    }
 else {
      pstmt.setString(1,"Advanced");
      pstmt.setString(2,"VirtualRouter");
      pstmt.setString(3,"VirtualRouter");
      pstmt.setString(4,"VirtualRouter");
      pstmt.setString(5,"VirtualRouter");
      pstmt.setString(6,"VirtualRouter");
      pstmt.setString(7,"VirtualRouter");
      pstmt.setString(8,"VirtualRouter");
    }
    pstmt.executeUpdate();
    pstmt.close();
    if (_basicZone) {
    }
 else {
    }
  }
 catch (  SQLException e) {
    throw new CloudRuntimeException("Can't update data center ",e);
  }
}

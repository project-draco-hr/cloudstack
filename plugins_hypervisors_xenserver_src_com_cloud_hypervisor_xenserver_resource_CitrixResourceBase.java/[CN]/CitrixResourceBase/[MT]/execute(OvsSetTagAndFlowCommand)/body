{
  _isOvs=true;
  final Connection conn=getConnection();
  try {
    final Network nw=setupvSwitchNetwork(conn);
    final String bridge=nw.getBridge(conn);
    final String result=callHostPlugin(conn,"ovsgre","ovs_set_tag_and_flow","bridge",bridge,"vmName",cmd.getVmName(),"tag",cmd.getTag(),"vlans",cmd.getVlans(),"seqno",cmd.getSeqNo());
    s_logger.debug("set flow for " + cmd.getVmName() + " "+ result);
    if (result.equalsIgnoreCase("SUCCESS")) {
      return new OvsSetTagAndFlowAnswer(cmd,true,result);
    }
 else {
      return new OvsSetTagAndFlowAnswer(cmd,false,result);
    }
  }
 catch (  final BadServerResponse e) {
    s_logger.error("Failed to set tag and flow",e);
  }
catch (  final XenAPIException e) {
    s_logger.error("Failed to set tag and flow",e);
  }
catch (  final XmlRpcException e) {
    s_logger.error("Failed to set tag and flow",e);
  }
  return new OvsSetTagAndFlowAnswer(cmd,false,"EXCEPTION");
}

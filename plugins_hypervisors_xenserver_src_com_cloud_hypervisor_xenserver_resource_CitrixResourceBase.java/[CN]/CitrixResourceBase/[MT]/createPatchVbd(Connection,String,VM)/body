{
  if (_host.getSystemvmisouuid() == null) {
    final Set<SR> srs=SR.getByNameLabel(conn,"XenServer Tools");
    if (srs.size() != 1) {
      throw new CloudRuntimeException("There are " + srs.size() + " SRs with name XenServer Tools");
    }
    final SR sr=srs.iterator().next();
    sr.scan(conn);
    final SR.Record srr=sr.getRecord(conn);
    if (_host.getSystemvmisouuid() == null) {
      for (      final VDI vdi : srr.VDIs) {
        final VDI.Record vdir=vdi.getRecord(conn);
        if (vdir.nameLabel.contains("systemvm.iso")) {
          _host.setSystemvmisouuid(vdir.uuid);
          break;
        }
      }
    }
    if (_host.getSystemvmisouuid() == null) {
      throw new CloudRuntimeException("can not find systemvmiso");
    }
  }
  final VBD.Record cdromVBDR=new VBD.Record();
  cdromVBDR.VM=vm;
  cdromVBDR.empty=true;
  cdromVBDR.bootable=false;
  cdromVBDR.userdevice="3";
  cdromVBDR.mode=Types.VbdMode.RO;
  cdromVBDR.type=Types.VbdType.CD;
  final VBD cdromVBD=VBD.create(conn,cdromVBDR);
  cdromVBD.insert(conn,VDI.getByUuid(conn,_host.getSystemvmisouuid()));
  return cdromVBD;
}

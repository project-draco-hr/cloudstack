def __init__(self):
    self._map = weakref.WeakValueDictionary()
    self._lock = threading.Lock()

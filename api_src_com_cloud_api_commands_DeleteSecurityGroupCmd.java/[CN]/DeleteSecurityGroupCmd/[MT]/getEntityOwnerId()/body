{
  Account account=UserContext.current().getCaller();
  if ((account == null) || isAdmin(account.getType())) {
    if ((domainId != null) && (accountName != null)) {
      Account userAccount=_responseGenerator.findAccountByNameDomain(accountName,domainId);
      if (userAccount != null) {
        return userAccount.getId();
      }
 else {
        throw new InvalidParameterValueException("Unable to find account by name " + accountName + " in domain "+ domainId);
      }
    }
  }
  return account.getId();
}

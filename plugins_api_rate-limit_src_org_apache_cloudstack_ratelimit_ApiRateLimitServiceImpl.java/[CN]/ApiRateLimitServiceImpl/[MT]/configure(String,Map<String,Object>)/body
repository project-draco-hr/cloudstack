{
  super.configure(name,params);
  String duration=_configDao.getValue(Config.ApiLimitInterval.key());
  if (duration != null) {
    timeToLive=Integer.parseInt(duration);
  }
  String maxReqs=_configDao.getValue(Config.ApiLimitMax.key());
  if (maxReqs != null) {
    maxAllowed=Integer.parseInt(maxReqs);
  }
  EhcacheLimitStore cacheStore=new EhcacheLimitStore();
  int maxElements=10000;
  CacheManager cm=CacheManager.create();
  Cache cache=new Cache("api-limit-cache",maxElements,true,false,timeToLive,timeToLive);
  cm.addCache(cache);
  s_logger.info("Limit Cache created: " + cache.toString());
  cacheStore.setCache(cache);
  _store=cacheStore;
  return true;
}

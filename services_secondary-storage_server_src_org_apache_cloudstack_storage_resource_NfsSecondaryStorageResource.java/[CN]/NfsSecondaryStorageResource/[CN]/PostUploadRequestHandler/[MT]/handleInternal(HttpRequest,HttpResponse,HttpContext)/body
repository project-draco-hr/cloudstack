{
  HttpEntity entity=null;
  if (httpRequest instanceof HttpEntityEnclosingRequest) {
    entity=((HttpEntityEnclosingRequest)httpRequest).getEntity();
  }
  byte[] data;
  if (entity == null) {
    httpResponse.setEntity(new StringEntity("upload failed"));
    httpResponse.setStatusCode(HttpStatus.SC_UNPROCESSABLE_ENTITY);
    return;
  }
 else {
    data=EntityUtils.toByteArray(entity);
  }
  InputStream inputStream=new ByteArrayInputStream(data);
  ByteArrayOutputStream output=new ByteArrayOutputStream();
  HashMap<String,String> paramsMap=new HashMap<>();
  parsePostBody(inputStream,output,paramsMap);
  handleuplod(1,null,"file",output.size(),output.toByteArray());
  s_logger.error(new String(data));
  httpResponse.setEntity(new StringEntity("upload successful"));
}

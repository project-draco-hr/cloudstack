{
  s_logger.info("");
  s_logger.info(httpRequest.getRequestLine());
  s_logger.info("-------- HEADERS --------");
  for (  Header header : httpRequest.getAllHeaders()) {
    s_logger.info(header.getName() + " : " + header.getValue());
  }
  s_logger.info("--------");
  HttpEntity entity=null;
  if (httpRequest instanceof HttpEntityEnclosingRequest) {
    entity=((HttpEntityEnclosingRequest)httpRequest).getEntity();
  }
  if (entity != null) {
    s_logger.info(entity.getContentType());
    s_logger.info(entity.getContentLength());
    s_logger.info(entity.isChunked());
  }
  byte[] data;
  if (entity == null) {
    data=new byte[0];
  }
 else {
    data=EntityUtils.toByteArray(entity);
  }
  InputStream is=new ByteArrayInputStream(data);
  BufferedReader reader=new BufferedReader(new InputStreamReader(is));
  ByteArrayOutputStream output=new ByteArrayOutputStream();
  String currentLine=reader.readLine();
  String boundary=currentLine.replace("-","");
  while (reader.ready()) {
    currentLine=reader.readLine();
    if (currentLine.contains("Content-Type: ")) {
      reader.readLine();
      String prevLine=reader.readLine();
      currentLine=reader.readLine();
      while (true) {
        if (currentLine.contains(boundary)) {
          output.write(prevLine.getBytes());
          break;
        }
 else {
          output.write(currentLine.getBytes());
        }
        prevLine=currentLine;
        currentLine=reader.readLine();
      }
    }
  }
  handleuplod(1,null,"file",output.size(),output.toByteArray());
  s_logger.error(new String(data));
  httpResponse.setEntity(new StringEntity("upload successful"));
}

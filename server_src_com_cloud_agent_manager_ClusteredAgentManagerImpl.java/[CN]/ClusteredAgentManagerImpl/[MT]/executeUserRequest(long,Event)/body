{
  if (event == Event.AgentDisconnected) {
    if (s_logger.isDebugEnabled()) {
      s_logger.debug("Received agent disconnect event for host " + hostId);
    }
    AgentAttache attache=findAttache(hostId);
    if (attache != null) {
      if (_clusterMgr.isAgentRebalanceEnabled()) {
        HostTransferMapVO transferVO=_hostTransferDao.findById(hostId);
        if (transferVO != null) {
          if (transferVO.getFutureOwner() == _nodeId && transferVO.getState() == HostTransferState.TransferStarted) {
            s_logger.debug("Not processing disconnect event as the host is being connected to " + _nodeId);
            return true;
          }
        }
      }
      handleDisconnect(attache,Event.AgentDisconnected,false,false);
    }
    return true;
  }
 else {
    return super.executeUserRequest(hostId,event);
  }
}

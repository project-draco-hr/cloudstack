{
  if (upasscmd.getClusterId() == null) {
    try {
      Boolean result=_clusterMgr.propagateAgentEvent(upasscmd.getHostId(),Event.UpdatePassword);
      if (result != null) {
        return result;
      }
    }
 catch (    AgentUnavailableException e) {
    }
  }
 else {
    List<HostVO> hosts=_hostDao.listByCluster(upasscmd.getClusterId());
    for (    HostVO h : hosts) {
      try {
        Boolean result=_clusterMgr.propagateAgentEvent(h.getId(),Event.UpdatePassword);
        if (result != null) {
          return result;
        }
      }
 catch (      AgentUnavailableException e) {
      }
    }
  }
  return super.updateHostPassword(upasscmd);
}

{
  PasswordFinder pGet=null;
  if (password != null)   pGet=new KeyPassword(password.toCharArray());
  PEMReader privateKey=new PEMReader(new StringReader(key),pGet);
  Object obj=privateKey.readObject();
  try {
    if (obj instanceof KeyPair)     return ((KeyPair)obj).getPrivate();
    return (PrivateKey)obj;
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw new IOException("Invalid Key format or invalid password.");
  }
}

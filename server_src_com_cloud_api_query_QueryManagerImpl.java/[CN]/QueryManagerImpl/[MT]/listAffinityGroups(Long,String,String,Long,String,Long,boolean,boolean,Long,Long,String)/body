{
  Pair<List<AffinityGroupJoinVO>,Integer> result=listAffinityGroupsInternal(affinityGroupId,affinityGroupName,affinityGroupType,vmId,accountName,domainId,isRecursive,listAll,startIndex,pageSize,keyword);
  ListResponse<AffinityGroupResponse> response=new ListResponse<AffinityGroupResponse>();
  List<AffinityGroupResponse> agResponses=ViewResponseHelper.createAffinityGroupResponses(result.first());
  response.setResponses(agResponses,result.second());
  return response;
}

{
  Filter searchFilter=new Filter(StorageTagVO.class,"id",Boolean.TRUE,null,null);
  SearchBuilder<StorageTagVO> sb=_storageTagDao.createSearchBuilder();
  sb.select(null,Func.DISTINCT,sb.entity().getId());
  SearchCriteria<StorageTagVO> sc=sb.create();
  Pair<List<StorageTagVO>,Integer> uniqueTagPair=_storageTagDao.searchAndCount(sc,searchFilter);
  Integer count=uniqueTagPair.second();
  if (count.intValue() == 0) {
    return uniqueTagPair;
  }
  List<StorageTagVO> uniqueTags=uniqueTagPair.first();
  Long[] vrIds=new Long[uniqueTags.size()];
  int i=0;
  for (  StorageTagVO v : uniqueTags) {
    vrIds[i++]=v.getId();
  }
  List<StorageTagVO> vrs=_storageTagDao.searchByIds(vrIds);
  return new Pair<List<StorageTagVO>,Integer>(vrs,count);
}

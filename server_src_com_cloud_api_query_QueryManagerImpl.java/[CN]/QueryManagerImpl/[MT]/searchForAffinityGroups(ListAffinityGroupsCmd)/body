{
  Pair<List<AffinityGroupJoinVO>,Integer> result=searchForAffinityGroupsInternal(cmd);
  ListResponse<AffinityGroupResponse> response=new ListResponse<AffinityGroupResponse>();
  List<AffinityGroupResponse> agResponses=ViewResponseHelper.createAffinityGroupResponses(result.first());
  response.setResponses(agResponses,result.second());
  return response;
}

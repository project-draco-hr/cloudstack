{
  Pair<List<StoragePoolJoinVO>,Integer> result=searchForStoragePoolsInternal(cmd);
  ListResponse<StoragePoolResponse> response=new ListResponse<StoragePoolResponse>();
  List<StoragePoolResponse> poolResponses=ViewResponseHelper.createStoragePoolResponse(result.first().toArray(new StoragePoolJoinVO[result.first().size()]));
  response.setResponses(poolResponses,result.second());
  return response;
}

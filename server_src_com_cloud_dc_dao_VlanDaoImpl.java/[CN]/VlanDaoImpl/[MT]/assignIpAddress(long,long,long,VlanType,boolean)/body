{
  VlanVO vlan=findNextVlan(zoneId,vlanType);
  if (vlan == null) {
    return null;
  }
  String ipAddress=_ipAddressDao.assignIpAddress(accountId,domainId,vlan.getId(),sourceNat).getAddress();
  if (ipAddress == null) {
    return null;
  }
  return new Pair<String,VlanVO>(ipAddress,vlan);
}

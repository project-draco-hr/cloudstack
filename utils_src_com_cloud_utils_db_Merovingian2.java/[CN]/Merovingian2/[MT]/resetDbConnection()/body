{
  s_logger.info("Resetting the database connection for locks");
  if (_conn != null) {
    try {
      _conn.close();
    }
 catch (    Throwable th) {
      s_logger.error("Unable to close connection",th);
    }
  }
  try {
    _conn=Transaction.getStandaloneConnectionWithException();
    _conn.setAutoCommit(true);
  }
 catch (  SQLException e) {
    s_logger.error("Unable to get a new db connection",e);
    return "Unable to initialize a connection to the database for locking purposes: " + e;
  }
  if (_conn == null) {
    return "Unable to initialize a connection to the database for locking purposes, shutdown this server!";
  }
  if (_executor != null) {
    try {
      _executor.shutdown();
    }
 catch (    Throwable th) {
      s_logger.error("Unable to shutdown the executor",th);
    }
  }
  _executor=Executors.newScheduledThreadPool(1,new NamedThreadFactory("LockMasterConnectionKeepAlive"));
  _executor.schedule(new KeepAliveTask(),10,TimeUnit.SECONDS);
  return "Success";
}

{
  boolean result=false;
  try {
    List<UserVO> users=_userDao.listByAccount(accountId);
    for (    UserVO user : users) {
      _userDao.remove(user.getId());
    }
    result=_accountDao.remove(accountId);
    if (!result) {
      s_logger.error("Unable to delete account " + accountId);
      return false;
    }
    if (s_logger.isDebugEnabled()) {
      s_logger.debug("Remove account " + accountId);
    }
    AccountVO account=_accountDao.findByIdIncludingRemoved(accountId);
    deleteAccount(account);
    result=true;
    return result;
  }
 catch (  Exception e) {
    s_logger.error("exception deleting account: " + accountId,e);
    return false;
  }
}

{
  if (listProjectResourcesCriteria != null) {
    sc.setJoinParameters("accountSearch","type",Account.ACCOUNT_TYPE_PROJECT);
  }
  if (permittedDomains.isEmpty() && permittedAccounts.isEmpty() && permittedResources.isEmpty())   return;
  if (!permittedAccounts.isEmpty()) {
    sc.setParameters("accountIdIn",permittedAccounts.toArray());
  }
  if (!permittedResources.isEmpty()) {
    sc.setParameters("idIn",permittedResources.toArray());
  }
  if (!permittedDomains.isEmpty()) {
    if (isRecursive) {
      for (int i=0; i < permittedDomains.size(); i++) {
        DomainVO domain=_domainDao.findById(permittedDomains.get(i));
        sc.setJoinParameters("domainSearch","path" + i,domain.getPath() + "%");
      }
    }
 else {
      sc.setParameters("domainIdIn",permittedDomains.toArray());
    }
  }
}

{
  UserAccount userAccount=_userAccountDao.getUserAccount(username,domainId);
  if (userAccount == null) {
    throw new InvalidParameterValueException("Unable to find user account by name: " + username);
  }
  User user=_userDao.findById(userAccount.getId());
  if (user == null) {
    throw new InvalidParameterValueException("Unable to find user by name: " + username);
  }
  return user;
}

{
  Long userId=cmd.getId();
  User user=_userDao.getUser(userId.longValue());
  if (user == null) {
    throw new InvalidParameterValueException("unable to find user " + userId);
  }
  Account account=_accountDao.findById(user.getAccountId());
  if ((account != null) && (account.getId() == Account.ACCOUNT_ID_SYSTEM)) {
    throw new InvalidParameterValueException("user id : " + userId + " is a system account, delete is not allowed");
  }
  return deleteUserInternal(userId);
}

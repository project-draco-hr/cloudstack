{
  long id=deleteUserCmd.getId();
  UserVO user=_userDao.findById(id);
  if (user == null) {
    throw new InvalidParameterValueException("The specified user doesn't exist in the system");
  }
  if ((user != null) && (user.getAccountId() == Account.ACCOUNT_ID_SYSTEM)) {
    throw new InvalidParameterValueException("Account id : " + user.getAccountId() + " is a system account, delete for user associated with this account is not allowed");
  }
  long accountId=user.getAccountId();
  long userId=UserContext.current().getCallerUserId();
  boolean success=_userDao.remove(id);
  if (success) {
    EventUtils.saveEvent(userId,accountId,EventVO.LEVEL_INFO,EventTypes.EVENT_USER_DELETE,"Deleted User, " + user.getUsername() + " for accountId = "+ user.getAccountId());
  }
 else {
    EventUtils.saveEvent(userId,accountId,EventVO.LEVEL_ERROR,EventTypes.EVENT_USER_DELETE,"Failed to delete User, " + user.getUsername() + " for accountId = "+ user.getAccountId());
  }
  return success;
}

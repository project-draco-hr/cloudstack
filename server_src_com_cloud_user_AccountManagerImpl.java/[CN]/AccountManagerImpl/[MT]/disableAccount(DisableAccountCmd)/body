{
  String accountName=cmd.getAccountName();
  Long domainId=cmd.getDomainId();
  Account adminAccount=UserContext.current().getAccount();
  if ((adminAccount != null) && !_domainDao.isChildDomain(adminAccount.getDomainId(),domainId)) {
    throw new PermissionDeniedException("Failed to disable account " + accountName + " in domain "+ domainId+ ", permission denied.");
  }
  Account account=_accountDao.findActiveAccount(accountName,domainId);
  if (account == null) {
    throw new InvalidParameterValueException("Unable to find account " + accountName + " in domain "+ domainId);
  }
  if (disableAccount(account.getId()))   return _accountDao.findById(account.getId());
 else   throw new CloudRuntimeException("Unable to update account " + accountName + " in domain "+ domainId);
}

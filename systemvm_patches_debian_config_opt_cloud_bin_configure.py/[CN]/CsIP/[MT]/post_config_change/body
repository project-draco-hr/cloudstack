def post_config_change(self, method):
    route = CsRoute(self.dev)
    route.routeTable()
    route.add(self.address, method)
    if (self.get_type() in ['guest']):
        CsDevice(self.dev).configure_rp()
        CsIpTables(self.dev).set_static_nat(self.address, method)
        CsIpTables(self.dev).set_chain('', method)
        CsIpTables(self.dev).set_chain('mangle', method)
        CsIpTables(self.dev).set_accept('mangle', method)
        CsIpTables(self.dev).set_forward(self.address, method)
        CsIpTables(self.dev).set_drop(method)
        CsIpTables(self.dev).set_preroute(self.address, method)
        dns = CsDnsmasq(self)
        dns.add_firewall_rules('add')
        dns.configure_server()
        app = CsApache(self)
        app.setup()
        pwdsvc = CsPasswdSvc(self).setup()
    route.flush()

def compare(self, bag):
    if ((len(self.iplist) > 0) and (not (self.dev in bag.keys()))):
        logging.info('Will remove all configured addresses on device %s', self.dev)
        self.delete('all')
        return False
    for ip in self.iplist:
        found = False
        for address in bag[self.dev]:
            self.setAddress(address)
            if self.hasIP(ip):
                found = True
        if (not found):
            self.delete(ip)

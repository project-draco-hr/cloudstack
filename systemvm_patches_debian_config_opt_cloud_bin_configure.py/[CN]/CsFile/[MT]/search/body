def search(self, search, replace):
    found = False
    logging.debug(('Searching for %s and replacing with %s' % (search, replace)))
    for (index, line) in enumerate(self.new_config):
        if re.search(search, line):
            found = True
            if (not (replace in line)):
                self.changed = True
                self.new_config[index] = (replace + '\n')
    if (not found):
        self.new_config.append((replace + '\n'))
        self.changed = True

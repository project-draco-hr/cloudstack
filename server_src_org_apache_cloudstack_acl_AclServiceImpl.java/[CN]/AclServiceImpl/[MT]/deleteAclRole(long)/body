{
  Account caller=CallContext.current().getCallingAccount();
  AclRole role=_aclRoleDao.findById(aclRoleId);
  if (role == null) {
    throw new InvalidParameterValueException("Unable to find acl role: " + aclRoleId + "; failed to delete acl role.");
  }
  if (!_accountMgr.isRootAdmin(caller.getAccountId())) {
    if (caller.getDomainId() != role.getDomainId()) {
      throw new PermissionDeniedException("Can't delete acl role in domain " + role.getDomainId() + ", permission denied");
    }
  }
  List<AclGroupRoleMapVO> groupRoleMap=_aclGroupRoleMapDao.listByRoleId(role.getId());
  if (groupRoleMap != null) {
    for (    AclGroupRoleMapVO gr : groupRoleMap) {
      _aclGroupRoleMapDao.remove(gr.getId());
    }
  }
  List<AclApiPermissionVO> roleApiMap=_apiPermissionDao.listByRoleId(role.getId());
  if (roleApiMap != null) {
    for (    AclApiPermissionVO roleApi : roleApiMap) {
      _apiPermissionDao.remove(roleApi.getId());
    }
  }
  _aclRoleDao.remove(aclRoleId);
  return true;
}

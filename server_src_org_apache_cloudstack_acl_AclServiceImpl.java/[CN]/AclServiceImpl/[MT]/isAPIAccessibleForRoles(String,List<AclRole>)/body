{
  boolean accessible=false;
  List<Long> roleIds=new ArrayList<Long>();
  for (  AclRole role : roles) {
    roleIds.add(role.getId());
  }
  SearchBuilder<AclApiPermissionVO> sb=_apiPermissionDao.createSearchBuilder();
  sb.and("apiName",sb.entity().getApiName(),Op.EQ);
  sb.and("roleId",sb.entity().getAclRoleId(),Op.IN);
  SearchCriteria<AclApiPermissionVO> sc=sb.create();
  sc.setParameters("roleId",roleIds.toArray(new Object[roleIds.size()]));
  List<AclApiPermissionVO> permissions=_apiPermissionDao.customSearch(sc,null);
  if (permissions != null && !permissions.isEmpty()) {
    accessible=true;
  }
  return accessible;
}

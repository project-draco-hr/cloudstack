{
  List<AclPolicy> policies=listAclPolicies(accountId);
  List<Long> accountIds=new ArrayList<Long>();
  for (  AclPolicy policy : policies) {
    List<AclPolicyPermissionVO> pp=_policyPermissionDao.listGrantedByActionAndScope(policy.getId(),action,PermissionScope.ACCOUNT);
    if (pp != null) {
      for (      AclPolicyPermissionVO p : pp) {
        if (p.getScopeId() != null) {
          accountIds.add(p.getScopeId());
        }
      }
    }
  }
  return accountIds;
}

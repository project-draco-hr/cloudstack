{
  String filterName=filter.getName();
  String[] valueSet=filter.getValueSet();
  if (filterName.equalsIgnoreCase("architecture"))   return containsString(image.getArchitecture(),valueSet);
  if (filterName.equalsIgnoreCase("description"))   return containsString(image.getDescription(),valueSet);
  if (filterName.equalsIgnoreCase("hypervisor"))   return containsString(image.getHypervisor(),valueSet);
  if (filterName.equalsIgnoreCase("image-id"))   return containsString(image.getId(),valueSet);
  if (filterName.equalsIgnoreCase("image-type"))   return containsString(image.getImageType(),valueSet);
  if (filterName.equalsIgnoreCase("is-public"))   return image.getIsPublic().toString().equalsIgnoreCase(valueSet[0]);
  if (filterName.equalsIgnoreCase("name"))   return containsString(image.getName(),valueSet);
  if (filterName.equalsIgnoreCase("owner-id")) {
    String owner=new String(image.getDomainId() + ":" + image.getAccountName());
    return containsString(owner,valueSet);
  }
  if (filterName.equalsIgnoreCase("state"))   return containsString(image.getState(),valueSet);
 else   if (filterName.equalsIgnoreCase("tag-key")) {
    EC2TagKeyValue[] tagSet=image.getResourceTags();
    for (    EC2TagKeyValue tag : tagSet)     if (containsString(tag.getKey(),valueSet))     return true;
    return false;
  }
 else   if (filterName.equalsIgnoreCase("tag-value")) {
    EC2TagKeyValue[] tagSet=image.getResourceTags();
    for (    EC2TagKeyValue tag : tagSet) {
      if (tag.getValue() == null) {
        if (containsEmptyValue(valueSet))         return true;
      }
 else {
        if (containsString(tag.getValue(),valueSet))         return true;
      }
    }
    return false;
  }
 else   if (filterName.startsWith("tag:")) {
    String key=filterName.split(":")[1];
    EC2TagKeyValue[] tagSet=image.getResourceTags();
    for (    EC2TagKeyValue tag : tagSet) {
      if (tag.getKey().equalsIgnoreCase(key)) {
        if (tag.getValue() == null) {
          if (containsEmptyValue(valueSet))           return true;
        }
 else {
          if (containsString(tag.getValue(),valueSet))           return true;
        }
      }
    }
    return false;
  }
 else   return false;
}

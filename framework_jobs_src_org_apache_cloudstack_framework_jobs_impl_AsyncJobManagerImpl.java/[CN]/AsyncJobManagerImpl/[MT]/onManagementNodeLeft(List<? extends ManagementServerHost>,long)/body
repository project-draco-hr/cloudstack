{
  for (  final ManagementServerHost msHost : nodeList) {
    try {
      Transaction.execute(new TransactionCallbackNoReturn(){
        @Override public void doInTransactionWithoutResult(        TransactionStatus status){
          List<SyncQueueItemVO> items=_queueMgr.getActiveQueueItems(msHost.getId(),true);
          cleanupPendingJobs(items);
          _jobDao.resetJobProcess(msHost.getId(),ApiErrorCode.INTERNAL_ERROR.getHttpCode(),"job cancelled because of management server restart");
        }
      }
);
    }
 catch (    Throwable e) {
      s_logger.warn("Unexpected exception ",e);
    }
  }
}

{
  List<interfaceDef> nics=new ArrayList<interfaceDef>();
  String brName;
  interfaceDef pubNic=new interfaceDef();
  interfaceDef privNic=new interfaceDef();
  interfaceDef vnetNic=new interfaceDef();
  privNic.defPrivateNet(_privNwName,null,guestMac,interfaceDef.nicModel.VIRTIO);
  nics.add(privNic);
  vnetNic.defBridgeNet(_privBridgeName,null,privMac,interfaceDef.nicModel.VIRTIO);
  nics.add(vnetNic);
  if ("untagged".equalsIgnoreCase(vlanId)) {
    pubNic.defBridgeNet(_publicBridgeName,null,pubMac,interfaceDef.nicModel.VIRTIO);
  }
 else {
    String vnetId=getVnetId(vlanId);
    brName=setVnetBrName(vnetId);
    String vnetDev="vtap" + vnetId;
    createVnet(vnetId,_pifs.second());
    pubNic.defBridgeNet(brName,null,pubMac,interfaceDef.nicModel.VIRTIO);
  }
  nics.add(pubNic);
  return nics;
}

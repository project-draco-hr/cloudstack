{
  StoragePool sp=null;
  try {
    sp=conn.storagePoolLookupByUUIDString(pool.getUuid());
  }
 catch (  LibvirtException e) {
  }
  if (sp == null) {
    if (pool.getPoolType() == StoragePoolType.NetworkFilesystem) {
      sp=createNfsStoragePool(conn,pool);
    }
    if (sp == null) {
      s_logger.debug("Failed to create storage Pool");
      return null;
    }
  }
  try {
    StoragePoolInfo spi=sp.getInfo();
    if (spi.state != StoragePoolState.VIR_STORAGE_POOL_RUNNING) {
      sp.create(0);
    }
  }
 catch (  LibvirtException e) {
  }
  return sp;
}

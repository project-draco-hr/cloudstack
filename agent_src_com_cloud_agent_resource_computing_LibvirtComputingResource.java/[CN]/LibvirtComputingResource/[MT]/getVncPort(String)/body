{
  LibvirtDomainXMLParser parser=new LibvirtDomainXMLParser();
  Domain dm=null;
  try {
    dm=_conn.domainLookupByUUID(UUID.nameUUIDFromBytes(vmName.getBytes()));
    String xmlDesc=dm.getXMLDesc(0);
    parser.parseDomainXML(xmlDesc);
    return parser.getVncPort();
  }
 catch (  Exception e) {
    throw new InternalErrorException("Can't get vnc port: " + e);
  }
 finally {
    try {
      if (dm != null)       dm.free();
    }
 catch (    LibvirtException l) {
    }
  }
}

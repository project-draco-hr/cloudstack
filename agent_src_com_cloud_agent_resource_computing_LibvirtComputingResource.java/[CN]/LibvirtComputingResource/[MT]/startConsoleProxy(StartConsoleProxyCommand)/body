{
  ConsoleProxyVO console=cmd.getProxy();
  List<interfaceDef> nics=null;
  try {
    nics=createConsoleVMNetworks(cmd);
    List<diskDef> disks=createSystemVMDisk(cmd.getVolumes());
    String dataDiskPath=null;
    for (    diskDef disk : disks) {
      if (disk.getDiskLabel().equalsIgnoreCase("hdb")) {
        dataDiskPath=disk.getDiskPath();
      }
    }
    String vmName=cmd.getVmName();
    patchSystemVm(cmd.getBootArgs(),dataDiskPath,vmName);
    String uuid=UUID.nameUUIDFromBytes(vmName.getBytes()).toString();
    String domXML=defineVMXML(cmd.getVmName(),uuid,console.getRamSize(),1,_domrArch,nics,disks,console.getVncPassword(),"Fedora 12");
    s_logger.debug(domXML);
    startDomain(vmName,domXML);
  }
 catch (  LibvirtException e) {
    s_logger.debug("Failed to start domr: " + e.toString());
    return e.toString();
  }
catch (  InternalErrorException e) {
    s_logger.debug("Failed to start domr: " + e.toString());
    return e.toString();
  }
  return null;
}

{
  long id=_consoleProxyDao.getNextInSequence(Long.class,"id");
  String name=VirtualMachineName.getConsoleProxyName(id,_instance);
  ConsoleProxyVO proxy=new ConsoleProxyVO(id,name,_template.getId(),_template.getGuestOSId(),dataCenterId,0);
  proxy=_consoleProxyDao.persist(proxy);
  ArrayList<NetworkOfferingVO> networkOfferings=new ArrayList<NetworkOfferingVO>(3);
  networkOfferings.add(_managementNetworkOffering);
  networkOfferings.add(_linkLocalNetworkOffering);
  networkOfferings.add(_publicNetworkOffering);
  _vmMgr.allocate(proxy,_serviceOffering,null,networkOfferings,null,null,null,_accountMgr.getSystemAccount());
  Map<String,Object> context=new HashMap<String,Object>();
  String publicIpAddress=null;
  return null;
}

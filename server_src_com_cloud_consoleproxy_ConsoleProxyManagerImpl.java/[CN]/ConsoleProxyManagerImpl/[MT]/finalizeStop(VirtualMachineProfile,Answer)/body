{
  IPAddressVO ip=_ipAddressDao.findByAssociatedVmId(profile.getId());
  if (ip != null && ip.getSystem()) {
    CallContext ctx=CallContext.current();
    try {
      _rulesMgr.disableStaticNat(ip.getId(),ctx.getCallingAccount(),ctx.getCallingUserId(),true);
    }
 catch (    Exception ex) {
      logger.warn("Failed to disable static nat and release system ip " + ip + " as a part of vm "+ profile.getVirtualMachine()+ " stop due to exception ",ex);
    }
  }
}

@attr(tags=['simulator', 'advanced', 'guestvlanrange', 'dedicate', 'release'])
def test_dedicateGuestVlanRange(self):
    'Test guest vlan range dedication\n        '
    'Assume a physical network is available\n        '
    self.debug('Adding guest vlan range')
    print ('existing vlna = %s' % self.physical_network.vlan)
    print ('free vlan = %s' % self.free_vlan)
    new_vlan = ((self.physical_network.vlan + ',') + self.free_vlan['partial_range'][0])
    print ('new vlan = %s' % new_vlan)
    addGuestVlanRangeResponse = self.physical_network.update(self.apiclient, id=self.physical_network.id, vlan=new_vlan)
    self.debug('Dedicating guest vlan range')
    dedicate_guest_vlan_range_response = PhysicalNetwork.dedicate(self.apiclient, self.free_vlan['partial_range'][0], physicalnetworkid=self.physical_network.id, account=self.account.name, domainid=self.account.domainid)
    list_dedicated_guest_vlan_range_response = PhysicalNetwork.listDedicated(self.apiclient, id=dedicate_guest_vlan_range_response.id)
    dedicated_guest_vlan_response = list_dedicated_guest_vlan_range_response[0]
    self.assertEqual(dedicated_guest_vlan_response.account, self.account.name, 'Check account name is in listDedicatedGuestVlanRanges as the account the range is dedicated to')
    self.debug('Releasing guest vlan range')
    dedicate_guest_vlan_range_response.release(self.apiclient)
    list_dedicated_guest_vlan_range_response = PhysicalNetwork.listDedicated(self.apiclient)
    self.assertEqual(list_dedicated_guest_vlan_range_response, None, 'Check vlan range is not available in listDedicatedGuestVlanRanges')

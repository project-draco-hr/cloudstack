{
  ListTemplateCommand cmd=new ListTemplateCommand(ssStore.getTO(),ImageStoreDetailsUtil.getNfsVersion(ssStore.getId()));
  EndPoint ep=_epSelector.select(ssStore);
  Answer answer=null;
  if (ep == null) {
    String errMsg="No remote endpoint to send command, check if host or ssvm is down?";
    s_logger.error(errMsg);
    answer=new Answer(cmd,false,errMsg);
  }
 else {
    answer=ep.sendMessage(cmd);
  }
  if (answer != null && answer.getResult()) {
    ListTemplateAnswer tanswer=(ListTemplateAnswer)answer;
    return tanswer.getTemplateInfo();
  }
 else {
    if (s_logger.isDebugEnabled()) {
      s_logger.debug("can not list template for secondary storage host " + ssStore.getId());
    }
  }
  return null;
}

{
  String url=generateCopyUrl(srcTemplate);
  if (url == null) {
    s_logger.warn("Unable to start/resume copy of template " + srcTemplate.getUniqueName() + " to "+ destStore.getName()+ ", no secondary storage vm in running state in source zone");
    throw new CloudRuntimeException("No secondary VM in running state in source template zone ");
  }
  TemplateObject tmplForCopy=(TemplateObject)_templateFactory.getTemplate(srcTemplate,destStore);
  tmplForCopy.setUrl(url);
  AsyncCallFuture<TemplateApiResult> future=new AsyncCallFuture<TemplateApiResult>();
  DataObject templateOnStore=destStore.create(tmplForCopy);
  templateOnStore.processEvent(Event.CreateOnlyRequested);
  TemplateOpContext<TemplateApiResult> context=new TemplateOpContext<TemplateApiResult>(null,(TemplateObject)templateOnStore,future);
  AsyncCallbackDispatcher<TemplateServiceImpl,CopyCommandResult> caller=AsyncCallbackDispatcher.create(this);
  caller.setCallback(caller.getTarget().copyTemplateCallBack(null,null)).setContext(context);
  destStore.getDriver().createAsync(destStore,templateOnStore,caller);
  return future;
}

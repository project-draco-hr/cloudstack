{
  Set<VMTemplateVO> toBeDownloaded=new HashSet<VMTemplateVO>();
  List<VMTemplateVO> rtngTmplts=_templateDao.listAllSystemVMTemplates();
  for (  VMTemplateVO rtngTmplt : rtngTmplts) {
    toBeDownloaded.add(rtngTmplt);
  }
  for (  VMTemplateVO template : toBeDownloaded) {
    TemplateDataStoreVO tmpltHost=_vmTemplateStoreDao.findByStoreTemplate(store.getId(),template.getId());
    if (tmpltHost == null || tmpltHost.getState() != ObjectInDataStoreStateMachine.State.Ready) {
      TemplateInfo tmplt=this._templateFactory.getTemplate(template.getId());
      this.createTemplateAsync(tmplt,store,null);
    }
  }
}

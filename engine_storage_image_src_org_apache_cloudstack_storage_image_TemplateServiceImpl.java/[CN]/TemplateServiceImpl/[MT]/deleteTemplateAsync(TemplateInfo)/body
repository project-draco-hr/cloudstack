{
  TemplateObject to=(TemplateObject)template;
  to.processEvent(ObjectInDataStoreStateMachine.Event.DestroyRequested);
  try {
    to.stateTransit(TemplateEvent.DestroyRequested);
  }
 catch (  NoTransitionException e) {
    s_logger.debug("Failed to transit state",e);
  }
  AsyncCallFuture<TemplateApiResult> future=new AsyncCallFuture<TemplateApiResult>();
  TemplateOpContext<TemplateApiResult> context=new TemplateOpContext<TemplateApiResult>(null,to,future);
  AsyncCallbackDispatcher<TemplateServiceImpl,CommandResult> caller=AsyncCallbackDispatcher.create(this);
  caller.setCallback(caller.getTarget().deleteTemplateCallback(null,null)).setContext(context);
  to.getDataStore().getDriver().deleteAsync(to,caller);
  return future;
}

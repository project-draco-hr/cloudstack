{
  ResourceState currentState=host.getResourceState();
  ResourceState nextState=currentState.getNextState(event);
  if (nextState == null) {
    throw new NoTransitionException("No next resource state found for current state =" + currentState + " event ="+ event);
  }
  _capacityDao.updateCapacityState(null,null,null,host.getId(),nextState.toString());
  return _hostDao.updateResourceState(currentState,event,nextState,host);
}

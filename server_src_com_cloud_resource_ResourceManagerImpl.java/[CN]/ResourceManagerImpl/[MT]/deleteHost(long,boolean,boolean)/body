{
  User caller=_accountMgr.getActiveUser(UserContext.current().getCallerUserId());
  HostVO host=_hostDao.findById(hostId);
  if (host == null) {
    throw new InvalidParameterValueException("Host with id " + hostId + " doesn't exist");
  }
  _accountMgr.checkAccessAndSpecifyAuthority(UserContext.current().getCaller(),host.getDataCenterId());
  processResourceEvent(ResourceListener.EVENT_DELETE_HOST_BEFORE,host);
  boolean res=false;
  if (Host.Type.SecondaryStorage.equals(host.getType())) {
    _secondaryStorageMgr.deleteHost(hostId);
    res=true;
  }
 else {
    res=_agentMgr.deleteHost(hostId,isForced,forceDestroy,caller);
  }
  processResourceEvent(ResourceListener.EVENT_DELETE_HOST_AFTER,host);
  return res;
}

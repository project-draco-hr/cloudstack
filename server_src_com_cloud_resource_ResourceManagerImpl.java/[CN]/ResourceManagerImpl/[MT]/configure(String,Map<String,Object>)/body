{
  _defaultSystemVMHypervisor=HypervisorType.getType(_configDao.getValue(Config.SystemVMDefaultHypervisor.toString()));
  _gson=GsonHelper.getGson();
  _hypervisorsInDC=_hostDao.createSearchBuilder(String.class);
  _hypervisorsInDC.select(null,Func.DISTINCT,_hypervisorsInDC.entity().getHypervisorType());
  _hypervisorsInDC.and("hypervisorType",_hypervisorsInDC.entity().getHypervisorType(),SearchCriteria.Op.NNULL);
  _hypervisorsInDC.and("dataCenter",_hypervisorsInDC.entity().getDataCenterId(),SearchCriteria.Op.EQ);
  _hypervisorsInDC.and("id",_hypervisorsInDC.entity().getId(),SearchCriteria.Op.NEQ);
  _hypervisorsInDC.and("type",_hypervisorsInDC.entity().getType(),SearchCriteria.Op.EQ);
  _hypervisorsInDC.done();
  _gpuAvailability=_hostGpuGroupsDao.createSearchBuilder();
  _gpuAvailability.and("hostId",_gpuAvailability.entity().getHostId(),Op.EQ);
  SearchBuilder<VGPUTypesVO> join1=_vgpuTypesDao.createSearchBuilder();
  join1.and("vgpuType",join1.entity().getVgpuType(),Op.EQ);
  join1.and("remainingCapacity",join1.entity().getRemainingCapacity(),Op.GT);
  _gpuAvailability.join("groupId",join1,_gpuAvailability.entity().getId(),join1.entity().getGpuGroupId(),JoinBuilder.JoinType.INNER);
  _gpuAvailability.done();
  return true;
}

{
  List<AclPolicy> policies=_iamSrv.listAclPolicies(accountId);
  AclPolicyPermission curPerm=null;
  for (  AclPolicy policy : policies) {
    List<AclPolicyPermission> perms=_iamSrv.listPollcyPermissionByEntityType(policy.getId(),action,entityType);
    if (perms == null || perms.size() == 0)     continue;
    AclPolicyPermission perm=perms.get(0);
    if (curPerm == null) {
      curPerm=perm;
    }
 else     if (PermissionScope.valueOf(perm.getScope()).greaterThan(PermissionScope.valueOf(curPerm.getScope()))) {
      curPerm=perm;
    }
  }
  return curPerm;
}

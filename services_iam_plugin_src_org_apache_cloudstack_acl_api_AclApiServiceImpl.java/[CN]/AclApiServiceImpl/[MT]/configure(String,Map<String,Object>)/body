{
  _messageBus.subscribe(AccountManager.MESSAGE_ADD_ACCOUNT_EVENT,new MessageSubscriber(){
    @Override public void onPublishMessage(    String senderAddress,    String subject,    Object obj){
      HashMap<Long,Long> acctGroupMap=(HashMap<Long,Long>)obj;
      for (      Long accountId : acctGroupMap.keySet()) {
        Long groupId=acctGroupMap.get(accountId);
        s_logger.debug("MessageBus message: new Account Added: " + accountId + ", adding it to groupId :"+ groupId);
        addAccountToAclGroup(accountId,groupId);
      }
    }
  }
);
  _messageBus.subscribe(AccountManager.MESSAGE_REMOVE_ACCOUNT_EVENT,new MessageSubscriber(){
    @Override public void onPublishMessage(    String senderAddress,    String subject,    Object obj){
      Long accountId=((Long)obj);
      if (accountId != null) {
        s_logger.debug("MessageBus message: Account removed: " + accountId + ", releasing the group associations");
        removeAccountFromAclGroups(accountId);
      }
    }
  }
);
  return super.configure(name,params);
}

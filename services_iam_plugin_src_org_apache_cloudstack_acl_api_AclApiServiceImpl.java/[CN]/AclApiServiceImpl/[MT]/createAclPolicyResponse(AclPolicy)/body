{
  AclPolicyResponse response=new AclPolicyResponse();
  response.setId(policy.getUuid());
  response.setName(policy.getName());
  response.setDescription(policy.getDescription());
  String domainPath=policy.getPath();
  if (domainPath != null) {
    DomainVO domain=_domainDao.findDomainByPath(domainPath);
    if (domain != null) {
      response.setDomainId(domain.getUuid());
      response.setDomainName(domain.getName());
    }
  }
  long accountId=policy.getAccountId();
  AccountVO owner=_accountDao.findById(accountId);
  if (owner != null) {
    response.setAccountName(owner.getAccountName());
  }
  List<AclPolicyPermission> permissions=_iamSrv.listPolicyPermissions(policy.getId());
  if (permissions != null && permissions.size() > 0) {
    for (    AclPolicyPermission permission : permissions) {
      AclPermissionResponse perm=new AclPermissionResponse();
      perm.setAction(permission.getAction());
      perm.setEntityType(AclEntityType.valueOf(permission.getEntityType()));
      perm.setScope(PermissionScope.valueOf(permission.getScope()));
      perm.setScopeId(permission.getScopeId());
      perm.setPermission(permission.getPermission());
      response.addPermission(perm);
    }
  }
  response.setObjectName("aclpolicy");
  return response;
}

{
  GenericSearchBuilder<AclGroupAccountMapVO,Long> groupSB=_aclGroupAccountMapDao.createSearchBuilder(Long.class);
  groupSB.selectFields(groupSB.entity().getAclGroupId());
  groupSB.and("account",groupSB.entity().getAccountId(),Op.EQ);
  SearchCriteria<Long> groupSc=groupSB.create();
  List<Long> groupIds=_aclGroupAccountMapDao.customSearch(groupSc,null);
  SearchBuilder<AclGroupVO> sb=_aclGroupDao.createSearchBuilder();
  sb.and("ids",sb.entity().getId(),Op.IN);
  SearchCriteria<AclGroupVO> sc=sb.create();
  sc.setParameters("ids",groupIds.toArray(new Object[groupIds.size()]));
  List<AclGroupVO> groups=_aclGroupDao.search(sc,null);
  return new ArrayList<AclGroup>(groups);
}

{
  final CloudStackVersion dbVersion=CloudStackVersion.parse("4.8.1");
  assertNotNull(dbVersion);
  final CloudStackVersion currentVersion=CloudStackVersion.parse("4.8.2.0");
  assertNotNull(currentVersion);
  final DatabaseUpgradeChecker checker=new DatabaseUpgradeChecker();
  final DbUpgrade[] upgrades=checker.calculateUpgradePath(dbVersion,currentVersion);
  assertNotNull(upgrades);
  assertEquals(1,upgrades.length);
  assertTrue(Arrays.equals(new String[]{"4.8.1",currentVersion.toString()},upgrades[0].getUpgradableVersionRange()));
  assertEquals(currentVersion.toString(),upgrades[0].getUpgradedVersion());
}

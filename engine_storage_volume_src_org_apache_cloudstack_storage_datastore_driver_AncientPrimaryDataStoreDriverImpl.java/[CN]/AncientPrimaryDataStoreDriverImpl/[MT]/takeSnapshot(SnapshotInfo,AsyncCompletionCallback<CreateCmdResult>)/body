{
  VolumeInfo volume=snapshot.getBaseVolume();
  String vmName=this.volumeMgr.getVmNameOnVolume(volume);
  SnapshotVO preSnapshotVO=this.snapshotMgr.getParentSnapshot(volume,snapshot);
  StoragePool srcPool=(StoragePool)volume.getDataStore();
  ManageSnapshotCommand cmd=new ManageSnapshotCommand(snapshot.getId(),volume.getPath(),srcPool,preSnapshotVO.getPath(),snapshot.getName(),vmName);
  ManageSnapshotAnswer answer=(ManageSnapshotAnswer)this.snapshotMgr.sendToPool(volume,cmd);
  CreateCmdResult result=null;
  if ((answer != null) && answer.getResult()) {
    result=new CreateCmdResult(answer.getSnapshotPath(),null);
  }
 else {
    result=new CreateCmdResult(null,null);
  }
  callback.complete(result);
}

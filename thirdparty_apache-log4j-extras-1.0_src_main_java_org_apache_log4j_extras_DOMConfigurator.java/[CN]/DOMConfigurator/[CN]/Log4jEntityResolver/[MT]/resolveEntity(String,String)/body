{
  if (systemId.endsWith("log4j.dtd")) {
    InputStream in=Log4jEntityResolver.class.getResourceAsStream("log4j.dtd");
    if (in == null) {
      LogLog.warn("Could not find [log4j.dtd] using [" + Log4jEntityResolver.class.getClassLoader() + "] class loader, parsed without DTD.");
      in=new ByteArrayInputStream(new byte[0]);
    }
    return new InputSource(in);
  }
 else {
    return null;
  }
}

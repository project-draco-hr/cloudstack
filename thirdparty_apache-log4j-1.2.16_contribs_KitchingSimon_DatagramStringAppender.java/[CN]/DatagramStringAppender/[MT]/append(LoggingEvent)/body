{
  if (!isAsSevereAsThreshold(event.priority))   return;
  if (qw == null) {
    errorHandler.error("No host is set for DatagramStringAppender named \"" + this.name + "\".");
    return;
  }
  String buffer=layout.format(event);
  qw.write(buffer);
  if (event.throwable != null)   event.throwable.printStackTrace(stp);
 else   if (event.throwableInformation != null) {
    qw.write(event.throwableInformation);
  }
}

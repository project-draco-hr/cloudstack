{
  if ("microsoftad".equalsIgnoreCase(id)) {
    if (adUserManager == null) {
      adUserManager=new ADLdapUserManagerImpl();
      applicationCtx.getAutowireCapableBeanFactory().autowireBeanProperties(adUserManager,AutowireCapableBeanFactory.AUTOWIRE_BY_TYPE,true);
    }
    return adUserManager;
  }
  if (openLdapUserManager == null) {
    openLdapUserManager=new OpenLdapUserManagerImpl();
    applicationCtx.getAutowireCapableBeanFactory().autowireBeanProperties(openLdapUserManager,AutowireCapableBeanFactory.AUTOWIRE_BY_TYPE,true);
  }
  return openLdapUserManager;
}

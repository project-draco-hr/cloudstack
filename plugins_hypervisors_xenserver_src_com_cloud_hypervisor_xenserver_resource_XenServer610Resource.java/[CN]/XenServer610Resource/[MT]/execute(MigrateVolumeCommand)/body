{
  final Connection connection=getConnection();
  final String volumeUUID=cmd.getVolumePath();
  final StorageFilerTO poolTO=cmd.getPool();
  try {
    final SR destinationPool=getStorageRepository(connection,poolTO.getUuid());
    final VDI srcVolume=getVDIbyUuid(connection,volumeUUID);
    final Map<String,String> other=new HashMap<String,String>();
    other.put("live","true");
    final Task task=srcVolume.poolMigrateAsync(connection,destinationPool,other);
    final long timeout=_migratewait * 1000L;
    waitForTask(connection,task,1000,timeout);
    checkForSuccess(connection,task);
    final VDI dvdi=Types.toVDI(task,connection);
    return new MigrateVolumeAnswer(cmd,true,null,dvdi.getUuid(connection));
  }
 catch (  final Exception e) {
    final String msg="Catch Exception " + e.getClass().getName() + " due to "+ e.toString();
    s_logger.error(msg,e);
    return new MigrateVolumeAnswer(cmd,false,msg,null);
  }
}

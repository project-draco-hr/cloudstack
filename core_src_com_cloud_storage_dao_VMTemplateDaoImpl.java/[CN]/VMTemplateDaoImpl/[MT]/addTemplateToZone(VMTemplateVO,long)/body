{
  Transaction txn=Transaction.currentTxn();
  txn.start();
  VMTemplateVO tmplt2=findById(tmplt.getId());
  if (tmplt2 == null) {
    persist(tmplt);
  }
  VMTemplateZoneVO tmpltZoneVO=new VMTemplateZoneVO(zoneId,tmplt.getId(),new Date());
  _templateZoneDao.persist(tmpltZoneVO);
  txn.commit();
  return tmplt.getId();
}

{
  String sql="";
  if (keyword != null) {
    sql+=" t.name LIKE \"%" + keyword + "%\" AND";
  }
 else   if (name != null) {
    sql+=" t.name LIKE \"%" + name + "%\" AND";
  }
  if (isIso) {
    sql+=" t.format = 'ISO'";
  }
 else {
    sql+=" t.format <> 'ISO'";
  }
  if (bootable != null) {
    sql+=" AND t.bootable = " + bootable;
  }
  if (hyperType != null) {
    sql+=" AND t.hypervisor_type = " + hyperType.toString();
  }
  sql+=" AND t.removed IS NULL";
  return sql;
}

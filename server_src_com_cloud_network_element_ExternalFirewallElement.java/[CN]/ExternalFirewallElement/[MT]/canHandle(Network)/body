{
  DataCenter zone=_configMgr.getZone(config.getDataCenterId());
  if ((zone.getNetworkType() == NetworkType.Advanced && config.getGuestType() != Network.GuestIpType.Virtual) || (zone.getNetworkType() == NetworkType.Basic && config.getGuestType() != Network.GuestIpType.Direct)) {
    s_logger.trace("Not handling guest ip type = " + config.getGuestType());
    return false;
  }
  return _networkManager.zoneIsConfiguredForExternalNetworking(zone.getId());
}

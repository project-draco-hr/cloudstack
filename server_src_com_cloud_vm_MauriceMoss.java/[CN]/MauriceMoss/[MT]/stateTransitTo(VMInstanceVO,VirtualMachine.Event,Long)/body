{
  if (_useNewNetworking) {
    if (vm instanceof UserVmVO) {
      return _stateMachine.transitTO(vm,e,id,_userVmDao);
    }
 else     if (vm instanceof ConsoleProxyVO) {
      return _stateMachine.transitTO(vm,e,id,_consoleDao);
    }
 else     if (vm instanceof SecondaryStorageVmVO) {
      return _stateMachine.transitTO(vm,e,id,_secondaryDao);
    }
 else     if (vm instanceof DomainRouterVO) {
      return _stateMachine.transitTO(vm,e,id,_routerDao);
    }
 else {
      return _stateMachine.transitTO(vm,e,id,_vmDao);
    }
  }
 else {
    if (vm instanceof UserVmVO) {
      return _userVmDao.updateIf((UserVmVO)vm,e,id);
    }
 else     if (vm instanceof ConsoleProxyVO) {
      return _consoleDao.updateIf((ConsoleProxyVO)vm,e,id);
    }
 else     if (vm instanceof SecondaryStorageVmVO) {
      return _secondaryDao.updateIf((SecondaryStorageVmVO)vm,e,id);
    }
 else     if (vm instanceof DomainRouterVO) {
      return _routerDao.updateIf((DomainRouterVO)vm,e,id);
    }
 else {
      return _vmDao.updateIf(vm,e,id);
    }
  }
}

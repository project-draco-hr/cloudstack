{
  MockitoAnnotations.initMocks(this);
  storageCmd=PowerMockito.mock(CopyCommand.class);
  doReturn(context).when(_resource).getServiceContext(null);
  when(cmd.getVirtualMachine()).thenReturn(vmSpec);
  when(storageCmd.getSrcTO()).thenReturn(srcDataTO);
  when(srcDataTO.getDataStore()).thenReturn(srcDataNfsTO);
  when(srcDataNfsTO.getNfsVersion()).thenReturn(NFS_VERSION);
  when(videoCard.getVideoRamSizeInKB()).thenReturn(VIDEO_CARD_MEMORY_SIZE);
  when(volume.getPath()).thenReturn(VOLUME_PATH);
  when(storageCmd.getDestTO()).thenReturn(destDataTO);
  when(destDataTO.getHypervisorType()).thenReturn(HypervisorType.VMware);
  when(destDataTO.getDataStore()).thenReturn(destDataStoreTO);
  when(destDataStoreTO.isFullCloneFlag()).thenReturn(FULL_CLONE_FLAG);
}

{
  Map<String,String> specDetails=new HashMap<String,String>();
  specDetails.put("svga.vramSize","131072");
  when(vmSpec3dgpu.getDetails()).thenReturn(specDetails);
  VirtualMachineVideoCard videoCard=mock(VirtualMachineVideoCard.class);
  when(videoCard.getVideoRamSizeInKB()).thenReturn(65536l);
  when(vmMo3dgpu.getAllDeviceList()).thenReturn(Arrays.asList((VirtualDevice)videoCard));
  when(vmMo3dgpu.configureVm(any(VirtualMachineConfigSpec.class))).thenReturn(true);
  _resource.postVideoCardMemoryConfigBeforeStart(vmMo3dgpu,vmSpec3dgpu);
  verify(vmMo3dgpu).configureVm(any(VirtualMachineConfigSpec.class));
}

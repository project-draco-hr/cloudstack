{
  initLog4j();
  ConfigurationServer c=(ConfigurationServer)ComponentContext.getCompanent(ConfigurationServer.class);
  try {
    c.persistDefaultValues();
    ManagementServer ms=(ManagementServer)ComponentContext.getCompanent(ManagementServer.class);
    ms.startup();
    ApiServer.initApiServer(ms.getApiConfig());
  }
 catch (  InvalidParameterValueException ipve) {
    s_logger.error("Exception starting management server ",ipve);
    throw new ServletException(ipve.getMessage());
  }
catch (  Exception e) {
    s_logger.error("Exception starting management server ",e);
    throw new ServletException(e.getMessage());
  }
}

{
  initLog4j();
  ConfigurationServer c=ComponentContext.getCompanent(ConfigurationServer.class);
  try {
    c.persistDefaultValues();
    ManagementServer ms=ComponentContext.getCompanent(ManagementServer.class);
    ms.startup();
    ms.enableAdminUser("password");
    ApiServer.initApiServer(ms.getPropertiesFiles());
  }
 catch (  InvalidParameterValueException ipve) {
    s_logger.error("Exception starting management server ",ipve);
    throw new ServletException(ipve.getMessage());
  }
catch (  Exception e) {
    s_logger.error("Exception starting management server ",e);
    throw new ServletException(e.getMessage());
  }
}

{
  if (size < 0) {
    throw new java.lang.NegativeArraySizeException("size");
  }
synchronized (buffer) {
    bufferSize=(size < 1) ? 1 : size;
    buffer.notifyAll();
  }
}

{
  SearchCriteria<HostVO> sc=MsStatusSearch.create();
  sc.setParameters("ms",msId);
  sc.setParameters("statuses",(Object[])states);
  HostVO host=createForUpdate();
  host.setManagementServerId(null);
  host.setDisconnectedOn(new Date());
  UpdateBuilder ub=getUpdateBuilder(host);
  ub.set(host,"status",Status.Disconnected);
  update(ub,sc,null);
}

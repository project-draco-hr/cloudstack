{
  if (configured)   return true;
  if (!connected) {
    if ((connection_class == null) && (url == null || username == null || password == null)) {
      errorHandler.error("JDBCAppender::configure(), Missing database-options or connector-option !");
      return false;
    }
    try {
      connect();
    }
 catch (    Exception e) {
      connection_class=null;
      url=null;
      errorHandler.error("JDBCAppender::configure(), " + e);
      return false;
    }
  }
  if (sql == null && table == null) {
    errorHandler.error("JDBCAppender::configure(), No SQL_OPTION or TABLE_OPTION given !");
    return false;
  }
  if (!jlogger.isConfigured()) {
    try {
      jlogger.setConnection(con);
      if (sql == null) {
        jlogger.configureTable(table);
      }
 else       jlogger.configureSQL(sql);
    }
 catch (    Exception e) {
      errorHandler.error("JDBCAppender::configure(), " + e);
      return false;
    }
  }
  if (layout == null) {
    layout=new PatternLayout("%m");
  }
  configured=true;
  return true;
}

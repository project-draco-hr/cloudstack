{
  try {
    int size=buffer.size();
    if (size < 1)     return;
    for (int i=0; i < size; i++) {
      LoggingEvent event=(LoggingEvent)buffer.get(i);
      jlogger.append(layout.format(event));
    }
    buffer.clear();
    if (docommit)     con.commit();
  }
 catch (  Exception e) {
    errorHandler.error("JDBCAppender::flush_buffer(), " + e + " : "+ jlogger.getErrorMsg());
    try {
      con.rollback();
    }
 catch (    Exception ex) {
    }
    return;
  }
}

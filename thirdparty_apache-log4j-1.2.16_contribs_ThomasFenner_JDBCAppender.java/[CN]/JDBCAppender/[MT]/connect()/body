{
  if (connected)   return;
  try {
    if (connection_class == null) {
      if (url == null)       throw new Exception("JDBCAppender::connect(), No URL defined.");
      if (username == null)       throw new Exception("JDBCAppender::connect(), No USERNAME defined.");
      if (password == null)       throw new Exception("JDBCAppender::connect(), No PASSWORD defined.");
      connectionHandler=new DefaultConnectionHandler();
    }
 else {
      connectionHandler=(JDBCConnectionHandler)(Class.forName(connection_class).newInstance());
    }
    if (url != null && username != null && password != null) {
      con=connectionHandler.getConnection(url,username,password);
    }
 else {
      con=connectionHandler.getConnection();
    }
    if (con.isClosed()) {
      throw new Exception("JDBCAppender::connect(), JDBCConnectionHandler returns no connected Connection !");
    }
  }
 catch (  Exception e) {
    throw new Exception("JDBCAppender::connect(), " + e);
  }
  connected=true;
}

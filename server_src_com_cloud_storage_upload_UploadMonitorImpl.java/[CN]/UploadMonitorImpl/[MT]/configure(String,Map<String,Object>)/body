{
  _name=name;
  final Map<String,String> configs=_configDao.getConfiguration("ManagementServer",params);
  _sslCopy=Boolean.parseBoolean(configs.get("secstorage.encrypt.copy"));
  String cert=configs.get("secstorage.secure.copy.cert");
  if ("realhostip.com".equalsIgnoreCase(cert)) {
    s_logger.warn("Only realhostip.com ssl cert is supported, ignoring self-signed and other certs");
  }
  _hyperVisorType=_configDao.getValue("hypervisor.type");
  _copyAuthPasswd=configs.get("secstorage.copy.password");
  _agentMgr.registerForHostEvents(new UploadListener(this),true,false,false);
  String workers=(String)params.get("expunge.workers");
  int wrks=NumbersUtil.parseInt(workers,1);
  _executor=Executors.newScheduledThreadPool(wrks,new NamedThreadFactory("UploadMonitor-Scavenger"));
  return true;
}

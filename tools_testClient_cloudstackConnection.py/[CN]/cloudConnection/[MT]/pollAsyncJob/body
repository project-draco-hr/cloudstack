def pollAsyncJob(self, jobId, response):
    cmd = queryAsyncJobResult.queryAsyncJobResultCmd()
    cmd.jobid = jobId
    while (self.asyncTimeout > 0):
        asyncResonse = self.make_request(cmd, response, True)
        if (asyncResonse.jobstatus == 2):
            raise cloudstackException.cloudstackAPIException('asyncquery', asyncResonse.jobresult)
        elif (asyncResonse.jobstatus == 1):
            return asyncResonse
        time.sleep(5)
        self.asyncTimeout = (self.asyncTimeout - 5)
    raise cloudstackException.cloudstackAPIException('asyncquery', 'Async job timeout')

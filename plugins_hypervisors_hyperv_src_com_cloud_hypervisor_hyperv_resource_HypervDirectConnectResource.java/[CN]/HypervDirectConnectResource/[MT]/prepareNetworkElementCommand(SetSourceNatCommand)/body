{
  String routerName=cmd.getAccessDetail(NetworkElementCommand.ROUTER_NAME);
  IpAddressTO pubIp=cmd.getIpAddress();
  try {
    String broadcastUri=pubIp.getBroadcastUri();
    String vlanId=BroadcastDomainType.getValue(broadcastUri);
    int ethDeviceNum=getVmNics(routerName,vlanId);
    if (ethDeviceNum > 0) {
      pubIp.setNicDevId(ethDeviceNum);
    }
 else {
      return new ExecutionResult(false,"Prepare Ip SNAT failed due to unable to find the nic");
    }
  }
 catch (  Exception e) {
    String msg="Prepare Ip SNAT failure due to " + e.toString();
    s_logger.error(msg,e);
    return new ExecutionResult(false,e.toString());
  }
  return new ExecutionResult(true,null);
}

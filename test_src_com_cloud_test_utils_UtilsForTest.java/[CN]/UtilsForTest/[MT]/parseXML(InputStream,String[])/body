{
  Map<String,String> returnValues=new HashMap<String,String>();
  try {
    DocumentBuilder docBuilder=factory.newDocumentBuilder();
    Document doc=docBuilder.parse(is);
    Element rootElement=doc.getDocumentElement();
    for (int i=0; i < tagNames.length; i++) {
      NodeList targetNodes=rootElement.getElementsByTagName(tagNames[i]);
      if (targetNodes.getLength() <= 0) {
        System.out.println("no " + tagNames[i] + " tag in the response");
        returnValues.put(tagNames[i],null);
      }
 else {
        returnValues.put(tagNames[i],targetNodes.item(0).getTextContent());
      }
    }
  }
 catch (  Exception ex) {
    System.out.println("error processing XML");
    ex.printStackTrace();
  }
  return returnValues;
}

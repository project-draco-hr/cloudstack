{
  VolumeIdSearch=createSearchBuilder();
  VolumeIdSearch.and("volumeId",VolumeIdSearch.entity().getVolumeId(),SearchCriteria.Op.EQ);
  VolumeIdSearch.done();
  VolumeIdTypeSearch=createSearchBuilder();
  VolumeIdTypeSearch.and("volumeId",VolumeIdTypeSearch.entity().getVolumeId(),SearchCriteria.Op.EQ);
  VolumeIdTypeSearch.and("type",VolumeIdTypeSearch.entity().getTypeDescription(),SearchCriteria.Op.EQ);
  VolumeIdTypeSearch.done();
  ParentIdSearch=createSearchBuilder();
  ParentIdSearch.and("prevSnapshotId",ParentIdSearch.entity().getPrevSnapshotId(),SearchCriteria.Op.EQ);
  ParentIdSearch.done();
  lastSnapSearch=createSearchBuilder(Long.class);
  lastSnapSearch.select(null,SearchCriteria.Func.MAX,lastSnapSearch.entity().getId());
  lastSnapSearch.and("volumeId",lastSnapSearch.entity().getVolumeId(),SearchCriteria.Op.EQ);
  lastSnapSearch.and("snapId",lastSnapSearch.entity().getId(),SearchCriteria.Op.NEQ);
  lastSnapSearch.done();
}

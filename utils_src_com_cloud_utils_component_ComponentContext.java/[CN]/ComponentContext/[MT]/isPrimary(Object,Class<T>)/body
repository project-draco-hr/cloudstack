{
  Class<?> componentType=beanType;
  Class<?> targetClass=getTargetClass(instance);
  Class<?> interfaces[]=targetClass.getInterfaces();
  for (  Class<?> intf : interfaces) {
    if (beanType.isAssignableFrom(intf)) {
      componentType=intf;
      break;
    }
  }
  Map<String,T> matchedTypes=(Map<String,T>)ComponentContext.getComponentsOfType(componentType);
  if (matchedTypes.size() > 1) {
    Primary primary=targetClass.getAnnotation(Primary.class);
    if (primary != null)     return true;
    return false;
  }
  return true;
}

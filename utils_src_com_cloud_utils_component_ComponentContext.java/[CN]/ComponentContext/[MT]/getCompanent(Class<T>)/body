{
  assert(s_appContext != null);
  try {
    return (T)s_appContext.getBean(beanType);
  }
 catch (  NoSuchBeanDefinitionException e) {
    Map<String,T> matchedTypes=getComponentsOfType(beanType);
    if (matchedTypes.size() > 0) {
      for (      Map.Entry<String,T> entry : matchedTypes.entrySet()) {
        Primary primary=entry.getClass().getAnnotation(Primary.class);
        if (primary != null)         return entry.getValue();
      }
      s_logger.warn("Unable to uniquely locate bean type " + beanType.getName(),e);
      return (T)matchedTypes.values().toArray()[0];
    }
  }
  throw new NoSuchBeanDefinitionException("Unable to resolve bean type " + beanType.getName());
}

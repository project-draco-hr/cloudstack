{
  DownloadCommand dcmd=new DownloadCommand(_ds.getURI(),tp.getTemplate(),_ts.getMaxTemplateSizeInBytes());
  dcmd.setProxy(_ts.getHttpProxy());
  if (!freshDownload) {
    dcmd=new DownloadProgressCommand(dcmd,tp.getJobId(),RequestType.GET_OR_RESTART);
  }
  ep.sendCommand(dcmd);
  return tp;
}

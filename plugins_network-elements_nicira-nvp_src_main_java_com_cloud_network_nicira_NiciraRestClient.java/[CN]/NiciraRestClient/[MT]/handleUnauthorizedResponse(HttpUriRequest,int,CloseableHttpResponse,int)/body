{
  super.closeResponse(response);
  if (HttpStatusCodeHelper.isUnauthorized(previousStatusCode)) {
    s_logger.error(responseToErrorMessage(response));
    throw new CloudstackRESTException("Two consecutive failed attempts to authenticate against REST server");
  }
  final HttpUriRequest authenticateRequest=createAuthenticationRequest();
  final CloseableHttpResponse loginResponse=execute(authenticateRequest,statusCode);
  final int loginStatusCode=loginResponse.getStatusLine().getStatusCode();
  super.closeResponse(loginResponse);
  return execute(request,loginStatusCode);
}

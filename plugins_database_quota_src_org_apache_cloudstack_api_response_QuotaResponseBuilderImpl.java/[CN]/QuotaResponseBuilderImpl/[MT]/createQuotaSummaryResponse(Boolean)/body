{
  List<QuotaSummaryResponse> result=new ArrayList<QuotaSummaryResponse>();
  if (listAll) {
    for (    final AccountVO account : _accountDao.listAll()) {
      QuotaSummaryResponse qr=getQuotaSummaryResponse(account);
      result.add(qr);
    }
  }
 else {
    for (    final QuotaAccountVO quotaAccount : _quotaAccountDao.listAllQuotaAccount()) {
      AccountVO account=_accountDao.findById(quotaAccount.getId());
      if (account == null)       continue;
      QuotaSummaryResponse qr=getQuotaSummaryResponse(account);
      result.add(qr);
    }
  }
  return result;
}

{
  final File file=PropertiesUtil.findConfigFile("agent.properties");
  if (null == file) {
    throw new ConfigurationException("Unable to find agent.properties.");
  }
  s_logger.info("agent.properties found at " + file.getAbsolutePath());
  InputStream propertiesStream=null;
  try {
    propertiesStream=new FileInputStream(file);
    _properties.load(propertiesStream);
  }
 catch (  final FileNotFoundException ex) {
    throw new CloudRuntimeException("Cannot find the file: " + file.getAbsolutePath(),ex);
  }
catch (  final IOException ex) {
    throw new CloudRuntimeException("IOException in reading " + file.getAbsolutePath(),ex);
  }
 finally {
    IOUtils.closeQuietly(propertiesStream);
  }
}

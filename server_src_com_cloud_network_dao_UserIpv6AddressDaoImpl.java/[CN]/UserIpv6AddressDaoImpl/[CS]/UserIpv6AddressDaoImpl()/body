{
  AllFieldsSearch=createSearchBuilder();
  AllFieldsSearch.and("id",AllFieldsSearch.entity().getId(),Op.EQ);
  AllFieldsSearch.and("dataCenterId",AllFieldsSearch.entity().getDataCenterId(),Op.EQ);
  AllFieldsSearch.and("ipAddress",AllFieldsSearch.entity().getAddress(),Op.EQ);
  AllFieldsSearch.and("vlan",AllFieldsSearch.entity().getVlanId(),Op.EQ);
  AllFieldsSearch.and("accountId",AllFieldsSearch.entity().getAccountId(),Op.EQ);
  AllFieldsSearch.and("network",AllFieldsSearch.entity().getNetworkId(),Op.EQ);
  AllFieldsSearch.and("physicalNetworkId",AllFieldsSearch.entity().getPhysicalNetworkId(),Op.EQ);
  AllFieldsSearch.done();
  CountFreePublicIps=createSearchBuilder(Long.class);
  CountFreePublicIps.select(null,Func.COUNT,null);
  CountFreePublicIps.and("networkId",CountFreePublicIps.entity().getSourceNetworkId(),SearchCriteria.Op.EQ);
  CountFreePublicIps.done();
}

{
  if (sock != null && !closed) {
    try {
      if (s_logger.isInfoEnabled())       s_logger.info("close RFB socket");
      sock.setSoLinger(true,0);
      sock.close();
      sock=null;
      closed=true;
      if (rec != null) {
        rec.close();
        rec=null;
      }
    }
 catch (    Exception e) {
      if (s_logger.isInfoEnabled())       s_logger.info("Exception in closing RFB socket, " + e.toString());
      sock=null;
      closed=true;
      if (rec != null) {
        try {
          rec.close();
        }
 catch (        IOException e1) {
        }
        rec=null;
      }
    }
    if (s_logger.isInfoEnabled())     s_logger.info("RFB socket is closed");
  }
}

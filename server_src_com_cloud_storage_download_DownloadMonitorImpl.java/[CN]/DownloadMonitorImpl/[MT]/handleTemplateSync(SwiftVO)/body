{
  if (swift == null) {
    s_logger.warn("Huh? swift is null");
    return;
  }
  Map<String,TemplateInfo> templateInfos=listTemplate(swift);
  if (templateInfos == null) {
    return;
  }
  List<VMTemplateVO> allTemplates=_templateDao.listAll();
  for (  VMTemplateVO tmplt : allTemplates) {
    String uniqueName=tmplt.getUniqueName();
    VMTemplateSwiftVO tmpltSwift=_vmTemplateSwiftlDao.findBySwiftTemplate(swift.getId(),tmplt.getId());
    if (templateInfos.containsKey(uniqueName)) {
      TemplateInfo tmpltInfo=templateInfos.remove(uniqueName);
      if (tmpltSwift != null) {
        s_logger.info("Template Sync found " + uniqueName + " already in the template swift table");
        continue;
      }
 else {
        tmpltSwift=new VMTemplateSwiftVO(swift.getId(),tmplt.getId(),new Date(),tmpltInfo.getSize(),tmpltInfo.getPhysicalSize());
        _vmTemplateSwiftlDao.persist(tmpltSwift);
        s_logger.info("Template Sync added " + uniqueName + " to the template swift table");
      }
    }
  }
  for (  TemplateInfo tmpltInfo : templateInfos.values()) {
    s_logger.warn("Template Sync found template " + tmpltInfo.getInstallPath() + " in Swift description, but not in template table, please");
  }
}

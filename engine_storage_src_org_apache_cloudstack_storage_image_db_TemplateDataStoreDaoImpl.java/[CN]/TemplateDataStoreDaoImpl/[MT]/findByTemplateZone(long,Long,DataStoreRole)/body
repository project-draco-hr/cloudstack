{
  List<DataStore> imgStores=null;
  if (role == DataStoreRole.Image) {
    imgStores=this._storeMgr.getImageStoresByScope(new ZoneScope(zoneId));
  }
 else   if (role == DataStoreRole.ImageCache) {
    imgStores=this._storeMgr.getImageCacheStores(new ZoneScope(zoneId));
  }
  if (imgStores != null) {
    for (    DataStore store : imgStores) {
      List<TemplateDataStoreVO> sRes=this.listByTemplateStore(templateId,store.getId());
      if (sRes != null && sRes.size() > 0) {
        return sRes.get(0);
      }
    }
  }
  return null;
}

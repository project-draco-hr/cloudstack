{
  FirewallManagerImpl firewallMgr=(FirewallManagerImpl)ComponentLocator.getCurrentLocator().getManager(FirewallManager.class);
  Assert.assertTrue(firewallMgr._firewallElements.enumeration().hasMoreElements());
  Assert.assertTrue(firewallMgr._pfElements.enumeration().hasMoreElements());
  Assert.assertTrue(firewallMgr._staticNatElements.enumeration().hasMoreElements());
  Assert.assertTrue(firewallMgr._networkAclElements.enumeration().hasMoreElements());
  Assert.assertNotNull(firewallMgr._networkModel);
  Assert.assertNotNull(firewallMgr._firewallElements.get("VirtualRouter"));
  Assert.assertNotNull(firewallMgr._firewallElements.get("VpcVirtualRouter"));
  Assert.assertNotNull(firewallMgr._pfElements.get("VirtualRouter"));
  Assert.assertNotNull(firewallMgr._pfElements.get("VpcVirtualRouter"));
  Assert.assertNotNull(firewallMgr._staticNatElements.get("VirtualRouter"));
  Assert.assertNotNull(firewallMgr._staticNatElements.get("VpcVirtualRouter"));
  Assert.assertNotNull(firewallMgr._networkAclElements.get("VpcVirtualRouter"));
  Assert.assertNull(firewallMgr._networkAclElements.get("VirtualRouter"));
  Assert.assertTrue(firewallMgr._firewallElements.get("VirtualRouter") instanceof FirewallServiceProvider);
  Assert.assertTrue(firewallMgr._pfElements.get("VirtualRouter") instanceof PortForwardingServiceProvider);
  Assert.assertTrue(firewallMgr._staticNatElements.get("VirtualRouter") instanceof StaticNatServiceProvider);
  Assert.assertTrue(firewallMgr._networkAclElements.get("VpcVirtualRouter") instanceof NetworkACLServiceProvider);
  s_logger.info("Done testing injection of service elements into firewall manager");
}

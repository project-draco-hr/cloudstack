{
  boolean success=true;
  Long vpcId=config.getVpcId();
  if (vpcId == null) {
    s_logger.debug("Network " + config + " doesn't belong to any vpc, so skipping unplug nic part");
    return success;
  }
  List<? extends VirtualRouter> routers=_routerDao.listRoutersByVpcId(vpcId);
  for (  VirtualRouter router : routers) {
    if (!_ntwkService.isVmPartOfNetwork(router.getId(),config.getId())) {
      s_logger.debug("Router " + router + " is not a part the network "+ config);
      continue;
    }
    success=success && _vpcElementService.removeVmFromNetwork(router,config);
  }
  if (!success) {
    s_logger.warn("Failed to unplug nic in network " + config + " for virtual router in vpc id="+ vpcId);
  }
 else {
    s_logger.debug("Successfully unplugged nic in network " + config + " for virtual router in vpc id="+ vpcId);
  }
  return success;
}

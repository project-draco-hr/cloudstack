{
  if (gateway.getType() != VpcGateway.Type.Private) {
    s_logger.warn("Type of vpc gateway is not " + VpcGateway.Type.Private);
    return false;
  }
  List<DomainRouterVO> routers=_vpcRouterMgr.getVpcRouters(gateway.getVpcId());
  if (routers == null || routers.isEmpty()) {
    s_logger.debug(this.getName() + " element doesn't need to create Private gateway on the backend; VPC virtual " + "router doesn't exist in the vpc id="+ gateway.getVpcId());
    return true;
  }
  if (routers.size() > 1) {
    throw new CloudRuntimeException("Found more than one router in vpc " + gateway.getVpcId());
  }
  VirtualRouter router=routers.get(0);
  return _vpcRouterMgr.setupPrivateGateway(gateway,router);
}

{
  if (vpn.getVpcId() == null) {
    return null;
  }
  final List<DomainRouterVO> routers=_vpcRouterMgr.getVpcRouters(vpn.getVpcId());
  if (routers == null) {
    s_logger.debug("Cannot apply vpn users on the backend; virtual router doesn't exist in the network " + vpn.getVpcId());
    return null;
  }
  final Vpc vpc=_entityMgr.findById(Vpc.class,vpn.getVpcId());
  final DataCenterVO dcVO=_dcDao.findById(vpc.getZoneId());
  final NetworkTopology networkTopology=networkTopologyContext.retrieveNetworkTopology(dcVO);
  String[] result=null;
  for (  final DomainRouterVO domainRouterVO : routers) {
    result=networkTopology.applyVpnUsers(vpn,users,domainRouterVO);
  }
  return result;
}

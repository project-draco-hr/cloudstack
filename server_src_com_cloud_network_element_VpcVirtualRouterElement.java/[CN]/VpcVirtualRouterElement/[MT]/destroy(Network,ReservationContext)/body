{
  boolean success=true;
  final Long vpcId=config.getVpcId();
  if (vpcId == null) {
    logger.debug("Network " + config + " doesn't belong to any vpc, so skipping unplug nic part");
    return success;
  }
  final List<? extends VirtualRouter> routers=_routerDao.listByVpcId(vpcId);
  for (  final VirtualRouter router : routers) {
    if (!_networkMdl.isVmPartOfNetwork(router.getId(),config.getId())) {
      logger.debug("Router " + router + " is not a part the network "+ config);
      continue;
    }
    success=success && _vpcRouterMgr.removeVpcRouterFromGuestNetwork(router,config);
    if (!success) {
      logger.warn("Failed to unplug nic in network " + config + " for virtual router "+ router);
    }
 else {
      logger.debug("Successfully unplugged nic in network " + config + " for virtual router "+ router);
    }
  }
  return success;
}

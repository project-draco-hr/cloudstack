{
  DefaultDataStore ds=new DefaultDataStore();
  ds.setEndPointSelector(new DefaultPrimaryEndpointSelector(ds));
  ds.setId(pool.getId());
  ds.setType(StoreType.Primary);
  ds.setURI(pool.getHostAddress() + "/" + pool.getPath());
  ds.setUUID(pool.getUuid());
  ds.setDataStoreDriver(new XenDataStoreDriver(ds));
  ds.setBackupStrategy(new XenBackupStrategy(ds));
  ds.setVolumeStrategy(new XenVolumeStrategy(ds));
  ds.setSnapshotStrategy(new XenSnapshotStrategy(ds));
  ds.setLifeCycle(new DefaultPrimaryDataStoreLifeCycle(ds));
  return ds;
}

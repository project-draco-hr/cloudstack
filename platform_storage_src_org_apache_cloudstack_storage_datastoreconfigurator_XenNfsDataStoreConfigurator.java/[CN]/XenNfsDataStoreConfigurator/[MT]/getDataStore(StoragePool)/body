{
  DefaultDataStore ds=new DefaultDataStore();
  ds.setBackupStrategy(new XenBackupStrategy());
  ds.setVolumeStrategy(new XenVolumeStrategy());
  ds.setSnapshotStrategy(new XenSnapshotStrategy());
  ds.setEndPointSelector(new DefaultPrimaryEndpointSelector());
  ds.setFileSystem(new DefaultFileSystem());
  ds.setId(pool.getId());
  ds.setType(StoreType.Primary);
  ds.setURI(pool.getHostAddress() + "/" + pool.getPath());
  ds.setUUID(pool.getUuid());
  ds.setDataStoreDriver(new XenDataStoreDriver());
  ds.setLifeCycle(new DefaultDataStoreLifeCycle(ds));
  return ds;
}

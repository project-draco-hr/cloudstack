{
  getEntityInDatabase(CallContext.current().getCallingAccount(),"AutoScale Policy",id,_autoScalePolicyDao);
  if (_autoScaleVmGroupPolicyMapDao.isAutoScalePolicyInUse(id)) {
    throw new InvalidParameterValueException("Cannot delete AutoScale Policy when it is in use by one or more AutoScale Vm Groups");
  }
  Transaction txn=Transaction.currentTxn();
  txn.start();
  boolean success=true;
  success=_autoScalePolicyDao.remove(id);
  if (!success) {
    s_logger.warn("Failed to remove AutoScale Policy db object");
    return false;
  }
  success=_autoScalePolicyConditionMapDao.removeByAutoScalePolicyId(id);
  if (!success) {
    s_logger.warn("Failed to remove AutoScale Policy Condition mappings");
    return false;
  }
  txn.commit();
  s_logger.info("Successfully deleted autoscale policy id : " + id);
  return true;
}

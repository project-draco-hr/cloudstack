{
  String source=cmd.getSource().toLowerCase();
  String name=cmd.getName();
  Counter.Source src;
  try {
    src=Counter.Source.valueOf(source);
  }
 catch (  Exception ex) {
    throw new InvalidParameterValueException("The Source " + source + " does not exist; Unable to create Counter");
  }
  CounterVO counter=null;
  s_logger.debug("Adding Counter " + name);
  counter=_counterDao.persist(new CounterVO(src,name,cmd.getValue()));
  CallContext.current().setEventDetails(" Id: " + counter.getId() + " Name: "+ name);
  return counter;
}

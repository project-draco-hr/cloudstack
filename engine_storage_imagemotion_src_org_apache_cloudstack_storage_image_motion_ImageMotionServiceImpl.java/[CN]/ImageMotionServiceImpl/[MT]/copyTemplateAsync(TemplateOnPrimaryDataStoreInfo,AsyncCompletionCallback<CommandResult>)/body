{
  ImageMotionStrategy ims=null;
  for (  ImageMotionStrategy strategy : motionStrategies) {
    if (strategy.canHandle(templateStore)) {
      ims=strategy;
      break;
    }
  }
  if (ims == null) {
    throw new CloudRuntimeException("Can't find proper image motion strategy");
  }
  EndPoint ep=ims.getEndPoint(templateStore);
  volumeService.grantAccess(templateStore,ep);
  TemplateInfo template=templateStore.getTemplate();
  imageService.grantTemplateAccess(template,ep);
  AsyncCallbackDispatcher caller=new AsyncCallbackDispatcher(this).setParentCallback(callback).setOperationName("imagemotionService.copytemplate.callback");
  ims.copyTemplateAsync(templateStore,ep,caller);
}

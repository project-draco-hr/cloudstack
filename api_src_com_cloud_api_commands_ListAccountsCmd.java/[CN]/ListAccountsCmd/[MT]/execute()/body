{
  Pair<List<? extends Account>,Integer> accounts=_accountService.searchForAccounts(this);
  ListResponse<AccountResponse> response=new ListResponse<AccountResponse>();
  List<AccountResponse> accountResponses=new ArrayList<AccountResponse>();
  for (  Account account : accounts.first()) {
    AccountResponse acctResponse=_responseGenerator.createAccountResponse(account);
    acctResponse.setObjectName("account");
    accountResponses.add(acctResponse);
  }
  response.setResponses(accountResponses,accounts.second());
  response.setResponseName(getCommandName());
  this.setResponseObject(response);
}

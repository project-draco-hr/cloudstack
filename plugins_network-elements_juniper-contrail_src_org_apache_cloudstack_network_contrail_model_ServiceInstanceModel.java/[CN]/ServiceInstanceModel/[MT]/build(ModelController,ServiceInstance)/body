{
  ApiConnector api=controller.getApiAccessor();
  _serviceInstance=siObj;
  _fq_name=StringUtils.join(siObj.getQualifiedName(),':');
  ServiceInstanceType props=siObj.getProperties();
  ObjectReference ref=siObj.getServiceTemplate().get(0);
  if (ref != null) {
    try {
      ServiceTemplate tmpl=(ServiceTemplate)api.findById(ServiceTemplate.class,ref.getUuid());
      _templateId=tmpl.getUuid();
    }
 catch (    IOException ex) {
      s_logger.warn("service-template read",ex);
    }
  }
  try {
    Project project=(Project)api.findById(Project.class,siObj.getParentUuid());
    if (project != null) {
      _projectId=project.getUuid();
    }
    String policyId=api.findByName(NetworkPolicy.class,project,siObj.getName());
    if (policyId != null) {
      _policy=(NetworkPolicy)api.findById(NetworkPolicy.class,policyId);
    }
  }
 catch (  IOException ex) {
    s_logger.warn("network-policy read",ex);
  }
}

{
  DomainRouterVO router=getRouter(vpnVO.getAccountId(),vpnVO.getZoneId());
  if (router == null) {
    s_logger.warn("Failed to add/remove VPN users: no router found for account and zone");
    return false;
  }
  if (router.getState() != State.Running) {
    s_logger.warn("Failed to add/remove VPN users: router not in running state");
    return false;
  }
  try {
    Answer answer=_agentMgr.send(router.getHostId(),new VpnUsersCfgCommand(addUsers,removeUsers));
    if (answer != null && answer.getResult()) {
      return true;
    }
 else {
      s_logger.debug("Failed to add/remove VPN users: " + answer.getDetails());
      return false;
    }
  }
 catch (  AgentUnavailableException e) {
    s_logger.debug("Failed to add/remove VPN users:: ",e);
    return false;
  }
catch (  OperationTimedoutException e) {
    s_logger.debug("Failed to add/remove VPN users:: ",e);
    return false;
  }
}

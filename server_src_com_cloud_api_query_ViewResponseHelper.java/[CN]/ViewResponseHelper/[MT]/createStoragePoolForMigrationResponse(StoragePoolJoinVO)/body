{
  Hashtable<Long,StoragePoolForMigrationResponse> vrDataList=new Hashtable<Long,StoragePoolForMigrationResponse>();
  for (  StoragePoolJoinVO vr : pools) {
    StoragePoolForMigrationResponse vrData=vrDataList.get(vr.getId());
    if (vrData == null) {
      vrData=ApiDBUtils.newStoragePoolForMigrationResponse(vr);
    }
 else {
      vrData=ApiDBUtils.fillStoragePoolForMigrationDetails(vrData,vr);
    }
    vrDataList.put(vr.getId(),vrData);
  }
  return new ArrayList<StoragePoolForMigrationResponse>(vrDataList.values());
}

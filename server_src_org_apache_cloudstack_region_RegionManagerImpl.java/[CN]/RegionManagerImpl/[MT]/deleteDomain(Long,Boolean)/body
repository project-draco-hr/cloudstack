{
  DomainVO domain=_domainDao.findById(id);
  if (domain == null) {
    throw new InvalidParameterValueException("The specified domain doesn't exist in the system");
  }
  String domainUUID=domain.getUuid();
  String command="deleteDomain";
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair(ApiConstants.ID,domainUUID));
  params.add(new NameValuePair(ApiConstants.CLEANUP,cleanup.toString()));
  int regionId=domain.getRegionId();
  if (getId() == regionId) {
    if (_domainMgr.deleteDomain(id,cleanup)) {
      List<RegionVO> regions=_regionDao.listAll();
      for (      Region region : regions) {
        if (region.getId() == getId()) {
          continue;
        }
        params.add(new NameValuePair(ApiConstants.IS_PROPAGATE,"true"));
        if (RegionsApiUtil.makeAPICall(region,command,params)) {
          s_logger.debug("Successfully deleted domain :" + domainUUID + " in Region: "+ region.getId());
        }
 else {
          s_logger.error("Error while deleting domain :" + domainUUID + " in Region: "+ region.getId());
        }
      }
      return true;
    }
 else {
      return false;
    }
  }
 else {
    Region region=_regionDao.findById(regionId);
    if (RegionsApiUtil.makeAPICall(region,command,params)) {
      s_logger.debug("Successfully deleted domain :" + domainUUID + " in Region: "+ region.getId());
      return true;
    }
 else {
      s_logger.error("Error while deleting domain :" + domainUUID + " in Region: "+ region.getId());
      return false;
    }
  }
}

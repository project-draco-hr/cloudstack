{
  UserVO user=_userDao.findById(userId);
  if (user == null || user.getRemoved() != null) {
    throw new InvalidParameterValueException("Unable to find active user by id " + userId);
  }
  int regionId=user.getRegionId();
  String command="disableUser";
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair(ApiConstants.ID,user.getUuid()));
  if (getId() == regionId) {
    return _accountMgr.disableUser(userId);
  }
 else {
    Region region=_regionDao.findById(regionId);
    UserAccount disabledUser=RegionsApiUtil.makeUserAccountAPICall(region,command,params);
    if (disabledUser != null) {
      s_logger.debug("Successfully disabled user :" + user.getUuid() + " in source Region: "+ region.getId());
      return disabledUser;
    }
 else {
      throw new CloudRuntimeException("Error while disabling user :" + user.getUuid() + " in source Region: "+ region.getId());
    }
  }
}

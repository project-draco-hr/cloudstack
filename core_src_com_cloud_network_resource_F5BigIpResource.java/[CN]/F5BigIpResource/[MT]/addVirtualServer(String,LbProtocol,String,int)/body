{
  try {
    if (!virtualServerExists(virtualServerName)) {
      s_logger.debug("Adding virtual server " + virtualServerName);
      _virtualServerApi.create(genVirtualServerDefinition(virtualServerName,protocol,srcIp,srcPort),new String[]{"255.255.255.255"},genVirtualServerResource(virtualServerName),genVirtualServerProfile(protocol));
      _virtualServerApi.set_snat_automap(genStringArray(virtualServerName));
      if (!virtualServerExists(virtualServerName)) {
        throw new ExecutionException("Failed to add virtual server " + virtualServerName);
      }
    }
  }
 catch (  RemoteException e) {
    throw new ExecutionException(e.getMessage());
  }
}

{
  socketAppender=new SocketAppender("localhost",PORT);
  socketAppender.setLocationInfo(true);
  rootLogger.addAppender(socketAppender);
  common("T3","key3","MDC-TEST3");
  delay(1);
  ControlFilter cf=new ControlFilter(new String[]{PAT3,EXCEPTION1,EXCEPTION2,EXCEPTION3,EXCEPTION4,EXCEPTION5});
  Transformer.transform(TEMP,FILTERED,new Filter[]{cf,new LineNumberFilter(),new JunitTestRunnerFilter(),new SunReflectFilter()});
  assertTrue(Compare.compare(FILTERED,"witness/socketServer.3"));
}

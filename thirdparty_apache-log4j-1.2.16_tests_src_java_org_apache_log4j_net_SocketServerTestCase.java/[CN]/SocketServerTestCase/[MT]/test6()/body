{
  socketAppender=new SocketAppender("localhost",PORT);
  socketAppender.setLocationInfo(true);
  AsyncAppender asyncAppender=new AsyncAppender();
  asyncAppender.setLocationInfo(true);
  asyncAppender.addAppender(socketAppender);
  rootLogger.addAppender(asyncAppender);
  NDC.push("some6");
  MDC.put("hostID","client-test6");
  common("T6","key6","MDC-TEST6");
  NDC.pop();
  MDC.remove("hostID");
  delay(2);
  if (!System.getProperty("java.version").startsWith("1.1.")) {
    ControlFilter cf=new ControlFilter(new String[]{PAT6,EXCEPTION1,EXCEPTION2,EXCEPTION3,EXCEPTION4,EXCEPTION5});
    Transformer.transform(TEMP,FILTERED,new Filter[]{cf,new LineNumberFilter(),new JunitTestRunnerFilter(),new SunReflectFilter()});
    assertTrue(Compare.compare(FILTERED,"witness/socketServer.6"));
  }
}

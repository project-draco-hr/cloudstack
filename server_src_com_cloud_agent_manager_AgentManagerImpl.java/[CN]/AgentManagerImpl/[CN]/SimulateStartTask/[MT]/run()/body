{
  AgentAttache at=null;
  try {
    if (s_logger.isDebugEnabled()) {
      s_logger.debug("Simulating start for resource " + resource.getName() + " id "+ id);
    }
    simulateStart(resource,details,false,null);
  }
 catch (  Exception e) {
    s_logger.warn("Unable to simulate start on resource " + id + " name "+ resource.getName(),e);
  }
 finally {
    if (actionDelegate != null) {
      actionDelegate.action(new Long(id));
    }
    if (at == null) {
      HostVO host=_hostDao.findById(id);
      host.setManagementServerId(null);
      _hostDao.update(id,host);
    }
    StackMaid.current().exitCleanup();
  }
}

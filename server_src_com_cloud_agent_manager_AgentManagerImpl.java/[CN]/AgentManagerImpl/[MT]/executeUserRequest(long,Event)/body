{
  if (event == Event.MaintenanceRequested) {
    return maintain(hostId);
  }
 else   if (event == Event.ResetRequested) {
    return cancelMaintenance(hostId);
  }
 else   if (event == Event.PrepareUnmanaged) {
    return disconnect(hostId);
  }
 else   if (event == Event.Remove) {
    User caller=_accountMgr.getActiveUser(User.UID_SYSTEM);
    return deleteHost(hostId,false,false,caller);
  }
 else   if (event == Event.AgentDisconnected) {
    if (s_logger.isDebugEnabled()) {
      s_logger.debug("Received agent disconnect event for host " + hostId);
    }
    AgentAttache attache=null;
    attache=findAttache(hostId);
    if (attache != null) {
      handleDisconnect(attache,Event.AgentDisconnected,false);
    }
    return true;
  }
 else   if (event == Event.ShutdownRequested) {
    return reconnect(hostId);
  }
 else   if (event == Event.UpdatePassword) {
    AgentAttache attache=findAttache(hostId);
    if (attache != null) {
      DetailVO nv=_detailsDao.findDetail(hostId,ApiConstants.USERNAME);
      String username=nv.getValue();
      nv=_detailsDao.findDetail(hostId,ApiConstants.PASSWORD);
      String password=nv.getValue();
      UpdateHostPasswordCommand cmd=new UpdateHostPasswordCommand(username,password);
      attache.updatePassword(cmd);
      return true;
    }
  }
  return false;
}

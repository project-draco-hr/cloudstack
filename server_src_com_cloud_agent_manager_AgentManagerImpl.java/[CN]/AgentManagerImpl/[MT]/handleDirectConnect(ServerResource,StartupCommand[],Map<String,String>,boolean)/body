{
  if (startup == null) {
    return null;
  }
  HostVO server=createHost(startup,resource,details,old);
  if (server == null) {
    return null;
  }
  long id=server.getId();
  AgentAttache attache=createAttache(id,server,resource);
  if (!resource.IsRemoteAgent())   notifyMonitorsOfConnection(attache,startup);
 else {
    _hostDao.updateStatus(server,Event.AgentConnected,_nodeId);
  }
  return attache;
}

{
  VmCharacteristics vmc=new VmCharacteristics(vm.getType());
  Enumeration<HostAllocator> en=_hostAllocators.enumeration();
  while (en.hasMoreElements()) {
    final HostAllocator allocator=en.nextElement();
    final Host host=allocator.allocateTo(vmc,offering,type,dc,pod,sp.getClusterId(),template,avoid);
    if (host == null) {
      continue;
    }
 else {
      return host;
    }
  }
  s_logger.warn("findHost() could not find a non-null host.");
  return null;
}

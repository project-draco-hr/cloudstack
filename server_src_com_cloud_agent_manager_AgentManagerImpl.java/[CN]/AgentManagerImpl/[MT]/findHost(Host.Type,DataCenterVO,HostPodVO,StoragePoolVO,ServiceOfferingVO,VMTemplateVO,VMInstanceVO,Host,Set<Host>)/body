{
  VirtualMachineProfileImpl<VMInstanceVO> vmProfile=new VirtualMachineProfileImpl<VMInstanceVO>(vm,template,offering,null,null,null);
  DeployDestination dest=null;
  DataCenterDeployment plan=new DataCenterDeployment(dc.getId(),pod.getId(),sp.getClusterId(),null);
  ExcludeList avoids=new ExcludeList();
  for (  Host h : avoid) {
    avoids.addHost(h.getId());
  }
  for (  DeploymentPlanner planner : _planners) {
    try {
      dest=planner.plan(vmProfile,plan,avoids);
      if (dest != null) {
        return dest.getHost();
      }
    }
 catch (    InsufficientServerCapacityException e) {
    }
  }
  s_logger.warn("findHost() could not find a non-null host.");
  return null;
}

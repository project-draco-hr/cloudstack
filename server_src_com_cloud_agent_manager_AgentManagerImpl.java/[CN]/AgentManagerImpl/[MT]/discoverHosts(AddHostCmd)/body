{
  Long dcId=cmd.getZoneId();
  Long podId=cmd.getPodId();
  Long clusterId=cmd.getClusterId();
  String clusterName=cmd.getClusterName();
  String url=cmd.getUrl();
  String username=cmd.getUsername();
  String password=cmd.getPassword();
  Long memCapacity=cmd.getMemCapacity();
  Long cpuCapacity=cmd.getCpuCapacity();
  Long cpuNum=cmd.getCpuNum();
  String mac=cmd.getMac();
  String hostTag=cmd.getHostTag();
  Map<String,String> bareMetalParams=new HashMap<String,String>();
  if (clusterName == null && clusterId == null) {
    clusterName="Standalone-" + url;
  }
  if (cmd.getHypervisor().equalsIgnoreCase(Hypervisor.HypervisorType.BareMetal.toString())) {
    if (memCapacity == null) {
      memCapacity=Long.valueOf(0);
    }
    if (cpuCapacity == null) {
      cpuCapacity=Long.valueOf(0);
    }
    if (cpuNum == null) {
      cpuNum=Long.valueOf(0);
    }
    if (mac == null) {
      mac="unknown";
    }
    bareMetalParams.put("cpuNum",cpuNum.toString());
    bareMetalParams.put("cpuCapacity",cpuCapacity.toString());
    bareMetalParams.put("memCapacity",memCapacity.toString());
    bareMetalParams.put("mac",mac);
    if (hostTag != null) {
      bareMetalParams.put("hostTag",hostTag);
    }
  }
  List<String> hostTags=cmd.getHostTags();
  String allocationState=cmd.getAllocationState();
  if (allocationState == null) {
    allocationState=Host.HostAllocationState.Enabled.toString();
  }
  return discoverHostsFull(dcId,podId,clusterId,clusterName,url,username,password,cmd.getHypervisor(),hostTags,bareMetalParams,allocationState);
}

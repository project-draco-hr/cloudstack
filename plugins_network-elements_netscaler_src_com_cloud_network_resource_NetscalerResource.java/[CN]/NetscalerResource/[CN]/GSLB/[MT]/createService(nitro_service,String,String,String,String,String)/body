{
  try {
    gslbservice service;
    service=getServiceObject(client,serviceName);
    boolean isUpdateSite=false;
    if (service == null) {
      service=new gslbservice();
    }
 else {
      isUpdateSite=true;
    }
    service.set_sitename(siteName);
    service.set_servername(serviceIp);
    int port=Integer.parseInt(servicePort);
    service.set_port(port);
    service.set_servicename(serviceName);
    service.set_servicetype(serviceType);
    if (isUpdateSite) {
      service.set_viewip(null);
      service.set_viewname(null);
      gslbservice.update(client,service);
    }
 else {
      gslbservice.add(client,service);
    }
    if (s_logger.isDebugEnabled()) {
      s_logger.debug("Successfully created service: " + serviceName + " at site: "+ siteName);
    }
  }
 catch (  Exception e) {
    String errMsg="Failed to created service: " + serviceName + " at site: "+ siteName;
    if (s_logger.isDebugEnabled()) {
      s_logger.debug(errMsg);
    }
    throw new ExecutionException(errMsg);
  }
}

{
  if (s_logger.isDebugEnabled()) {
    s_logger.debug("Destroying vm " + vm.toString());
  }
  if (!_vmDao.updateIf(vm,VirtualMachine.Event.DestroyRequested,vm.getHostId())) {
    s_logger.debug("Unable to destroy the vm because it is not in the correct state: " + vm.toString());
    return false;
  }
  return true;
}

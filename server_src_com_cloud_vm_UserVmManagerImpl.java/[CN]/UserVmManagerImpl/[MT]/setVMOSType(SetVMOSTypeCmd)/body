{
  long id=cmd.getVirtualMachineId();
  UserVmVO vmInstance=_vmDao.findById(id);
  if (vmInstance == null) {
    throw new CloudRuntimeException("Unable to find virtual machine with id " + id + ", internal error.");
  }
  vmInstance.setGuestOSId(cmd.getOsTypeId());
  _vmDao.update(id,vmInstance);
  return true;
}

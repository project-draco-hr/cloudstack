{
  if (_useNewNetworking) {
    return startVirtualMachine(cmd.getId());
  }
  Account account=UserContext.current().getAccount();
  Long userId=UserContext.current().getUserId();
  Long id=cmd.getId();
  if (account != null && account.getRemoved() != null)   throw new ServerApiException(BaseCmd.ACCOUNT_ERROR,"The account " + account.getId() + " is removed");
  UserVmVO vmInstance=_vmDao.findById(id.longValue());
  if (vmInstance == null) {
    throw new ServerApiException(BaseCmd.PARAM_ERROR,"unable to find a virtual machine with id " + id);
  }
  long eventId=EventUtils.saveScheduledEvent(userId,vmInstance.getAccountId(),EventTypes.EVENT_VM_START,"Starting Vm with Id: " + id);
  userId=accountAndUserValidation(id,account,userId,vmInstance);
  UserVmVO vm=startVirtualMachine(userId,id,null,null,eventId);
  ;
  if (vm != null) {
    return vm;
  }
 else {
    throw new CloudRuntimeException("Internal error starting virtual machine id " + cmd.getId());
  }
}

{
  if (vmName != null) {
    return new StopCommand(vm,vmName,VirtualMachineName.getVnet(vmName));
  }
 else   if (vm != null) {
    return new StopCommand(vm,vm.getVnet());
  }
 else {
    throw new CloudRuntimeException("Shouldn't even be here!");
  }
}

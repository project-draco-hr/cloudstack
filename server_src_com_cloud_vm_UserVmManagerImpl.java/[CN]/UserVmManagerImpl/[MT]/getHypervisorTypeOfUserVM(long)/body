{
  UserVmVO userVm=_vmDao.findById(vmid);
  if (userVm == null) {
    InvalidParameterValueException ex=new InvalidParameterValueException("unable to find a virtual machine with id " + vmid);
    String tablename=AnnotationHelper.getTableName(userVm);
    if (tablename != null) {
      ex.addProxyObject(tablename,vmid,"vmId");
    }
 else {
      s_logger.info("\nCould not retrieve table name (annotation) from " + tablename + " VO proxy object\n");
    }
    throw ex;
  }
  return userVm.getHypervisorType();
}

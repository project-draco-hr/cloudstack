{
  if (vpc.getState().equals(Vpc.State.Inactive)) {
    Domain vpcDomain=_domainDao.findById(vpc.getDomainId());
    HostVO nuageVspHost=getNuageVspHost(getPhysicalNetworkId(vpc.getZoneId()));
    String preConfiguredDomainTemplateName=_configDao.getValue(NuageVspManager.NuageVspVpcDomainTemplateName.key());
    ShutDownVpcVspCommand.Builder cmdBuilder=new ShutDownVpcVspCommand.Builder().domainUuid(vpcDomain.getUuid()).vpcUuid(vpc.getUuid()).domainTemplateName(preConfiguredDomainTemplateName);
    Answer answer=_agentMgr.easySend(nuageVspHost.getId(),cmdBuilder.build());
    if (answer == null || !answer.getResult()) {
      s_logger.error("ShutDownVpcVspCommand for VPC " + vpc.getUuid() + " failed on Nuage VSD "+ nuageVspHost.getDetail("hostname"));
      if ((null != answer) && (null != answer.getDetails())) {
        throw new ResourceUnavailableException(answer.getDetails(),Vpc.class,vpc.getId());
      }
    }
  }
  return true;
}

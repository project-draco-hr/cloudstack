{
  if (networkIds != null && ipToNetworkList != null) {
    throw new InvalidParameterValueException("NetworkIds can't be specified along with ipToNetworkMap");
  }
  Map<Long,String> ipToNetworkMap=null;
  if (ipToNetworkList != null && !ipToNetworkList.isEmpty()) {
    ipToNetworkMap=new HashMap<Long,String>();
    Collection ipsCollection=ipToNetworkList.values();
    Iterator iter=ipsCollection.iterator();
    while (iter.hasNext()) {
      HashMap<String,String> ips=(HashMap<String,String>)iter.next();
      Long networkId=Long.valueOf(ips.get("networkid"));
      String requestedIp=(String)ips.get("ip");
      ipToNetworkMap.put(networkId,requestedIp);
    }
  }
  return ipToNetworkMap;
}

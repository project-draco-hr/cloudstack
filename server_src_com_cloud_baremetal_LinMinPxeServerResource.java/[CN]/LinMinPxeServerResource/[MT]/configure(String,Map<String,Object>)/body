{
  _name=name;
  _guid=(String)params.get("guid");
  _ip=(String)params.get("ip");
  _username=(String)params.get("username");
  _password=(String)params.get("password");
  _zoneId=(String)params.get("zone");
  if (_guid == null) {
    throw new ConfigurationException("No Guid specified");
  }
  if (_zoneId == null) {
    throw new ConfigurationException("No Zone specified");
  }
  if (_ip == null) {
    throw new ConfigurationException("No IP specified");
  }
  if (_username == null) {
    throw new ConfigurationException("No username specified");
  }
  if (_password == null) {
    throw new ConfigurationException("No password specified");
  }
  com.trilead.ssh2.Connection sshConnection=new com.trilead.ssh2.Connection(_ip,22);
  s_logger.debug(String.format("Trying to connect to LinMin PXE server(IP=%1$s, username=%2$s, password=%3$s",_ip,_username,_password));
  try {
    sshConnection.connect(null,60000,60000);
    if (!sshConnection.authenticateWithPassword(_username,_password)) {
      s_logger.debug("SSH Failed to authenticate");
      throw new ConfigurationException(String.format("Cannot connect to LinMin PXE server(IP=%1$s, username=%2$s, password=%3$s",_ip,_username,_password));
    }
    if (!SSHCmdHelper.sshExecuteCmd(sshConnection,"[ -d '/home/tftpboot' ] && [ -d '/usr/local/linmin' ]")) {
      throw new ConfigurationException("Cannot find LinMin directory /home/tftpboot, /usr/local/linmin on PXE server");
    }
    return true;
  }
 catch (  Exception e) {
    throw new ConfigurationException(e.getMessage());
  }
 finally {
    if (sshConnection != null) {
      sshConnection.close();
    }
  }
}

{
  Class<? extends Command> keepCommandClass=commandClass;
  CommandWrapper<Command,Answer,ServerResource> commandWrapper=resourceCommands.get(keepCommandClass);
  while (commandWrapper == null) {
    try {
      final Class<? extends Command> commandClass2=(Class<? extends Command>)keepCommandClass.getSuperclass();
      if (commandClass2 == null) {
        throw new NullPointerException("All the COMMAND hierarchy tree has been visited but no compliant key has been found for '" + commandClass + "'.");
      }
      commandWrapper=resourceCommands.get(commandClass2);
      keepCommandClass=commandClass2;
    }
 catch (    final ClassCastException e) {
      throw new NullPointerException("No key found for '" + keepCommandClass.getClass() + "' in the Map!");
    }
catch (    final NullPointerException e) {
      return null;
    }
  }
  return commandWrapper;
}

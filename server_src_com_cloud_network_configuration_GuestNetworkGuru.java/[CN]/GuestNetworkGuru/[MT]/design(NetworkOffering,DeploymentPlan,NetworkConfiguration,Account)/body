{
  if (offering.getTrafficType() != TrafficType.Guest) {
    return null;
  }
  GuestIpType ipType=offering.getGuestIpType();
  BroadcastDomainType broadcastType=null;
  Mode mode=null;
  if (ipType == GuestIpType.Virtualized) {
    mode=Mode.Dhcp;
    broadcastType=BroadcastDomainType.Vlan;
  }
 else {
    broadcastType=BroadcastDomainType.Native;
    mode=Mode.Dhcp;
  }
  NetworkConfigurationVO profile=new NetworkConfigurationVO(offering.getTrafficType(),mode,broadcastType,offering.getId(),plan.getDataCenterId());
  DataCenterVO dc=_dcDao.findById(plan.getDataCenterId());
  return profile;
}

{
  List<HostVO> hosts=_resourceMgr.listAllUpAndEnabledHostsInOneZoneByHypervisor(HypervisorType.KVM,scope.getScopeId());
  for (  HostVO host : hosts) {
    try {
      this.storageMgr.connectHostToSharedPool(host.getId(),dataStore.getId());
    }
 catch (    Exception e) {
      s_logger.warn("Unable to establish a connection between " + host + " and "+ dataStore,e);
    }
  }
  StoragePoolVO pool=this.primaryDataStoreDao.findById(dataStore.getId());
  pool.setScope(ScopeType.ZONE);
  pool.setStatus(StoragePoolStatus.Up);
  this.primaryDataStoreDao.update(pool.getId(),pool);
  return true;
}

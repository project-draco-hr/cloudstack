{
  if (this.dataStore.getRole() == DataStoreRole.Primary) {
    if (answer instanceof CopyCmdAnswer) {
      CopyCmdAnswer cpyAnswer=(CopyCmdAnswer)answer;
      VolumeVO vol=this.volumeDao.findById(this.getId());
      VolumeObjectTO newVol=(VolumeObjectTO)cpyAnswer.getNewData();
      vol.setPath(newVol.getPath());
      vol.setSize(newVol.getSize());
      volumeDao.update(vol.getId(),vol);
    }
  }
 else   if (this.dataStore.getRole() == DataStoreRole.Image) {
    if (answer instanceof DownloadAnswer) {
      DownloadAnswer dwdAnswer=(DownloadAnswer)answer;
      VolumeDataStoreVO volStore=this.volumeStoreDao.findByStoreVolume(this.dataStore.getId(),this.getId());
      volStore.setInstallPath(dwdAnswer.getInstallPath());
      volStore.setChecksum(dwdAnswer.getCheckSum());
      this.volumeStoreDao.update(volStore.getId(),volStore);
    }
  }
  this.processEvent(event);
}

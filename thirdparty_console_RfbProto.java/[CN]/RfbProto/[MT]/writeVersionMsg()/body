{
  clientMajor=3;
  if (serverMajor > 3 || serverMinor >= 8) {
    clientMinor=8;
    os.write(versionMsg_3_8.getBytes());
  }
 else   if (serverMinor >= 7) {
    clientMinor=7;
    os.write(versionMsg_3_7.getBytes());
  }
 else {
    clientMinor=3;
    os.write(versionMsg_3_3.getBytes());
  }
  protocolTightVNC=false;
}

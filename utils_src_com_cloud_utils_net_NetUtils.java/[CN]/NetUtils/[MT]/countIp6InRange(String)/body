{
  if (ip6Range == null) {
    return null;
  }
  String[] ips=ip6Range.split("-");
  String startIp=ips[0];
  String endIp=ips[0];
  if (ips.length > 1) {
    endIp=ips[1];
  }
  IPv6Address start, end;
  try {
    start=IPv6Address.fromString(startIp);
    end=IPv6Address.fromString(endIp);
  }
 catch (  IllegalArgumentException ex) {
    return null;
  }
  BigInteger startInt=convertIPv6AddressToBigInteger(start);
  BigInteger endInt=convertIPv6AddressToBigInteger(end);
  if (endInt != null) {
    if (startInt != null) {
      if (startInt.compareTo(endInt) > 0) {
        return null;
      }
    }
    return endInt.subtract(startInt).add(BigInteger.ONE);
  }
  return null;
}

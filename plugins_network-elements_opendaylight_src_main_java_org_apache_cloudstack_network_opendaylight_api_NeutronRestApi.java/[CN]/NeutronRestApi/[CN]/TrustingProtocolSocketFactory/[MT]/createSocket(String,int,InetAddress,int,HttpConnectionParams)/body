{
  int timeout=params.getConnectionTimeout();
  if (timeout == 0) {
    return createSocket(host,port,localAddress,localPort);
  }
 else {
    SSLSocket s=(SSLSocket)ssf.createSocket();
    s.setEnabledProtocols(SSLUtils.getSupportedProtocols(s.getEnabledProtocols()));
    s.bind(new InetSocketAddress(localAddress,localPort));
    s.connect(new InetSocketAddress(host,port),timeout);
    return s;
  }
}

{
  client=createHttpClient();
  client.getParams().setCookiePolicy(CookiePolicy.BROWSER_COMPATIBILITY);
  this.httpClazz=httpClazz;
  try {
    Protocol.registerProtocol(protocol,new Protocol(protocol,(ProtocolSocketFactory)new TrustingProtocolSocketFactory(),HTTPS_PORT));
  }
 catch (  IOException e) {
    s_logger.warn("Failed to register the TrustingProtocolSocketFactory, falling back to default SSLSocketFactory",e);
  }
}

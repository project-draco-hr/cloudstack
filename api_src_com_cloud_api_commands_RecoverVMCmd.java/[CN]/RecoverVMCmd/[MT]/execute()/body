{
  try {
    UserVm result=_userVmService.recoverVirtualMachine(this);
    if (result != null) {
      UserVmResponse recoverVmResponse=_responseGenerator.createUserVmResponse(result);
      recoverVmResponse.setResponseName(getName());
      this.setResponseObject(recoverVmResponse);
    }
 else {
      throw new ServerApiException(BaseCmd.INTERNAL_ERROR,"Failed to recover vm");
    }
  }
 catch (  ResourceAllocationException ex) {
    throw new ServerApiException(BaseCmd.RESOURCE_ALLOCATION_ERROR,ex.getMessage());
  }
}

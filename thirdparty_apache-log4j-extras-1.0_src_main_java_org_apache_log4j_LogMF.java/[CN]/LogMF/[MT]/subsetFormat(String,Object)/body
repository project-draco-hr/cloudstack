{
  if (pattern != null) {
    int bracePos=pattern.indexOf("{");
    if (bracePos != -1) {
      if ((pattern.indexOf("{0}",bracePos) == bracePos) && (pattern.indexOf("{",bracePos + 1) == -1) && (pattern.indexOf("'") == -1)) {
        String replacement;
        if (arg0 instanceof String) {
          replacement=arg0.toString();
        }
 else         if (arg0 instanceof Number) {
          replacement=NumberFormat.getInstance().format(arg0);
        }
 else         if (arg0 instanceof Date) {
          replacement=DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.SHORT).format(arg0);
        }
 else {
          replacement=String.valueOf(arg0);
        }
        final StringBuffer buf=new StringBuffer(pattern);
        buf.replace(bracePos,bracePos + "{0}".length(),replacement);
        return buf.toString();
      }
    }
 else {
      if (pattern.indexOf("'") == -1) {
        return pattern;
      }
    }
  }
  return null;
}

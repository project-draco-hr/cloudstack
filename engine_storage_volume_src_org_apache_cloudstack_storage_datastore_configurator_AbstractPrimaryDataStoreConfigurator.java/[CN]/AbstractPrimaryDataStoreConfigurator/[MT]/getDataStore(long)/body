{
  PrimaryDataStoreVO dataStoreVO=dataStoreDao.findById(dataStoreId);
  if (dataStoreVO == null) {
    throw new CloudRuntimeException("Can't find primary data store: " + dataStoreId);
  }
  DefaultPrimaryDataStore dataStore=DefaultPrimaryDataStore.createDataStore(dataStoreVO);
  dataStore.setDriver(getDriver());
  dataStore.setLifeCycle(getLifeCycle());
  dataStore.setSupportedHypervisor(getSupportedHypervisor());
  dataStore.setLocalStorageFlag(isLocalStorageSupported());
  dataStore.setProtocolTransFormer(getProtocolTransformer());
  return dataStore;
}

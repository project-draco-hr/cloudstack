def setUp(self):
    self.apiclient = self.testClient.getApiClient()
    self.hypervisor = self.testClient.getHypervisorInfo()
    self.dbclient = self.testClient.getDbConnection()
    self.services = self.testClient.getParsedTestDataConfig()
    self.mgtSvrDetails = self.config.__dict__['mgtSvr'][0].__dict__
    self.fakeMsId = (random.randint(10000, 99999) * random.randint(10, 20))
    self.zone = get_zone(self.apiclient, self.testClient.getZoneForTests())
    self.host = None
    self.server = None
    s = socket.socket()
    s.bind(('', 0))
    self.serverPort = s.getsockname()[1]
    s.close()
    self.cleanup = []

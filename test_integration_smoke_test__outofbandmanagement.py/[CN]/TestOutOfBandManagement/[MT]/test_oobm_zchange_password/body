@attr(tags=['devcloud', 'advanced', 'advancedns', 'smoke', 'basic', 'sg'], required_hardware='false')
def test_oobm_zchange_password(self):
    '\n            Tests out-of-band management change password feature\n        '
    self.configureAndEnableOobm()
    self.startIpmiServer()
    self.debug('Testing oobm change password')
    cmd = changeOutOfBandManagementPassword.changeOutOfBandManagementPasswordCmd()
    cmd.hostid = self.getHost().id
    cmd.password = 'Password12345'
    try:
        response = self.apiclient.changeOutOfBandManagementPassword(cmd)
        self.assertEqual(response.status, True)
    except Exception as e:
        if ('packet session id 0x0 does not match active session' in str(e)):
            raise self.skipTest('Known ipmitool issue hit, skipping test')
        raise e
    bmc = IpmiServerContext().bmc
    bmc.powerstate = 'on'
    response = self.issuePowerActionCmd('STATUS')
    self.assertEqual(response.status, True)
    self.assertEqual(response.powerstate, 'On')
    self.apiclient.configureOutOfBandManagement(self.getOobmConfigCmd())
    self.assertEqual(response.status, True)
    alerts = Alert.list(self.apiclient, keyword='auth-error', listall=True)
    alertCount = 0
    if alerts:
        alertCount = len(alerts)
    try:
        response = self.issuePowerActionCmd('STATUS')
        self.fail('Expected an exception to be thrown, failing')
    except Exception:
        pass
    alerts = Alert.list(self.apiclient, keyword='auth-error', listall=True)
    self.assertTrue(((len(alerts) - alertCount) > 0))

{
  for (  NicProfile nicSrc : src.getNics()) {
    NetworkVO network=_networksDao.findById(nicSrc.getNetworkId());
    NetworkGuru guru=AdapterBase.getAdapterByName(_networkGurus,network.getGuruName());
    NicProfile nicDst=findNicProfileById(dst,nicSrc.getId());
    ReservationContext src_context=new ReservationContextImpl(nicSrc.getReservationId(),null,null);
    ReservationContext dst_context=new ReservationContextImpl(nicDst.getReservationId(),null,null);
    if (guru instanceof NetworkMigrationResponder) {
      ((NetworkMigrationResponder)guru).commitMigration(nicSrc,network,src,src_context,dst_context);
    }
    List<Provider> providersToImplement=getNetworkProviders(network.getId());
    for (    NetworkElement element : _networkElements) {
      if (providersToImplement.contains(element.getProvider())) {
        if (!_networkModel.isProviderEnabledInPhysicalNetwork(_networkModel.getPhysicalNetworkId(network),element.getProvider().getName())) {
          throw new CloudRuntimeException("Service provider " + element.getProvider().getName() + " either doesn't exist or is not enabled in physical network id: "+ network.getPhysicalNetworkId());
        }
        if (element instanceof NetworkMigrationResponder) {
          ((NetworkMigrationResponder)element).commitMigration(nicSrc,network,src,src_context,dst_context);
        }
      }
    }
    NicVO nicVo=_nicDao.findById(nicDst.getId());
    nicVo.setReservationId(nicDst.getReservationId());
    _nicDao.persist(nicVo);
  }
}

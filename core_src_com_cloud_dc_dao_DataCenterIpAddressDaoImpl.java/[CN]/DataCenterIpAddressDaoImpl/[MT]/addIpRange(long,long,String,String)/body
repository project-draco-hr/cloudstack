{
  Transaction txn=Transaction.currentTxn();
  String insertSql="INSERT INTO `cloud`.`op_dc_ip_address_alloc` (ip_address, data_center_id, pod_id) VALUES (?, ?, ?)";
  PreparedStatement stmt=null;
  long startIP=NetUtils.ip2Long(start);
  long endIP=NetUtils.ip2Long(end);
  while (startIP <= endIP) {
    try {
      stmt=txn.prepareAutoCloseStatement(insertSql);
      stmt.setString(1,NetUtils.long2Ip(startIP));
      stmt.setLong(2,dcId);
      stmt.setLong(3,podId);
      stmt.executeUpdate();
      stmt.close();
    }
 catch (    Exception ex) {
      s_logger.warn("Unable to persist " + NetUtils.long2Ip(startIP) + " due to "+ ex.getMessage());
    }
    startIP++;
  }
}

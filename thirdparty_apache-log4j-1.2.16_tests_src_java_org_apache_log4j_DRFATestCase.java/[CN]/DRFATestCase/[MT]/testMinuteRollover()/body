{
  Layout layout=new SimpleLayout();
  String filename="output/drfa_minuteRollover.log";
  String pattern="'.'yyyy-MM-dd-HH-mm";
  DailyRollingFileAppender appender=new DailyRollingFileAppender(layout,filename,pattern);
  Logger root=Logger.getRootLogger();
  root.addAppender(appender);
  File firstFile=new File(filename + new SimpleDateFormat(pattern).format(new Date()));
  root.info("Hello, World");
  firstFile.createNewFile();
  assertTrue(firstFile.exists());
  assertEquals(0,firstFile.length());
  Calendar cal=Calendar.getInstance();
  long now=cal.getTime().getTime();
  cal.set(Calendar.SECOND,3);
  cal.set(Calendar.MILLISECOND,0);
  cal.add(Calendar.MINUTE,1);
  long until=cal.getTime().getTime();
  Thread.sleep(until - now);
  root.info("Hello, World");
  assertTrue(firstFile.exists());
  assertTrue(firstFile.length() > 0);
}

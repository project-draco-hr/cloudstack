{
  if (_apiDiscoveryService != null) {
    Account caller=UserContext.current().getCaller();
    RoleType roleType=_accountService.getRoleType(UserContext.current().getCaller());
    ListResponse<ApiDiscoveryResponse> response=(ListResponse<ApiDiscoveryResponse>)_apiDiscoveryService.listApis(roleType);
    if (response == null) {
      throw new ServerApiException(BaseCmd.INTERNAL_ERROR,"Api Discovery plugin was unable to find and process any apis");
    }
    response.setResponseName(getCommandName());
    this.setResponseObject(response);
  }
}

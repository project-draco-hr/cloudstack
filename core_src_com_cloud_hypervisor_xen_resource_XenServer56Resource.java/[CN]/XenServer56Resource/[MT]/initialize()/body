{
  pingxenserver();
  StartupCommand[] cmds=super.initialize();
  Connection conn=getConnection();
  try {
    Host host=Host.getByUuid(conn,_host.uuid);
    Set<String> tags=host.getTags(conn);
    Iterator<String> it=tags.iterator();
    while (it.hasNext()) {
      String heartbeatTag=it.next();
      if (heartbeatTag.contains("cloud-heartbeat-")) {
        s_logger.debug("Removing heatbeat tag: " + heartbeatTag);
        it.remove();
      }
    }
    host.setTags(conn,tags);
  }
 catch (  XenAPIException e) {
    throw new CloudRuntimeException("Unable to remove heartbeat tag",e);
  }
catch (  Exception e) {
    throw new CloudRuntimeException("Unable to remove heartbeat tag",e);
  }
  String result=callHostPluginPremium(conn,"heartbeat","host",_host.uuid,"interval",Integer.toString(_heartbeatInterval));
  if (result == null || !result.contains("> DONE <")) {
    s_logger.warn("Unable to launch the heartbeat process on " + _host.ip);
    return null;
  }
  return cmds;
}

def __init__(self, testclient=None, workingdir=None, filename=None, clientLog=None, resultLog=None, format='text'):
    self.testclient = testclient
    self.logformat = logging.Formatter('%(asctime)s - %(levelname)s - %(name)s - %(message)s')
    self.suite = []
    if (clientLog is not None):
        self.logfile = clientLog
        self.logger = logging.getLogger('NoseTestExecuteEngine')
        fh = logging.FileHandler(self.logfile)
        fh.setFormatter(self.logformat)
        self.logger.addHandler(fh)
        self.logger.setLevel(logging.DEBUG)
    if (resultLog is not None):
        ch = logging.StreamHandler()
        ch.setLevel(logging.ERROR)
        ch.setFormatter(self.logformat)
        self.logger.addHandler(ch)
        fp = open(resultLog, 'w')
        self.testResultLogFile = fp
    else:
        self.testResultLogFile = sys.stderr
    if (workingdir is not None):
        self.loader = NoseCloudStackTestLoader()
        self.suite = self.loader.loadTestsFromName(workingdir)
        for test in self.suite:
            self.injectClients(test)
    elif (filename is not None):
        self.loader = NoseCloudStackTestLoader()
        self.suite = self.loader.loadTestsFromFile(filename)
        for test in self.suite:
            self.injectClients(test)
    else:
        raise EnvironmentError('Need to give either a test directory or a test file')
    if (format == 'text'):
        self.runner = nose.core.TextTestRunner(stream=self.testResultLogFile, descriptions=1, verbosity=2, config=None)
    else:
        self.runner = xmlrunner.XMLTestRunner(output='xml-reports', verbose=True)

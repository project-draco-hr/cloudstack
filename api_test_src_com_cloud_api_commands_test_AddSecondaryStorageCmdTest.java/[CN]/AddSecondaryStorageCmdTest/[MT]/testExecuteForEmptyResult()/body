{
  ResourceService resourceService=Mockito.mock(ResourceService.class);
  addSecondaryStorageCmd._resourceService=resourceService;
  Host[] mockHosts=new Host[]{};
  Mockito.when(resourceService.discoverHosts(addSecondaryStorageCmd)).thenReturn(Arrays.asList(mockHosts));
  try {
    addSecondaryStorageCmd.execute();
  }
 catch (  ServerApiException exception) {
    Assert.assertEquals("Failed to add secondary storage",exception.getDescription());
  }
}

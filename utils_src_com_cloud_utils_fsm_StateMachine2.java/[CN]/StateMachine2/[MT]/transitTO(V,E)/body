{
  S currentState=vo.getState();
  S nextState=getNextState(currentState,e);
  boolean transitionStatus=true;
  if (nextState == null) {
    transitionStatus=false;
  }
  Transaction txn=Transaction.currentTxn();
  txn.start();
  try {
    transitionStatus=_instanceDao.updateState(currentState,e,nextState,vo);
    for (    StateListener<S,E,V> listener : _listeners) {
      listener.processStateTransitionEvent(currentState,e,nextState,vo,transitionStatus);
    }
    txn.commit();
  }
 catch (  Exception ex) {
    txn.rollback();
  }
  return transitionStatus;
}

{
  String networkName="example network 1";
  String tenant_net_uuid=UUID.randomUUID().toString();
  SspClient sspClient=spy(new SspClient(apiUrl,username,password));
  HttpClient client=mock(HttpClient.class);
  HttpResponse res=mock(HttpResponse.class,RETURNS_DEEP_STUBS);
  doReturn(client).when(sspClient).getHttpClient();
  when(client.execute(any(HttpUriRequest.class))).thenReturn(res);
  when(res.getStatusLine().getStatusCode()).thenReturn(HttpStatus.SC_CREATED);
  String body="{\"uuid\":\"" + tenant_net_uuid + "\",\"name\":\""+ networkName+ "\",\"tenant_uuid\":\""+ uuid+ "\"}";
  when(res.getEntity().getContent()).thenReturn(new ByteArrayInputStream(body.getBytes("UTF-8")));
  SspClient.TenantNetwork tnet=sspClient.createTenantNetwork(uuid,networkName);
  assertEquals(tnet.name,networkName);
  assertEquals(tnet.uuid,tenant_net_uuid);
  assertEquals(tnet.tenantUuid,uuid);
}

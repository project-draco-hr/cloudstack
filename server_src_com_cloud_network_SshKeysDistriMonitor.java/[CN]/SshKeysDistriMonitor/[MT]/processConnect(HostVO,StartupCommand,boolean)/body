{
  if (cmd instanceof StartupRoutingCommand) {
    if (((StartupRoutingCommand)cmd).getHypervisorType() == HypervisorType.KVM || ((StartupRoutingCommand)cmd).getHypervisorType() == HypervisorType.XenServer) {
      Map<String,String> configs=_configDao.getConfiguration("management-server",new HashMap<String,Object>());
      String pubKey=configs.get("ssh.publickey");
      String prvKey=configs.get("ssh.privatekey");
      try {
        ModifySshKeysCommand cmds=new ModifySshKeysCommand(pubKey,prvKey);
        Commands c=new Commands(cmds);
        _agentMgr.send(host.getId(),c,this);
      }
 catch (      AgentUnavailableException e) {
        s_logger.debug("Failed to send keys to agent: " + host.getId());
      }
    }
  }
}

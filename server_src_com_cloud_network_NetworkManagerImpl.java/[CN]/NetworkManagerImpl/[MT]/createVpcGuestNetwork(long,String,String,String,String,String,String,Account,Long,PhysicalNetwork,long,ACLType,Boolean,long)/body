{
  Vpc vpc=_vpcMgr.getActiveVpc(vpcId);
  if (networkDomain == null) {
    networkDomain=vpc.getNetworkDomain();
  }
  _vpcMgr.validateGuestNtkwForVpc(_configMgr.getNetworkOffering(ntwkOffId),cidr,networkDomain,owner,vpc,null);
  Network guestNetwork=createGuestNetwork(ntwkOffId,name,displayText,gateway,cidr,vlanId,networkDomain,owner,domainId,pNtwk,zoneId,aclType,subdomainAccess,vpcId);
  return guestNetwork;
}

{
  String ipaddr=null;
  Account caller=UserContext.current().getCaller();
  Network network=_networksDao.findById(networkId);
  _accountMgr.checkAccess(caller,null,false,network);
  ipaddr=acquireGuestIpAddress(network,requestedIp);
  return ipaddr;
}

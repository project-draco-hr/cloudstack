{
  if (!isServiceSupportedByNetworkOffering(networkOfferingId,service)) {
    throw new UnsupportedServiceException("Service " + service.getName() + " is not supported by the network offering id="+ networkOfferingId);
  }
  Map<Service,Map<Capability,String>> networkCapabilities=getZoneCapabilities(zoneId);
  if (networkCapabilities.get(service) == null) {
    throw new UnsupportedServiceException("Service " + service.getName() + " is not supported in zone id="+ zoneId);
  }
  return networkCapabilities.get(service);
}

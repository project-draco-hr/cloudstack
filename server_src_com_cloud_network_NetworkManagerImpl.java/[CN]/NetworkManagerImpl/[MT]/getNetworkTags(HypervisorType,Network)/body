{
  Long physicalNetworkId=network.getPhysicalNetworkId();
  if (physicalNetworkId != null) {
    String networkTag=_pNTrafficTypeDao.getNetworkTag(physicalNetworkId,network.getTrafficType(),hType);
    if (networkTag != null) {
      return new ArrayList<String>(Collections.singletonList(networkTag));
    }
  }
 else {
    List<PhysicalNetworkVO> pNtwks=_physicalNetworkDao.listByZone(network.getDataCenterId());
    if (pNtwks.size() == 1) {
      physicalNetworkId=pNtwks.get(0).getId();
    }
 else {
      for (      PhysicalNetworkVO pNtwk : pNtwks) {
        if (_pNTrafficTypeDao.isTrafficTypeSupported(pNtwk.getId(),network.getTrafficType())) {
          physicalNetworkId=pNtwk.getId();
          break;
        }
      }
    }
  }
  return new ArrayList<String>();
}

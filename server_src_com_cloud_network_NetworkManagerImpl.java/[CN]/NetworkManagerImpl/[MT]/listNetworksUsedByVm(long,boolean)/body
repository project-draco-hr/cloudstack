{
  List<NetworkVO> networks=new ArrayList<NetworkVO>();
  List<NicVO> nics=_nicDao.listBy(vmId);
  if (nics != null) {
    for (    Nic nic : nics) {
      NetworkVO network=_networksDao.findByIdIncludingRemoved(nic.getNetworkId());
      NetworkOffering no=_networkOfferingDao.findByIdIncludingRemoved(network.getNetworkOfferingId());
      if (no.isSystemOnly() == isSystem) {
        networks.add(network);
      }
    }
  }
  return networks;
}

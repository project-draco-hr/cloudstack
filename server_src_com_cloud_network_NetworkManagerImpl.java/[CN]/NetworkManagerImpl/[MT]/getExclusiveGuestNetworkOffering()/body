{
  List<NetworkOfferingVO> offerings=_networkOfferingDao.listByTrafficTypeGuestTypeAndState(NetworkOffering.State.Enabled,TrafficType.Guest,GuestType.Shared);
  if (offerings.isEmpty()) {
    throw new CloudRuntimeException("Unable to find network offering in state " + NetworkOffering.State.Enabled + ", traffic type "+ TrafficType.Guest+ " and guest type "+ GuestType.Shared);
  }
  if (offerings.size() > 1) {
    throw new CloudRuntimeException("Found more than 1 network offering in state " + NetworkOffering.State.Enabled + ", traffic type "+ TrafficType.Guest+ " and guest type "+ GuestType.Shared);
  }
  return offerings.get(0);
}

{
  DataCenterVO zone=_dcDao.findById(zoneId);
  boolean usesJuniperForGatewayService=_ntwkSrvcDao.isProviderSupportedInNetwork(networkId,Service.Gateway,Network.Provider.JuniperSRX);
  boolean usesJuniperForFirewallService=_ntwkSrvcDao.isProviderSupportedInNetwork(networkId,Service.Firewall,Network.Provider.JuniperSRX);
  boolean usesNetscalarForLBService=_ntwkSrvcDao.isProviderSupportedInNetwork(networkId,Service.Lb,Network.Provider.Netscaler);
  boolean usesF5ForLBService=_ntwkSrvcDao.isProviderSupportedInNetwork(networkId,Service.Lb,Network.Provider.F5BigIp);
  if (zone.getNetworkType() == NetworkType.Advanced) {
    if (usesJuniperForGatewayService && usesJuniperForFirewallService) {
      return true;
    }
 else     if (_ntwkSrvcDao.areServicesSupportedInNetwork(networkId,Service.Gateway) && (usesF5ForLBService || usesNetscalarForLBService)) {
      return true;
    }
 else {
      return false;
    }
  }
 else {
    return usesJuniperForFirewallService;
  }
}

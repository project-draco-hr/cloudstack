{
  DataCenterVO zone=_dcDao.findById(zoneId);
  boolean usesJuniperForGatewayService=_ntwkOfferingSrvcDao.isProviderSupported(networkOfferingId,Service.Gateway,Network.Provider.JuniperSRX);
  boolean usesJuniperForFirewallService=_ntwkOfferingSrvcDao.isProviderSupported(networkOfferingId,Service.Firewall,Network.Provider.JuniperSRX);
  boolean usesNetscalarForLBService=_ntwkOfferingSrvcDao.isProviderSupported(networkOfferingId,Service.Lb,Network.Provider.Netscaler);
  boolean usesF5ForLBService=_ntwkOfferingSrvcDao.isProviderSupported(networkOfferingId,Service.Lb,Network.Provider.F5BigIp);
  if (zone.getNetworkType() == NetworkType.Advanced) {
    if (usesJuniperForGatewayService && usesJuniperForFirewallService) {
      return true;
    }
 else     if (_ntwkOfferingSrvcDao.isServiceSupported(networkOfferingId,Service.Gateway) && (usesF5ForLBService || usesNetscalarForLBService)) {
      return true;
    }
 else {
      return false;
    }
  }
 else {
    return usesJuniperForFirewallService;
  }
}

{
  List<NicVO> nics=_nicDao.listBy(vmId);
  for (  NicVO nic : nics) {
    nic.setState(Resource.State.Releasing);
    _nicDao.update(nic.getId(),nic);
    NetworkConcierge concierge=_networkConcierges.get(nic.getReserver());
    if (!concierge.release(nic.getReserver(),nic.getReservationId())) {
      s_logger.warn("Unable to release " + nic + " using "+ concierge.getName());
    }
    nic.setState(Resource.State.Allocated);
    _nicDao.update(nic.getId(),nic);
  }
}

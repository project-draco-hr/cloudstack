{
  List<NetworkVO> accountNetworks=new ArrayList<NetworkVO>();
  List<NetworkVO> zoneNetworks=_networksDao.listByZone(zoneId);
  for (  NetworkVO network : zoneNetworks) {
    NetworkOfferingVO no=_networkOfferingDao.findById(network.getNetworkOfferingId());
    if (!no.isSystemOnly()) {
      if ((network.getIsShared() && !network.isDomainSpecific()) || (network.getIsShared() && network.isDomainSpecific && isNetworkAvailableInDomain(network.getId(),domainId)) || !_networksDao.listBy(accountId,network.getId()).isEmpty()) {
        if ((guestType == null || guestType == network.getGuestType()) && (isDefault == null || isDefault.booleanValue() == network.isDefault)) {
          accountNetworks.add(network);
        }
      }
    }
  }
  return accountNetworks;
}

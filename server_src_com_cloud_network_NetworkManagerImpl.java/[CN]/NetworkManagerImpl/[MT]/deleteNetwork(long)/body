{
  Account caller=UserContext.current().getCaller();
  NetworkVO network=_networksDao.findById(networkId);
  if (network == null) {
    throw new InvalidParameterValueException("unable to find network " + networkId);
  }
  NetworkOffering offering=_networkOfferingDao.findByIdIncludingRemoved(network.getNetworkOfferingId());
  if (offering.isSystemOnly()) {
    throw new InvalidParameterValueException("Network id=" + networkId + " is system and can't be removed");
  }
  Account owner=_accountMgr.getAccount(network.getAccountId());
  if (!_accountMgr.isAdmin(caller.getType())) {
    if (network.getAccountId() != caller.getId()) {
      throw new PermissionDeniedException("Account " + caller.getAccountName() + " does not own network id="+ networkId+ ", permission denied");
    }
  }
 else {
    _accountMgr.checkAccess(caller,owner);
  }
  User callerUser=_accountMgr.getActiveUser(UserContext.current().getCallerUserId());
  ReservationContext context=new ReservationContextImpl(null,null,callerUser,owner);
  return destroyNetwork(networkId,context);
}

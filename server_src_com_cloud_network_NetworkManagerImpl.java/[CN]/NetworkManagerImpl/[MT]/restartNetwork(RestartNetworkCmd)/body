{
  String accountName=cmd.getAccountName();
  long domainId=cmd.getDomainId();
  Account caller=UserContext.current().getAccount();
  Account owner=_accountDao.findActiveAccount(accountName,domainId);
  if (owner == null) {
    throw new InvalidParameterValueException("Unable to find account " + accountName + " in domain "+ domainId+ ", permission denied");
  }
  _accountMgr.checkAccess(caller,owner);
  Long networkId=cmd.getNetworkId();
  Network network=null;
  if (networkId != null) {
    network=_networksDao.findById(networkId);
    if (network == null) {
      throw new InvalidParameterValueException("Network id is invalid: " + networkId);
    }
  }
  boolean success=applyIpAssociations(network,false);
  if (!success) {
    s_logger.warn("Failed to reapply the ip addresses for the account " + owner.getId() + " in zone "+ network.getDataCenterId()+ ", in network "+ network.getId());
  }
 else {
    s_logger.debug("Ip addresses are reapplied successfully for the account " + owner.getId() + " in zone "+ network.getDataCenterId()+ ", in network "+ network.getId());
  }
  return success;
}

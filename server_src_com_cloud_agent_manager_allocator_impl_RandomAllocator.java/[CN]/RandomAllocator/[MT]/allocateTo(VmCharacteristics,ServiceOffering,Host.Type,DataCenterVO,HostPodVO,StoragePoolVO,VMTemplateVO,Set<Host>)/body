{
  if (type == Host.Type.Storage) {
    return null;
  }
  List<? extends Host> hosts=_hostDao.listBy(type,sp.getClusterId(),sp.getPodId(),sp.getDataCenterId());
  if (hosts.size() == 0) {
    return null;
  }
  s_logger.debug("Random Allocator found " + hosts.size() + "  hosts");
  Collections.shuffle(hosts);
  for (  Host host : hosts) {
    if (!avoid.contains(host)) {
      return host;
    }
  }
  return null;
}

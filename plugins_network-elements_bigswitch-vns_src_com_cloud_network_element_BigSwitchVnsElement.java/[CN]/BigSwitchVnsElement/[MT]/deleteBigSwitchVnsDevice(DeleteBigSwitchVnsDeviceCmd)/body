{
  Long bigswitchVnsDeviceId=cmd.getBigSwitchVnsDeviceId();
  BigSwitchVnsDeviceVO bigswitchVnsDevice=_bigswitchVnsDao.findById(bigswitchVnsDeviceId);
  if (bigswitchVnsDevice == null) {
    throw new InvalidParameterValueException("Could not find a BigSwitch Controller with id " + bigswitchVnsDevice);
  }
  Long physicalNetworkId=bigswitchVnsDevice.getPhysicalNetworkId();
  PhysicalNetworkVO physicalNetwork=_physicalNetworkDao.findById(physicalNetworkId);
  if (physicalNetwork != null) {
    List<NetworkVO> networkList=_networkDao.listByPhysicalNetwork(physicalNetworkId);
    for (    NetworkVO network : networkList) {
      if (network.getBroadcastDomainType() == Networks.BroadcastDomainType.Lswitch) {
        if ((network.getState() != Network.State.Shutdown) && (network.getState() != Network.State.Destroy)) {
          throw new CloudRuntimeException("This BigSwitch Controller device can not be deleted as there are one or more " + "logical networks provisioned by cloudstack.");
        }
      }
    }
  }
  HostVO bigswitchHost=_hostDao.findById(bigswitchVnsDevice.getHostId());
  Long hostId=bigswitchHost.getId();
  _hostDao.remove(hostId);
  _resourceMgr.deleteHost(hostId,false,false);
  _bigswitchVnsDao.remove(bigswitchVnsDeviceId);
  return true;
}

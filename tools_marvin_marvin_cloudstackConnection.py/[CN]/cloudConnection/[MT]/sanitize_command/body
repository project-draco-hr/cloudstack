def sanitize_command(self, cmd):
    '\n        Removes None values, Validates all required params are present\n        @param cmd: Cmd object eg: createPhysicalNetwork\n        @return:\n        '
    requests = {}
    required = []
    for attribute in dir(cmd):
        if ((attribute != '__doc__') and (attribute != '__init__') and (attribute != '__module__')):
            if (attribute == 'isAsync'):
                isAsync = getattr(cmd, attribute)
            elif (attribute == 'required'):
                required = getattr(cmd, attribute)
            else:
                requests[attribute] = getattr(cmd, attribute)
    cmdname = cmd.__class__.__name__.replace('Cmd', '')
    for requiredPara in required:
        if (requests[requiredPara] is None):
            raise cloudstackException.cloudstackAPIException(cmdname, ('%s is required' % requiredPara))
    for (param, value) in requests.items():
        if (value is None):
            requests.pop(param)
        elif isinstance(value, list):
            if (len(value) == 0):
                requests.pop(param)
            elif (not isinstance(value[0], dict)):
                requests[param] = ','.join(value)
            else:
                requests.pop(param)
                i = 0
                for val in value:
                    for (k, v) in val.iteritems():
                        requests[('%s[%d].%s' % (param, i, k))] = v
                    i = (i + 1)
    return (cmdname, isAsync, requests)

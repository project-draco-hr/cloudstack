{
  VirtualRouterProviderVO element=_vrProviderDao.findByNspIdAndType(provider.getId(),VirtualRouterProviderType.RedundantVirtualRouterElement);
  if (element == null) {
    return true;
  }
  long elementId=element.getId();
  List<DomainRouterVO> routers=_routerDao.listByElementId(elementId);
  boolean result=true;
  for (  DomainRouterVO router : routers) {
    if (forceShutdown) {
      result=result && (_routerMgr.stopRouter(router.getId(),true) != null);
    }
    result=result && (_routerMgr.destroyRouter(router.getId()) != null);
  }
  return result;
}

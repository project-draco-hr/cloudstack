{
  VirtualRouterElementsVO element=_vrElementsDao.findByUUID(cmd.getUUID());
  if (element == null) {
    s_logger.trace("Can't find element with UUID " + cmd.getUUID());
    return false;
  }
  if (cmd.getDhcpService() == null) {
    s_logger.trace("DHCP service is provided, but no specific DHCP range!");
    return false;
  }
  if (cmd.getDnsService() == null) {
    s_logger.trace("DNS service is provided, but no domain name or dns server!");
    return false;
  }
  if (cmd.getGatewayService() == null) {
    s_logger.trace("Gateway service is provided, but no gateway IP specific!");
    return false;
  }
  element.setIsDhcpProvided(cmd.getDhcpService());
  element.setIsDnsProvided(cmd.getDnsService());
  element.setIsGatewayProvided(cmd.getGatewayService());
  element.setIsFirewallProvided(cmd.getFirewallService());
  element.setIsLoadBalanceProvided(cmd.getLbService());
  element.setIsSourceNatProvided(cmd.getSourceNatService());
  element.setIsVpnProvided(cmd.getVpnService());
  element.setIsReady(true);
  _vrElementsDao.persist(element);
  return true;
}

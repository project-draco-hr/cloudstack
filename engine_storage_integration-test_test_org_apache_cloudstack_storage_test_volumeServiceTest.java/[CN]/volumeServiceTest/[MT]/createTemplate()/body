{
  try {
    imageProviderMgr.configure("image Provider",new HashMap<String,Object>());
    ImageDataVO image=createImageData();
    ImageDataStoreProvider defaultProvider=imageProviderMgr.getProvider("DefaultProvider");
    ImageDataStoreLifeCycle lifeCycle=defaultProvider.getLifeCycle();
    ImageDataStore store=lifeCycle.registerDataStore("defaultHttpStore",new HashMap<String,String>());
    imageService.registerTemplate(image.getId(),store.getImageDataStoreId());
    TemplateEntity te=imageService.getTemplateEntity(image.getId());
    return te;
  }
 catch (  ConfigurationException e) {
    return null;
  }
}

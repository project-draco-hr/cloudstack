{
  List<Peer> interested=new LinkedList<Peer>();
  Iterator it=peers.iterator();
  while (it.hasNext()) {
    Peer peer=(Peer)it.next();
    if (uploaders < MAX_UPLOADERS && peer.isChoking() && peer.isInterested()) {
      if (!peer.isChoked()) {
        interested.add(0,peer);
      }
 else {
        interested.add(peer);
      }
    }
  }
  while (uploaders < MAX_UPLOADERS && interested.size() > 0) {
    Peer peer=interested.remove(0);
    log.log(Level.FINER,"Unchoke: " + peer);
    peer.setChoking(false);
    uploaders++;
    peers.remove(peer);
    peers.add(peer);
  }
}

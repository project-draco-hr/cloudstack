{
  Date cutTime=DateUtil.currentGMTTime();
  List<ManagementServerHostVO> inactiveList=_mshostDao.getInactiveList(new Date(cutTime.getTime() - heartbeatThreshold));
  List<Long> orphanList=_mshostDao.listOrphanMsids();
  if (orphanList.size() > 0) {
    for (    Long orphanMsid : orphanList) {
      s_logger.info("Add orphan management server msid found in host table to initial clustering notification, orphan msid: " + orphanMsid);
      inactiveList.add(new ManagementServerHostVO(orphanMsid,0,"orphan",0,new Date()));
    }
  }
 else {
    s_logger.info("We are good, no orphan management server msid in host table is found");
  }
  if (inactiveList.size() > 0) {
    this.queueNotification(new ClusterManagerMessage(ClusterManagerMessage.MessageType.nodeRemoved,inactiveList));
  }
}

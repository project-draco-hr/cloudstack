{
  ResourceService resourceService=Mockito.mock(ResourceService.class);
  addSecondaryStorageCmd._resourceService=resourceService;
  Host host=Mockito.mock(Host.class);
  Host[] mockHosts=new Host[]{host};
  Mockito.when(resourceService.discoverHosts(addSecondaryStorageCmd)).thenReturn(Arrays.asList(mockHosts));
  ResponseGenerator responseGenerator=Mockito.mock(ResponseGenerator.class);
  addSecondaryStorageCmd._responseGenerator=responseGenerator;
  HostResponse responseHost=new HostResponse();
  responseHost.setName("Test");
  Mockito.when(responseGenerator.createHostResponse(host)).thenReturn(responseHost);
  addSecondaryStorageCmd.execute();
  Mockito.verify(responseGenerator).createHostResponse(host);
  HostResponse actualResponse=(HostResponse)addSecondaryStorageCmd.getResponseObject();
  Assert.assertEquals(responseHost,actualResponse);
  Assert.assertEquals("addsecondarystorageresponse",actualResponse.getResponseName());
}

{
  IssuerBuilder issuerBuilder=new IssuerBuilder();
  Issuer issuer=issuerBuilder.buildObject();
  issuer.setValue(spId);
  SessionIndex sessionIndexElement=new SessionIndexBuilder().buildObject();
  sessionIndexElement.setSessionIndex(sessionIndex);
  NameID nameID=new NameIDBuilder().buildObject();
  nameID.setValue(sessionNameId.getValue());
  nameID.setFormat(sessionNameId.getFormat());
  LogoutRequest logoutRequest=new LogoutRequestBuilder().buildObject();
  logoutRequest.setID(generateSecureRandomId());
  logoutRequest.setDestination(logoutUrl);
  logoutRequest.setVersion(SAMLVersion.VERSION_20);
  logoutRequest.setIssueInstant(new DateTime());
  logoutRequest.setIssuer(issuer);
  logoutRequest.getSessionIndexes().add(sessionIndexElement);
  logoutRequest.setNameID(nameID);
  return logoutRequest;
}

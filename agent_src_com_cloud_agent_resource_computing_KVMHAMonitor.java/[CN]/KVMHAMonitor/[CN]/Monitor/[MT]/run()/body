{
synchronized (_storagePool) {
    for (    NfsStoragePool primaryStoragePool : _storagePool.values()) {
      Script cmd=new Script(_heartBeatPath,_heartBeatUpdateTimeout,s_logger);
      cmd.add("-i",primaryStoragePool._poolIp);
      cmd.add("-p",primaryStoragePool._poolMountSourcePath);
      cmd.add("-m",primaryStoragePool._mountDestPath);
      cmd.add("-h",_hostIP);
      String result=cmd.execute();
      if (result != null) {
        s_logger.debug("write heartbeat failed: " + result + "; destroy all the vms on this host");
        cmd=new Script(_heartBeatPath,_heartBeatUpdateTimeout,s_logger);
        cmd.add("-i",primaryStoragePool._poolIp);
        cmd.add("-p",primaryStoragePool._poolMountSourcePath);
        cmd.add("-m",primaryStoragePool._mountDestPath);
        cmd.add("-c");
        result=cmd.execute();
      }
    }
  }
}

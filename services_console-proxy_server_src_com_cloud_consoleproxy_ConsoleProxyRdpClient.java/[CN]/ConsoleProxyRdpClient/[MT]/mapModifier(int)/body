{
  int mod=0;
  if ((modifiers & SHIFT_KEY_MASK) != (_lastModifierStates & SHIFT_KEY_MASK)) {
    if ((modifiers & SHIFT_KEY_MASK) != 0)     mod=mod | InputEvent.SHIFT_DOWN_MASK;
  }
  if ((modifiers & CTRL_KEY_MASK) != (_lastModifierStates & CTRL_KEY_MASK)) {
    if ((modifiers & CTRL_KEY_MASK) != 0)     mod=mod | InputEvent.CTRL_DOWN_MASK;
  }
  if ((modifiers & META_KEY_MASK) != (_lastModifierStates & META_KEY_MASK)) {
    if ((modifiers & META_KEY_MASK) != 0)     mod=mod | InputEvent.META_DOWN_MASK;
  }
  if ((modifiers & ALT_KEY_MASK) != (_lastModifierStates & ALT_KEY_MASK)) {
    if ((modifiers & ALT_KEY_MASK) != 0)     mod=mod | InputEvent.ALT_DOWN_MASK;
  }
  _lastModifierStates=mod;
  return mod;
}

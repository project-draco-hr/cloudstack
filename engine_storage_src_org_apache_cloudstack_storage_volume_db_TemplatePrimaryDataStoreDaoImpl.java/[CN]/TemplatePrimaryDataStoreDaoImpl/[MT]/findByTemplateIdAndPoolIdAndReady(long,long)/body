{
  SearchCriteriaService<TemplatePrimaryDataStoreVO,TemplatePrimaryDataStoreVO> sc=SearchCriteria2.create(TemplatePrimaryDataStoreVO.class);
  sc.addAnd(sc.getEntity().getTemplateId(),Op.EQ,templateId);
  sc.addAnd(sc.getEntity().getPoolId(),Op.EQ,poolId);
  sc.addAnd(sc.getEntity().getState(),Op.EQ,TemplateOnPrimaryDataStoreStateMachine.State.Ready);
  return sc.find();
}

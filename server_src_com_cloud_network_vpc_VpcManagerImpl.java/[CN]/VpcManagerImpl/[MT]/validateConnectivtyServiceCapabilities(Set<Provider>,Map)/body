{
  if (serviceCapabilitystList != null && !serviceCapabilitystList.isEmpty()) {
    Collection serviceCapabilityCollection=serviceCapabilitystList.values();
    Iterator iter=serviceCapabilityCollection.iterator();
    List<Capability> specifiedCapabilities=new ArrayList<>();
    while (iter.hasNext()) {
      HashMap<String,String> svcCapabilityMap=(HashMap<String,String>)iter.next();
      Capability capability=null;
      String svc=svcCapabilityMap.get(SERVICE);
      String capabilityName=svcCapabilityMap.get(CAPABILITYTYPE);
      String capabilityValue=svcCapabilityMap.get(CAPABILITYVALUE);
      if (capabilityName != null) {
        capability=Capability.getCapability(capabilityName);
      }
      if ((capability == null) || (capabilityValue == null)) {
        throw new InvalidParameterValueException("Invalid capability:" + capabilityName + " capability value:"+ capabilityValue);
      }
      Service usedService=Service.getService(svc);
      this.checkCapabilityPerServiceProvider(providers,capability,usedService);
      if (!capabilityValue.equalsIgnoreCase(TRUE_VALUE) && !capabilityValue.equalsIgnoreCase(FALSE_VALUE)) {
        throw new InvalidParameterValueException("Invalid Capability value:" + capabilityValue + " specified.");
      }
    }
  }
}

{
  UserContext ctx=UserContext.current();
  Account caller=ctx.getCaller();
  Vpc vpc=getVpc(vpcId);
  if (vpc == null) {
    throw new InvalidParameterValueException("Unable to find vpc by id " + vpcId);
  }
  _accountMgr.checkAccess(caller,null,false,vpc);
  s_logger.debug("Shutting down vpc " + vpc);
  ReservationContext context=new ReservationContextImpl(null,null,_accountMgr.getActiveUser(ctx.getCallerUserId()),caller);
  boolean success=getVpcElement().shutdownVpc(vpc,context);
  if (success) {
    s_logger.debug("Vpc " + vpc + " has been shutdown succesfully");
  }
 else {
    s_logger.warn("Vpc " + vpc + " failed to shutdown");
  }
  return success;
}

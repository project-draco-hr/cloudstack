{
  final List<Provider> providers=_ntwkModel.getNtwkOffDistinctProviders(guestNtwkOff.getId());
  for (  final Provider provider : providers) {
    if (!supportedProviders.contains(provider)) {
      throw new InvalidParameterValueException("Provider of type " + provider.getName() + " is not supported for network offerings that can be used in VPC");
    }
  }
  if (!(guestNtwkOff.getGuestType() == GuestType.Isolated && supportedSvcs.contains(Service.SourceNat))) {
    throw new InvalidParameterValueException("Only network offerings of type " + GuestType.Isolated + " with service "+ Service.SourceNat.getName()+ " are valid for vpc ");
  }
  if (guestNtwkOff.isConserveMode()) {
    throw new InvalidParameterValueException("Only networks with conserve mode Off can belong to VPC");
  }
  if (providers.contains(Provider.Netscaler) && !guestNtwkOff.getDedicatedLB()) {
    throw new InvalidParameterValueException("Netscaler only with Dedicated LB can belong to VPC");
  }
  return;
}

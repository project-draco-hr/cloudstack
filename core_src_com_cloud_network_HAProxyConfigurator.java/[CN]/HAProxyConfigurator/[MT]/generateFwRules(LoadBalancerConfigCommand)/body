{
  String[][] result=new String[2][];
  Set<String> toAdd=new HashSet<String>();
  Set<String> toRemove=new HashSet<String>();
  for (  LoadBalancerTO lbTO : lbCmd.getLoadBalancers()) {
    StringBuilder sb=new StringBuilder();
    sb.append(lbTO.getSrcIp()).append(":");
    sb.append(lbTO.getSrcPort()).append(":");
    String lbRuleEntry=sb.toString();
    if (!lbTO.isRevoked()) {
      toAdd.add(lbRuleEntry);
    }
 else {
      toRemove.add(lbRuleEntry);
    }
  }
  toRemove.removeAll(toAdd);
  result[ADD]=toAdd.toArray(new String[toAdd.size()]);
  result[REMOVE]=toRemove.toArray(new String[toRemove.size()]);
  return result;
}

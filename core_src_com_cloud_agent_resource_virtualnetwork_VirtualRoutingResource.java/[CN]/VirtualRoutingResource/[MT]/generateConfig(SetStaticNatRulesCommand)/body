{
  LinkedList<ConfigItem> cfg=new LinkedList<>();
  if (cmd.getVpcId() != null) {
    for (    StaticNatRuleTO rule : cmd.getRules()) {
      String args=rule.revoked() ? " -D" : " -A";
      args+=" -l " + rule.getSrcIp();
      args+=" -r " + rule.getDstIp();
      cfg.add(new ConfigItem(VRScripts.VPC_STATIC_NAT,args));
    }
  }
 else {
    for (    StaticNatRuleTO rule : cmd.getRules()) {
      StringBuilder args=new StringBuilder();
      args.append(rule.revoked() ? " -D " : " -A ");
      args.append(" -l ").append(rule.getSrcIp());
      args.append(" -r ").append(rule.getDstIp());
      if (rule.getProtocol() != null) {
        args.append(" -P ").append(rule.getProtocol().toLowerCase());
      }
      args.append(" -d ").append(rule.getStringSrcPortRange());
      args.append(" -G ");
      cfg.add(new ConfigItem(VRScripts.FIREWALL_NAT,args.toString()));
    }
  }
  return cfg;
}

def state_atom(self, c):
    if self.at_eof():
        self.end_atom()
    elif (self.is_separator(c) or self.in_space_class(c) or self.in_comment_class(c)):
        self.end_atom()
        self.input_char(c)
    else:
        self.state.buf += c

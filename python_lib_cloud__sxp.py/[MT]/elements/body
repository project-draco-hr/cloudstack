def elements(sxpr, ctxt=None):
    "Generate elements (at any depth).\n    Visit elements in pre-order.\n    Values generated are (node, context)\n    The context is None if there is no parent, otherwise\n    (index, parent, context) where index is the node's index w.r.t its parent,\n    and context is the parent's context.\n\n    sxpr   s-exp\n\n    returns generator\n    "
    yield (sxpr, ctxt)
    i = 0
    for n in children(sxpr):
        if isinstance(n, (types.ListType, types.TupleType)):
            for v in elements(n, (i, sxpr, ctxt)):
                yield v
        i += 1

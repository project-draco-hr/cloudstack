{
  boolean result=_userVmService.setVMOSType(this);
  if (result) {
    UserVm userVm=_responseGenerator.findUserVmById(virtualMachineId);
    if (userVm != null) {
      UserVmResponse response=_responseGenerator.createUserVmResponse(userVm);
      response.setResponseName(DeployVMCmd.getResultObjectName());
      this.setResponseObject(response);
    }
 else {
      throw new ServerApiException(BaseCmd.INTERNAL_ERROR,"Failed to set VM OS type");
    }
  }
 else {
    throw new ServerApiException(BaseCmd.INTERNAL_ERROR,"Failed to set VM OS type");
  }
}

{
  boolean handled=false;
  List<NetworkACLItemVO> rules=_networkACLItemDao.listByACL(aclId);
  List<NetworkVO> networks=_networkDao.listByAclId(aclId);
  for (  NetworkVO network : networks) {
    handled=applyACLItemsToNetwork(network.getId(),rules,caller);
  }
  if (handled) {
    for (    NetworkACLItem rule : rules) {
      if (rule.getState() == NetworkACLItem.State.Revoke) {
        removeRule(rule);
      }
 else       if (rule.getState() == NetworkACLItem.State.Add) {
        NetworkACLItemVO ruleVO=_networkACLItemDao.findById(rule.getId());
        ruleVO.setState(NetworkACLItem.State.Active);
        _networkACLItemDao.update(ruleVO.getId(),ruleVO);
      }
    }
  }
  return handled;
}

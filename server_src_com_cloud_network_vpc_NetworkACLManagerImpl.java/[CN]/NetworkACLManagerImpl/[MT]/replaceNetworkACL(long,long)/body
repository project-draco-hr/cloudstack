{
  NetworkVO network=_networkDao.findById(networkId);
  if (network == null) {
    throw new InvalidParameterValueException("Unable to find Network: " + networkId);
  }
  NetworkACL acl=_networkACLDao.findById(aclId);
  if (acl == null) {
    throw new InvalidParameterValueException("Unable to find NetworkACL: " + aclId);
  }
  if (network.getVpcId() == null) {
    throw new InvalidParameterValueException("Network does not belong to VPC: " + networkId);
  }
  if (network.getVpcId() != acl.getVpcId()) {
    throw new InvalidParameterValueException("Network: " + networkId + " and ACL: "+ aclId+ " do not belong to the same VPC");
  }
  network.setNetworkACLId(aclId);
  return _networkDao.update(networkId,network);
}

{
  if (disks != null && iqnToPath != null) {
    for (    final DiskTO disk : disks) {
      final Map<String,String> details=disk.getDetails();
      final boolean isManaged=details != null && Boolean.parseBoolean(details.get(DiskTO.MANAGED));
      if (isManaged) {
        final Long volumeId=disk.getData().getId();
        final VolumeVO volume=_volsDao.findById(volumeId);
        final String iScsiName=volume.get_iScsiName();
        final String path=iqnToPath.get(iScsiName);
        if (path != null) {
          volume.setPath(path);
          _volsDao.update(volumeId,volume);
        }
      }
    }
  }
}

{
  if (disks != null && iqnToPath != null) {
    for (    DiskTO disk : disks) {
      Map<String,String> details=disk.getDetails();
      boolean isManaged=details != null && Boolean.parseBoolean(details.get(DiskTO.MANAGED));
      if (isManaged) {
        Long volumeId=disk.getData().getId();
        VolumeVO volume=_volsDao.findById(volumeId);
        String iScsiName=volume.get_iScsiName();
        String path=iqnToPath.get(iScsiName);
        if (path != null) {
          volume.setPath(path);
          _volsDao.update(volumeId,volume);
        }
      }
    }
  }
}

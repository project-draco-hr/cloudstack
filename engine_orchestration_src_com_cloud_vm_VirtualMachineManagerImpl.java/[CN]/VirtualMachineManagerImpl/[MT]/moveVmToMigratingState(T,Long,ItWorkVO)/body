{
  try {
    if (!changeState(vm,Event.MigrationRequested,hostId,work,Step.Migrating)) {
      s_logger.info("Migration cancelled because state has changed: " + vm);
      throw new ConcurrentOperationException("Migration cancelled because state has changed: " + vm);
    }
  }
 catch (  final NoTransitionException e) {
    s_logger.info("Migration cancelled because " + e.getMessage());
    throw new ConcurrentOperationException("Migration cancelled because " + e.getMessage());
  }
}

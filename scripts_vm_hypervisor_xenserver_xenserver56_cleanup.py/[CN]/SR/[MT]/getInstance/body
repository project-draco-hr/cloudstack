def getInstance(uuid, xapiSession):
    xapi = XAPI(xapiSession, uuid)
    type = normalizeType(xapi.srRecord['type'])
    if (type == SR.TYPE_FILE):
        return FileSR(uuid, xapi)
    elif (type == SR.TYPE_LVHD):
        return LVHDSR(uuid, xapi)
    raise util.SMException(('SR type %s not recognized' % type))

def rename(self, uuid):
    oldUuid = self.uuid
    oldLVName = self.lvName
    VDI.rename(self, uuid)
    self.lvName = (lvhdutil.LV_PREFIX[lvhdutil.VDI_TYPE_VHD] + self.uuid)
    if self.raw:
        self.lvName = (lvhdutil.LV_PREFIX[lvhdutil.VDI_TYPE_RAW] + self.uuid)
    self.path = os.path.join(self.sr.path, self.lvName)
    assert (not self.sr.lvmCache.checkLV(self.lvName))
    self.sr.lvmCache.rename(oldLVName, self.lvName)
    if self.sr.lvActivator.get(oldUuid, False):
        self.sr.lvActivator.replace(oldUuid, self.uuid, self.lvName, False)
    ns = (lvhdutil.NS_PREFIX_LVM + self.sr.uuid)
    (cnt, bcnt) = RefCounter.check(oldUuid, ns)
    RefCounter.set(self.uuid, cnt, bcnt, ns)
    RefCounter.reset(oldUuid, ns)

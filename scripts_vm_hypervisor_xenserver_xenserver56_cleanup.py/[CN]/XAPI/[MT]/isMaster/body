def isMaster(self):
    if self.srRecord['shared']:
        pool = self.session.xenapi.pool.get_all_records().values()[0]
        return (pool['master'] == self._hostRef)
    else:
        pbds = self.getAttachedPBDs()
        if (len(pbds) < 1):
            raise util.SMException('Local SR not attached')
        elif (len(pbds) > 1):
            raise util.SMException('Local SR multiply attached')
        return (pbds[0]['host'] == self._hostRef)

def _checkSlaves(self, vdi):
    onlineHosts = self.xapi.getOnlineHosts()
    abortFlag = IPCFlag(self.uuid)
    for pbdRecord in self.xapi.getAttachedPBDs():
        hostRef = pbdRecord['host']
        if (hostRef == self.xapi._hostRef):
            continue
        if abortFlag.test(FLAG_TYPE_ABORT):
            raise AbortException('Aborting due to signal')
        try:
            self._checkSlave(hostRef, vdi)
        except util.CommandException:
            if onlineHosts.__contains__(hostRef):
                raise

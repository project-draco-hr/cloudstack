{
  Mockito.when(dataSource.getConnection()).thenReturn(connection);
  Mockito.when(connection.prepareStatement(Mockito.anyString())).thenReturn(preparedStatement);
  Mockito.when(preparedStatement.executeQuery()).thenReturn(resultSet);
  Mockito.when(resultSet.first()).thenReturn(true);
  Mockito.when(resultSet.getInt(1)).thenReturn(0);
  Assert.assertFalse(DbUtil.getGlobalLock("TEST",600));
  Mockito.verify(connection).prepareStatement(Mockito.anyString());
  Mockito.verify(preparedStatement).close();
  Mockito.verify(resultSet).close();
  Mockito.verify(connection).close();
  Assert.assertTrue(connectionMap.isEmpty());
}

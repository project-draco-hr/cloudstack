{
  Mockito.when(dataSource.getConnection()).thenReturn(connection);
  Mockito.when(connection.prepareStatement(Matchers.anyString())).thenReturn(preparedStatement);
  Mockito.when(preparedStatement.executeQuery()).thenReturn(resultSet);
  Mockito.when(resultSet.first()).thenReturn(true);
  Mockito.when(resultSet.getInt(1)).thenReturn(1);
  Assert.assertTrue(DbUtil.getGlobalLock("TEST",600));
  Mockito.verify(connection).prepareStatement(Matchers.anyString());
  Mockito.verify(preparedStatement).close();
  Mockito.verify(resultSet).close();
}

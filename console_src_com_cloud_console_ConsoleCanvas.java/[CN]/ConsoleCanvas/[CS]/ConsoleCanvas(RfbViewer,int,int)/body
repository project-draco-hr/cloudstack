{
  viewer=v;
  maxWidth=maxWidth_;
  maxHeight=maxHeight_;
  rfb=viewer.getRfb();
  scalingFactor=viewer.getScalingFactor();
  tightInflaters=new Inflater[4];
  cm8=new DirectColorModel(8,7,(7 << 3),(3 << 6));
  cm24=new DirectColorModel(24,0xFF0000,0x00FF00,0x0000FF);
  colors=new Color[256];
  for (int i=0; i < 256; i++)   colors[i]=new Color(cm8.getRGB(i));
  inputEnabled=false;
  addKeyListener(this);
}

{
  SyslogWriter.syslogHost=syslogHost;
  if (syslogHost == null) {
    throw new NullPointerException("syslogHost");
  }
  String host=syslogHost;
  int urlPort=-1;
  if (host.indexOf("[") != -1 || host.indexOf(':') == host.lastIndexOf(':')) {
    try {
      URL url=new URL("http://" + host);
      if (url.getHost() != null) {
        host=url.getHost();
        if (host.startsWith("[") && host.charAt(host.length() - 1) == ']') {
          host=host.substring(1,host.length() - 1);
        }
        urlPort=url.getPort();
      }
    }
 catch (    MalformedURLException e) {
      LogLog.error("Malformed URL: will attempt to interpret as InetAddress.",e);
    }
  }
  if (urlPort == -1) {
    urlPort=SYSLOG_PORT;
  }
  port=urlPort;
  try {
    this.address=InetAddress.getByName(host);
  }
 catch (  UnknownHostException e) {
    LogLog.error("Could not find " + host + ". All logging will FAIL.",e);
  }
  try {
    this.ds=new DatagramSocket();
  }
 catch (  SocketException e) {
    e.printStackTrace();
    LogLog.error("Could not instantiate DatagramSocket to " + host + ". All logging will FAIL.",e);
  }
}

{
  XMLLayout xmlLayout=new XMLLayout();
  xmlLayout.setLocationInfo(true);
  root.addAppender(new FileAppender(xmlLayout,TEMP,false));
  String oldThreadName=Thread.currentThread().getName();
  Thread.currentThread().setName("main");
  logger.trace("Message with embedded <![CDATA[<hello>hi</hello>]]>.");
  logger.debug("Message with embedded <![CDATA[<hello>hi</hello>]]>.");
  Thread.currentThread().setName(oldThreadName);
  Transformer.transform(TEMP,FILTERED,new Filter[]{new LineNumberFilter(),new XMLTimestampFilter(),new XMLLineAttributeFilter(),new SunReflectFilter(),new JunitTestRunnerFilter()});
  Transformer.transform(TEMP,FILTERED,new Filter[]{new LineNumberFilter(),new XMLTimestampFilter(),new XMLLineAttributeFilter()});
  assertTrue(Compare.compare(FILTERED,"witness/xmlLayout.3"));
}

def _scan(self, force):
    for i in range(SR.SCAN_RETRY_ATTEMPTS):
        error = False
        self.lvmCache.refresh()
        vdis = lvhdutil.getVDIInfo(self.lvmCache)
        for (uuid, vdiInfo) in vdis.iteritems():
            if vdiInfo.scanError:
                error = True
                break
        if (not error):
            return vdis
        Util.log(('Scan error, retrying (%d)' % i))
    if force:
        return vdis
    raise util.SMException('Scan error')

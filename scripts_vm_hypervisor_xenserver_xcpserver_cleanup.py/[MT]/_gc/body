def _gc(session, srUuid, dryRun):
    init(srUuid)
    sr = SR.getInstance(srUuid, session)
    try:
        _gcLoop(sr, dryRun)
    finally:
        sr.cleanup()
        Util.log('Final SR state:')
        Util.log(sr.toString())
        sr.printVDIs()

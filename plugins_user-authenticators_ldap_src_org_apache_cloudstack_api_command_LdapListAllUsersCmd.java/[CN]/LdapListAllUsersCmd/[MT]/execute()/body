{
  try {
    final List<LdapUser> users=_ldapManager.getUsers();
    final ListResponse<LdapUserResponse> response=new ListResponse<LdapUserResponse>();
    final List<LdapUserResponse> ldapResponses=createLdapUserResponse(users);
    response.setResponses(ldapResponses);
    response.setResponseName(getCommandName());
    setResponseObject(response);
  }
 catch (  final NoLdapUserMatchingQueryException ex) {
    throw new ServerApiException(ApiErrorCode.RESOURCE_UNAVAILABLE_ERROR,ex.getMessage());
  }
}

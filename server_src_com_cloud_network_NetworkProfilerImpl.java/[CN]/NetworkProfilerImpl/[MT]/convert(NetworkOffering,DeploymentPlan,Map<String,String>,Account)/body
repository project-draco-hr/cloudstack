{
  List<NetworkConfigurationVO> profiles=_profileDao.listBy(owner.getId(),offering.getId());
  for (  NetworkConfigurationVO profile : profiles) {
    return profile;
  }
  GuestIpType ipType=offering.getGuestIpType();
  BroadcastDomainType broadcastType=null;
  Mode mode=null;
  if (ipType == GuestIpType.Virtualized) {
    mode=Mode.Dhcp;
    broadcastType=BroadcastDomainType.Vlan;
  }
 else {
    broadcastType=BroadcastDomainType.Native;
    mode=Mode.Dhcp;
  }
  NetworkConfigurationVO profile=new NetworkConfigurationVO(offering.getTrafficType(),mode,broadcastType,offering.getId());
  DataCenterVO dc=_dcDao.findById(plan.getDataCenterId());
  return profile;
}

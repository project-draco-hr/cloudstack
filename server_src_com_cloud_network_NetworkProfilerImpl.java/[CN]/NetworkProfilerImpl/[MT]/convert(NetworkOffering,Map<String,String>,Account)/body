{
  List<NetworkProfileVO> profiles=_profileDao.listBy(owner.getId(),offering.getId());
  for (  NetworkProfileVO profile : profiles) {
    return profile;
  }
  GuestIpType ipType=offering.getGuestIpType();
  BroadcastDomainType broadcastType=null;
  Mode mode=null;
  if (ipType == GuestIpType.Virtualized) {
    mode=Mode.Dhcp;
    broadcastType=BroadcastDomainType.Vlan;
  }
 else {
    throw new CloudRuntimeException("Unable to convert " + ipType);
  }
  return new NetworkProfileVO(owner.getId(),offering.getTrafficType(),mode,broadcastType,offering.getId());
}

{
  VmwareManager mgr=getServiceContext().getStockObject(VmwareManager.CONTEXT_STOCK_NAME);
  Pair<Boolean,String> result=SshHelper.sshExecute(routerIp,DEFAULT_DOMR_SSHPORT,"root",mgr.getSystemVMKeyFile(),null,"ls /proc/sys/net/ipv4/conf");
  if (result.first()) {
    String[] tokens=result.second().split("\\s+");
    HashMap<String,String> deviceNames=new HashMap<String,String>();
    for (    String token : tokens) {
      if (!("all".equalsIgnoreCase(token) || "default".equalsIgnoreCase(token) || "lo".equalsIgnoreCase(token))) {
        deviceNames.put(token,token);
      }
    }
    for (int i=1; ; i++) {
      if (!deviceNames.containsKey("eth" + i))       return i;
    }
  }
  return -1;
}

{
  if (s_logger.isInfoEnabled()) {
    s_logger.info("Executing resource PingTestCommand: " + _gson.toJson(cmd));
  }
  String controlIp=cmd.getRouterIp();
  String args=" -c 1 -n -q " + cmd.getPrivateIp();
  try {
    VmwareManager mgr=getServiceContext().getStockObject(VmwareManager.CONTEXT_STOCK_NAME);
    Pair<Boolean,String> result=SshHelper.sshExecute(controlIp,DEFAULT_DOMR_SSHPORT,"root",mgr.getSystemVMKeyFile(),null,"/bin/ping" + args);
    if (result.first())     return new Answer(cmd);
  }
 catch (  Exception e) {
    s_logger.error("Unable to execute ping command on DomR (" + controlIp + "), domR may not be ready yet. failure due to "+ VmwareHelper.getExceptionMessage(e),e);
  }
  return new Answer(cmd,false,"PingTestCommand failed");
}

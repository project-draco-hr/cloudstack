{
  if (vmSpec.getDetails().get(Config.VmwareReserveMem.key()).equalsIgnoreCase("true")) {
    return (int)(vmSpec.getMinRam() / (1024 * 1024));
  }
 else   if (vmSpec.getMinRam() != vmSpec.getMaxRam()) {
    s_logger.warn("memory overprovisioning factor is set to " + (vmSpec.getMaxRam() / vmSpec.getMinRam()) + " ignoring the flag vmware.reserve.mem");
    return (int)(vmSpec.getMinRam() / (1024 * 1024));
  }
  return 0;
}

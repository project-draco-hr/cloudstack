{
  if (vmSpec.getDetails().get(Config.VmwareReserveCpu.key()).equalsIgnoreCase("true")) {
    return vmSpec.getMinSpeed();
  }
 else   if (vmSpec.getMinSpeed().intValue() != vmSpec.getMaxSpeed().intValue()) {
    s_logger.warn("cpu overprovisioning factor is set to " + (vmSpec.getMaxSpeed().intValue() / vmSpec.getMinSpeed().intValue()) + " ignoring the flag vmware.reserve.cpu");
    return vmSpec.getMinSpeed();
  }
  return 0;
}

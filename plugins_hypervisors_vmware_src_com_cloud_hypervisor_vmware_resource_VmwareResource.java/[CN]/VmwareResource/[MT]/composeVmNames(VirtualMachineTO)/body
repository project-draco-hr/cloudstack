{
  String vmInternalCSName=vmSpec.getName();
  String vmNameOnVcenter=vmSpec.getName();
  if (vmSpec.getType() == VirtualMachine.Type.User && _instanceNameFlag && vmSpec.getHostName() != null) {
    String[] tokens=vmInternalCSName.split("-");
    assert(tokens.length >= 3);
    vmNameOnVcenter=String.format("%s-%s-%s-%s",tokens[0],tokens[1],tokens[2],vmSpec.getHostName());
  }
  return new Pair<String,String>(vmInternalCSName,vmNameOnVcenter);
}

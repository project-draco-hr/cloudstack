{
  if (cpuArchitecture == null) {
    s_logger.warn("CPU arch is not set, default to i386. guest os: " + guestOs);
    cpuArchitecture="i386";
  }
  if (cloudGuestOs == null) {
    s_logger.warn("Guest OS mapping name is not set for guest os: " + guestOs);
  }
  VirtualMachineGuestOsIdentifier identifier=null;
  try {
    if (cloudGuestOs != null) {
      identifier=VirtualMachineGuestOsIdentifier.fromValue(cloudGuestOs);
      s_logger.debug("Using mapping name : " + identifier.toString());
    }
  }
 catch (  IllegalArgumentException e) {
    s_logger.warn("Unable to find Guest OS Identifier in VMware for mapping name: " + cloudGuestOs + ". Continuing with defaults.");
  }
  if (identifier != null) {
    return identifier;
  }
  if (cpuArchitecture.equalsIgnoreCase("x86_64")) {
    return VirtualMachineGuestOsIdentifier.OTHER_GUEST_64;
  }
  return VirtualMachineGuestOsIdentifier.OTHER_GUEST;
}

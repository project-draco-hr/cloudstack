{
  Transaction txn=Transaction.open(Transaction.SIMULATOR_DB);
  MockSecStorageVO storage=null;
  try {
    txn.start();
    storage=_mockSecStorageDao.findByUrl(cmd.getSecUrl());
    if (storage == null) {
      return new Answer(cmd,false,"can't find the storage");
    }
    txn.commit();
  }
 catch (  Exception ex) {
    txn.rollback();
    throw new CloudRuntimeException("Error when setting up sec storage" + cmd.getSecUrl(),ex);
  }
 finally {
    txn.close();
    txn=Transaction.open(Transaction.CLOUD_DB);
    txn.close();
  }
  return new SecStorageSetupAnswer(storage.getMountPoint());
}

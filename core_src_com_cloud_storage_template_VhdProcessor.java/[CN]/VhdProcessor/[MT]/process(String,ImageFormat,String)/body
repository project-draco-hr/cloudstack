{
  if (format != null) {
    logger.debug("We currently don't handle conversion from " + format + " to VHD.");
    return null;
  }
  String vhdPath=templatePath + File.separator + templateName+ "."+ ImageFormat.VHD.getFileExtension();
  if (!_storage.exists(vhdPath)) {
    logger.debug("Unable to find the vhd file: " + vhdPath);
    return null;
  }
  File vhdFile=_storage.getFile(vhdPath);
  FormatInfo info=new FormatInfo();
  info.format=ImageFormat.VHD;
  info.filename=templateName + "." + ImageFormat.VHD.getFileExtension();
  info.size=_storage.getSize(vhdPath);
  try {
    info.virtualSize=getVirtualSize(vhdFile);
  }
 catch (  IOException e) {
    logger.error("Unable to get the virtual size for " + vhdPath);
    return null;
  }
  return info;
}

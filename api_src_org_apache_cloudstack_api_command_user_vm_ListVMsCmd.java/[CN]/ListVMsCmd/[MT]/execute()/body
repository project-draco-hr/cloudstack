{
  Pair<List<UserVmJoinVO>,Integer> result=_userVmService.searchForUserVMs(this);
  ListResponse<UserVmResponse> response=new ListResponse<UserVmResponse>();
  EnumSet<VMDetails> details=getDetails();
  List<UserVmResponse> vmResponses=_responseGenerator.createUserVmResponse("virtualmachine",getDetails(),result.first().toArray(new UserVmJoinVO[result.first().size()]));
  response.setResponses(vmResponses,result.second());
  response.setResponseName(getCommandName());
  this.setResponseObject(response);
}

{
  List<TrafficType> types=new ArrayList<TrafficType>(Arrays.asList(TrafficType.Public));
  List<NetworkVO> dbNets=findJuniperManagedNetworks(types);
  if (dbNets == null) {
    return;
  }
  for (  NetworkVO net : dbNets) {
    VirtualNetworkModel vnModel=_database.lookupVirtualNetwork(net.getUuid(),getCanonicalName(net),TrafficType.Public);
    if (vnModel != null) {
      continue;
    }
    vnModel=new VirtualNetworkModel(net,net.getUuid(),getCanonicalName(net),net.getTrafficType());
    vnModel.build(_controller,net);
    try {
      vnModel.update(_controller);
    }
 catch (    InternalErrorException ex) {
      s_logger.warn("virtual-network update",ex);
      continue;
    }
catch (    IOException ex) {
      s_logger.warn("virtual-network update",ex);
      continue;
    }
    _database.getVirtualNetworks().add(vnModel);
    Map<String,String> providerMap=new HashMap<String,String>();
    providerMap.put(Service.Connectivity.getName(),Provider.JuniperContrail.getName());
    _networksDao.update(net.getId(),net,providerMap);
  }
}

{
  File configFile=PropertiesUtil.findConfigFile(configuration);
  try {
    String hostname=null;
    int port=0;
    if (configFile == null) {
      hostname="localhost";
      port=8082;
    }
 else {
      final Properties configProps=new Properties();
      configProps.load(new FileInputStream(configFile));
      String value=configProps.getProperty("management.db_sync_interval");
      if (value != null) {
        _dbSyncInterval=Integer.valueOf(value);
      }
      hostname=configProps.getProperty("api.hostname");
      String portStr=configProps.getProperty("api.port");
      if (portStr != null && portStr.length() > 0) {
        port=Integer.parseInt(portStr);
      }
    }
    _api=ApiConnectorFactory.build(hostname,port);
  }
 catch (  IOException ex) {
    s_logger.warn("Unable to read " + configuration,ex);
    throw new ConfigurationException();
  }
catch (  Exception ex) {
    s_logger.debug("Exception in configure: " + ex);
    ex.printStackTrace();
    throw new ConfigurationException();
  }
  _controller=new ModelController(this,_api,_vmDao,_networksDao,_nicDao,_vlanDao,_ipAddressDao);
  _routerOffering=LocateNetworkOffering(routerOfferingName,routerOfferingDisplayText,Provider.JuniperContrailRouter);
  _routerPublicOffering=LocatePublicNetworkOffering(routerPublicOfferingName,routerPublicOfferingDisplayText,Provider.JuniperContrailRouter);
  _eventHandler.subscribe();
  initializeDefaultVirtualNetworkModels();
  return true;
}

{
  Enhancer en=new Enhancer();
  Class<?> clz=_targetObject.getClass();
  String clzName=clz.getName();
  if (clzName.contains("EnhancerByCloudStack"))   clz=clz.getSuperclass();
  en.setSuperclass(clz);
  en.setCallbacks(new Callback[]{new MethodInterceptor(){
    @Override public Object intercept(    Object arg0,    Method arg1,    Object[] arg2,    MethodProxy arg3) throws Throwable {
      _callbackMethod=arg1;
      _callbackMethod.setAccessible(true);
      return null;
    }
  }
,new MethodInterceptor(){
    @Override public Object intercept(    Object arg0,    Method arg1,    Object[] arg2,    MethodProxy arg3) throws Throwable {
      return null;
    }
  }
});
  en.setCallbackFilter(new CallbackFilter(){
    @Override public int accept(    Method method){
      if (method.getParameterTypes().length == 0 && method.getName().equals("finalize")) {
        return 1;
      }
      return 0;
    }
  }
);
  try {
    return (T)en.create();
  }
 catch (  Throwable e) {
    s_logger.error("Unexpected exception",e);
  }
  return null;
}

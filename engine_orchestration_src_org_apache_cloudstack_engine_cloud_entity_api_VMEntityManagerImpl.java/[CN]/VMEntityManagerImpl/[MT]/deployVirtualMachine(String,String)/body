{
  VMReservationVO vmReservation=_reservationDao.findByReservationId(reservationId);
  long vmId=vmReservation.getVmId();
  VMInstanceVO vm=_vmDao.findById(vmId);
  Long poolId=null;
  Map<Long,Long> storage=vmReservation.getVolumeReservation();
  if (storage != null) {
    List<Long> poolIdList=new ArrayList<Long>(storage.keySet());
    if (poolIdList != null && !poolIdList.isEmpty()) {
      poolId=poolIdList.get(0);
    }
  }
  DataCenterDeployment plan=new DataCenterDeployment(vm.getDataCenterId(),vmReservation.getPodId(),vmReservation.getClusterId(),vmReservation.getHostId(),poolId,null);
  VMInstanceVO vmDeployed=_itMgr.start(vm,null,_userDao.findById(new Long(caller)),_accountDao.findById(vm.getAccountId()),plan);
}

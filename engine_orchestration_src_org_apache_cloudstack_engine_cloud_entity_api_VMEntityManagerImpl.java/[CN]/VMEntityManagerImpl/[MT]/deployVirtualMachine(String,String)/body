{
  VMReservationVO vmReservation=_reservationDao.findByReservationId(reservationId);
  long vmId=vmReservation.getVmId();
  VMInstanceVO vm=_vmDao.findById(vmId);
  Long poolId=null;
  Map<Long,Long> storage=vmReservation.getVolumeReservation();
  if (storage != null) {
    Long[] array=new Long[storage.keySet().size()];
    storage.keySet().toArray(array);
    poolId=array[0];
  }
  DataCenterDeployment plan=new DataCenterDeployment(vm.getDataCenterIdToDeployIn(),vmReservation.getPodId(),vmReservation.getClusterId(),vmReservation.getHostId(),poolId,null);
  VMInstanceVO vmDeployed=_itMgr.start(vm,null,_userDao.findById(new Long(caller)),_accountDao.findById(vm.getAccountId()),plan);
}

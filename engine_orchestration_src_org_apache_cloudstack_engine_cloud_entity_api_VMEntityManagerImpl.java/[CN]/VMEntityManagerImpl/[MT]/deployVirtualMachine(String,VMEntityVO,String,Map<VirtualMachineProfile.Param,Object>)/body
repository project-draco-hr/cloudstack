{
  VMInstanceVO vm=_vmDao.findByUuid(vmEntityVO.getUuid());
  VMReservationVO vmReservation=_reservationDao.findByReservationId(reservationId);
  if (vmReservation != null) {
    DataCenterDeployment reservedPlan=new DataCenterDeployment(vm.getDataCenterId(),vmReservation.getPodId(),vmReservation.getClusterId(),vmReservation.getHostId(),null,null);
    try {
      VMInstanceVO vmDeployed=_itMgr.start(vm,params,_userDao.findById(new Long(caller)),_accountDao.findById(vm.getAccountId()),reservedPlan);
    }
 catch (    Exception ex) {
      DataCenterDeployment plan=new DataCenterDeployment(0,null,null,null,null,null);
      if (reservedPlan.getAvoids() != null) {
        plan.setAvoids(reservedPlan.getAvoids());
      }
      _itMgr.start(vm,params,_userDao.findById(new Long(caller)),_accountDao.findById(vm.getAccountId()),plan);
    }
  }
 else {
    _itMgr.start(vm,params,_userDao.findById(new Long(caller)),_accountDao.findById(vm.getAccountId()),null);
  }
}

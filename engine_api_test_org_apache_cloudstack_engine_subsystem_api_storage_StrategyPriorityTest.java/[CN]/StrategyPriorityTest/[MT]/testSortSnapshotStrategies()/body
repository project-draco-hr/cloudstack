{
  SnapshotStrategy cantHandleStrategy=mock(SnapshotStrategy.class);
  SnapshotStrategy defaultStrategy=mock(SnapshotStrategy.class);
  SnapshotStrategy hyperStrategy=mock(SnapshotStrategy.class);
  SnapshotStrategy pluginStrategy=mock(SnapshotStrategy.class);
  SnapshotStrategy highestStrategy=mock(SnapshotStrategy.class);
  doReturn(Priority.CANT_HANDLE).when(cantHandleStrategy).canHandle(any(Snapshot.class));
  doReturn(Priority.DEFAULT).when(defaultStrategy).canHandle(any(Snapshot.class));
  doReturn(Priority.HYPERVISOR).when(hyperStrategy).canHandle(any(Snapshot.class));
  doReturn(Priority.PLUGIN).when(pluginStrategy).canHandle(any(Snapshot.class));
  doReturn(Priority.HIGHEST).when(highestStrategy).canHandle(any(Snapshot.class));
  List<SnapshotStrategy> strategies=new ArrayList<SnapshotStrategy>(5);
  strategies.addAll(Arrays.asList(defaultStrategy,pluginStrategy,hyperStrategy,cantHandleStrategy,highestStrategy));
  StrategyPriority.sortStrategies(strategies,mock(Snapshot.class));
  assertEquals("Highest was not 1st.",highestStrategy,strategies.get(0));
  assertEquals("Plugin was not 2nd.",pluginStrategy,strategies.get(1));
  assertEquals("Hypervisor was not 3rd.",hyperStrategy,strategies.get(2));
  assertEquals("Default was not 4th.",defaultStrategy,strategies.get(3));
  assertEquals("Can't Handle was not 5th.",cantHandleStrategy,strategies.get(4));
}

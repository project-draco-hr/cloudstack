{
  Transaction txn=Transaction.currentTxn();
  txn.start();
  NetworkVO newNetwork=super.persist(network);
  addAccountToNetwork(network.getId(),network.getAccountId(),true);
  NetworkOpVO op=new NetworkOpVO(network.getId(),gc);
  _opDao.persist(op);
  for (  String service : serviceProviderMap.keySet()) {
    NetworkServiceMapVO serviceMap=new NetworkServiceMapVO(newNetwork.getId(),Service.getService(service),Provider.getProvider(serviceProviderMap.get(service)));
    _ntwkSvcMap.persist(serviceMap);
  }
  txn.commit();
  return newNetwork;
}

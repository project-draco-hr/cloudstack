{
  Layout layout=new SimpleLayout();
  Appender appender=new FileAppender(layout,DENY_FILE,false);
  LevelMatchFilter matchFilter=new LevelMatchFilter();
  matchFilter.setAcceptOnMatch(false);
  appender.addFilter(matchFilter);
  root.addAppender(appender);
  root.setLevel(Level.TRACE);
  Level[] levelArray=new Level[]{Level.TRACE,Level.DEBUG,Level.INFO,Level.WARN,Level.ERROR,Level.FATAL};
  for (int x=0; x < levelArray.length; x++) {
    matchFilter.setLevelToMatch(levelArray[x].toString());
    common("pass " + x + "; filter set to deny only "+ levelArray[x].toString()+ " msgs");
  }
  Transformer.transform(DENY_FILE,DENY_FILTERED,new LineNumberFilter());
  assertTrue(Compare.compare(DENY_FILTERED,DENY_WITNESS));
}

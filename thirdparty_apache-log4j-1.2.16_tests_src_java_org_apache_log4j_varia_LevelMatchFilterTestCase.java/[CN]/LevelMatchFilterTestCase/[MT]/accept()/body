{
  Layout layout=new SimpleLayout();
  Appender appender=new FileAppender(layout,ACCEPT_FILE,false);
  LevelMatchFilter matchFilter=new LevelMatchFilter();
  appender.addFilter(matchFilter);
  appender.addFilter(new DenyAllFilter());
  root.addAppender(appender);
  root.setLevel(Level.TRACE);
  Level[] levelArray=new Level[]{Level.TRACE,Level.DEBUG,Level.INFO,Level.WARN,Level.ERROR,Level.FATAL};
  for (int x=0; x < levelArray.length; x++) {
    matchFilter.setLevelToMatch(levelArray[x].toString());
    common("pass " + x + "; filter set to accept only "+ levelArray[x].toString()+ " msgs");
  }
  Transformer.transform(ACCEPT_FILE,ACCEPT_FILTERED,new LineNumberFilter());
  assertTrue(Compare.compare(ACCEPT_FILTERED,ACCEPT_WITNESS));
}

{
  if (secStorageVm.getHostId() != null) {
    GlobalLock secStorageVmLock=GlobalLock.getInternLock(getSecStorageVmLockName(secStorageVm.getId()));
    try {
      if (secStorageVmLock.lock(ACQUIRE_GLOBAL_LOCK_TIMEOUT_FOR_SYNC)) {
        try {
          boolean result=_itMgr.stop(secStorageVm,_accountMgr.getSystemUser(),_accountMgr.getSystemAccount());
          if (result) {
          }
          return result;
        }
  finally {
          secStorageVmLock.unlock();
        }
      }
 else {
        String msg="Unable to acquire secondary storage vm lock : " + secStorageVm.toString();
        s_logger.debug(msg);
        return false;
      }
    }
  finally {
      secStorageVmLock.releaseRef();
    }
  }
  return true;
}

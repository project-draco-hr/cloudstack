{
  if (_IpAllocator != null && _IpAllocator.exteralIpAddressAllocatorEnabled()) {
    return _IpAllocator.getPrivateIpAddress(macAddr,dcId,podId).ipaddr;
  }
 else {
    return _dcDao.allocatePrivateIpAddress(dcId,podId,proxyId);
  }
}

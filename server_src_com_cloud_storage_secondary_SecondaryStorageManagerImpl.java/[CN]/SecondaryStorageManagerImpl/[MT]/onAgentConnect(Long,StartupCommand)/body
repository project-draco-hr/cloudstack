{
  if (_IpAllocator != null && _IpAllocator.exteralIpAddressAllocatorEnabled()) {
    List<SecondaryStorageVmVO> zoneSsvms=_secStorageVmDao.listByZoneId(dcId);
    if (zoneSsvms.size() == 0) {
      return;
    }
    SecondaryStorageVmVO secStorageVm=zoneSsvms.get(0);
    secStorageVm.setPrivateIpAddress(cmd.getStorageIpAddress());
    secStorageVm.setPublicIpAddress(cmd.getPublicIpAddress());
    secStorageVm.setPublicNetmask(cmd.getPublicNetmask());
    _secStorageVmDao.persist(secStorageVm);
  }
}

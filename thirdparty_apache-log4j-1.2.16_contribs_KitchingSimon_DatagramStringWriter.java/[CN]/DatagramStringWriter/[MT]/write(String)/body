{
  if (prefix != null) {
    string=prefix + string;
  }
  byte[] rawData;
  if (this.encoding == null) {
    rawData=string.getBytes();
  }
 else {
    rawData=string.getBytes(encoding);
  }
  DatagramPacket packet=new DatagramPacket(rawData,rawData.length,address,port);
  if (this.ds != null) {
    ds.send(packet);
  }
 else {
    LogLog.error("write: failed to create DatagramPacket");
  }
}

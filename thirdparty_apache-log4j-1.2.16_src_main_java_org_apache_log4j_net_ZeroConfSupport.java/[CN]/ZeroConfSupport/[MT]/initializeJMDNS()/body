{
  try {
    jmDNSClass=Class.forName("javax.jmdns.JmDNS");
    serviceInfoClass=Class.forName("javax.jmdns.ServiceInfo");
  }
 catch (  ClassNotFoundException e) {
    LogLog.warn("JmDNS or serviceInfo class not found",e);
  }
  boolean isVersion3=false;
  try {
    jmDNSClass.getMethod("create",null);
    isVersion3=true;
  }
 catch (  NoSuchMethodException e) {
  }
  if (isVersion3) {
    return createJmDNSVersion3();
  }
 else {
    return createJmDNSVersion1();
  }
}

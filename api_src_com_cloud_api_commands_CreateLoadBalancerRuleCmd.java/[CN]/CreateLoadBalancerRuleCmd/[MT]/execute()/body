{
  if (cidrlist != null) {
    for (    String cidr : cidrlist) {
      if (!NetUtils.isValidCIDR(cidr)) {
        throw new ServerApiException(BaseCmd.PARAM_ERROR,"Source cidrs formatting error " + cidr);
      }
    }
  }
  LoadBalancer result=null;
  try {
    result=_lbService.createLoadBalancerRule(this,getOpenFirewall());
  }
 catch (  NetworkRuleConflictException e) {
    s_logger.warn("Exception: ",e);
    throw new ServerApiException(BaseCmd.NETWORK_RULE_CONFLICT_ERROR,e.getMessage());
  }
  LoadBalancerResponse response=_responseGenerator.createLoadBalancerResponse(result);
  response.setResponseName(getCommandName());
  this.setResponseObject(response);
}

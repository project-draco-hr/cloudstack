{
  checkPrivateIpRangeErrors(podId,startIP,endIP);
  long zoneId=_podDao.findById(podId).getDataCenterId();
  List<String> problemIPs=null;
  if (add) {
    problemIPs=savePrivateIPRange(startIP,endIP,podId,zoneId);
  }
 else {
    problemIPs=deletePrivateIPRange(startIP,endIP,podId,zoneId);
  }
  if (problemIPs == null) {
    throw new InvalidParameterValueException("Failed to change private IP range. Please contact Cloud Support.");
  }
 else {
    return genChangeRangeSuccessString(problemIPs,add);
  }
}

{
  String category=cmd.getCategory();
  String instance=cmd.getInstance();
  String component=cmd.getComponent();
  String name=cmd.getConfigPropName();
  String value=cmd.getValue();
  String description=cmd.getDescription();
  try {
    if ("Hidden".equals(category)) {
      value=DBEncryptionUtil.encrypt(value);
    }
    ConfigurationVO entity=new ConfigurationVO(category,instance,component,name,value,description);
    _configDao.persist(entity);
    s_logger.info("Successfully added configuration value into db: category:" + category + " instance:"+ instance+ " component:"+ component+ " name:"+ name+ " value:"+ value);
    return _configDao.findByName(name);
  }
 catch (  Exception ex) {
    s_logger.error("Unable to add the new config entry:",ex);
    throw new CloudRuntimeException("Unable to add configuration parameter " + name);
  }
}

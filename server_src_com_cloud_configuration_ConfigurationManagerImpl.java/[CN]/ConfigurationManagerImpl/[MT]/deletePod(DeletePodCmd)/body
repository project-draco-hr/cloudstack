{
  Long podId=cmd.getId();
  if (!validPod(podId)) {
    throw new InvalidParameterValueException("A pod with ID: " + podId + " does not exist.");
  }
  checkIfPodIsDeletable(podId);
  HostPodVO pod=_podDao.findById(podId);
  List<DataCenterIpAddressVO> privateIps=_privateIpAddressDao.listByPodIdDcId(Long.valueOf(podId),pod.getDataCenterId());
  if (privateIps != null && privateIps.size() != 0) {
    if (!(_privateIpAddressDao.deleteIpAddressByPod(podId))) {
      throw new CloudRuntimeException("Failed to cleanup private ip addresses for pod " + podId);
    }
  }
  List<DataCenterLinkLocalIpAddressVO> localIps=_LinkLocalIpAllocDao.listByPodIdDcId(podId,pod.getDataCenterId());
  if (!localIps.isEmpty()) {
    if (!(_LinkLocalIpAllocDao.deleteIpAddressByPod(podId))) {
      throw new CloudRuntimeException("Failed to cleanup private ip addresses for pod " + podId);
    }
  }
  List<? extends Vlan> vlans=_networkMgr.listPodVlans(podId);
  if (vlans != null && !vlans.isEmpty()) {
    for (    Vlan vlan : vlans) {
      _vlanDao.remove(vlan.getId());
    }
  }
  if (!(_podDao.expunge(podId))) {
    throw new CloudRuntimeException("Failed to delete pod " + podId);
  }
  return true;
}

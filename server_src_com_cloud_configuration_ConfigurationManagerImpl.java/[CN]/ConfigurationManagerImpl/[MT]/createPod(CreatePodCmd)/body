{
  String endIp=cmd.getEndIp();
  String gateway=cmd.getGateway();
  String name=cmd.getPodName();
  String startIp=cmd.getStartIp();
  String netmask=cmd.getNetmask();
  Long zoneId=cmd.getZoneId();
  String cidr=NetUtils.ipAndNetMaskToCidr(gateway,netmask);
  Long userId=UserContext.current().getCallerUserId();
  Boolean useExternalDhcp=cmd.getUseExternalDhcp();
  useExternalDhcp=(useExternalDhcp == null ? false : useExternalDhcp);
  return createPod(userId.longValue(),name,zoneId,gateway,cidr,startIp,endIp,useExternalDhcp);
}

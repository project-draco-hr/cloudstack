{
  String endIp=cmd.getEndIp();
  String gateway=cmd.getGateway();
  String name=cmd.getPodName();
  String startIp=cmd.getStartIp();
  String netmask=cmd.getNetmask();
  Long zoneId=cmd.getZoneId();
  String cidr=NetUtils.ipAndNetMaskToCidr(gateway,netmask);
  Long userId=UserContext.current().getCallerUserId();
  String allocationState=cmd.getAllocationState();
  if (allocationState == null) {
    allocationState=Grouping.AllocationState.Disabled.toString();
  }
  return createPod(userId.longValue(),name,zoneId,gateway,cidr,startIp,endIp,allocationState);
}

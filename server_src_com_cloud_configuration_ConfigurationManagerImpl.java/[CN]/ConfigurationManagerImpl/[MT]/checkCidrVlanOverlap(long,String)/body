{
  List<VlanVO> vlans=_vlanDao.listByZoneAndType(zoneId,VlanType.VirtualNetwork);
  for (  VlanVO vlan : vlans) {
    String vlanCidr=NetUtils.ipAndNetMaskToCidr(vlan.getVlanGateway(),vlan.getVlanNetmask());
    String[] cidrPairVlan=vlanCidr.split("\\/");
    String[] vlanIpRange=NetUtils.getIpRangeFromCidr(cidrPairVlan[0],Long.valueOf(cidrPairVlan[1]));
    String[] cidrPairPod=cidr.split("\\/");
    String[] podIpRange=NetUtils.getIpRangeFromCidr(cidrPairPod[0],Long.valueOf(cidrPairPod[1]));
    if (NetUtils.ipRangesOverlap(vlanIpRange[0],vlanIpRange[1],podIpRange[0],podIpRange[1])) {
      throw new InvalidParameterValueException("Pod's cidr conflicts with cidr of virtual network in zone id=" + zoneId);
    }
  }
}

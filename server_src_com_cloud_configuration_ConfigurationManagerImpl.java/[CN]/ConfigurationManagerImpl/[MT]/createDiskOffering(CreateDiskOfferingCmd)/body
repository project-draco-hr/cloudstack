{
  String name=cmd.getOfferingName();
  String description=cmd.getDisplayText();
  Long numGibibytes=cmd.getDiskSize();
  boolean isDisplayOfferingEnabled=cmd.getDisplayOffering() != null ? cmd.getDisplayOffering() : true;
  boolean isCustomized=cmd.isCustomized() != null ? cmd.isCustomized() : false;
  String tags=cmd.getTags();
  Long domainId=cmd.getDomainId();
  if (!isCustomized && numGibibytes == null) {
    throw new InvalidParameterValueException("Disksize is required for a non-customized disk offering");
  }
  boolean localStorageRequired=false;
  String storageType=cmd.getStorageType();
  if (storageType != null) {
    if (storageType.equalsIgnoreCase(ServiceOffering.StorageType.local.toString())) {
      localStorageRequired=true;
    }
 else     if (!storageType.equalsIgnoreCase(ServiceOffering.StorageType.shared.toString())) {
      throw new InvalidParameterValueException("Invalid storage type " + storageType + " specified, valid types are: 'local' and 'shared'");
    }
  }
  Boolean isCustomizedIops=cmd.isCustomizedIops();
  Long minIops=cmd.getMinIops();
  Long maxIops=cmd.getMaxIops();
  Long bytesReadRate=cmd.getBytesReadRate();
  Long bytesWriteRate=cmd.getBytesWriteRate();
  Long iopsReadRate=cmd.getIopsReadRate();
  Long iopsWriteRate=cmd.getIopsWriteRate();
  return createDiskOffering(domainId,name,description,numGibibytes,tags,isCustomized,localStorageRequired,isDisplayOfferingEnabled,isCustomizedIops,minIops,maxIops,bytesReadRate,bytesWriteRate,iopsReadRate,iopsWriteRate);
}

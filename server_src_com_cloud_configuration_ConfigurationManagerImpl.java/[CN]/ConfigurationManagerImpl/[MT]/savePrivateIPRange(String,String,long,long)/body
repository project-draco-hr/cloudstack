{
  long startIPLong=NetUtils.ip2Long(startIP);
  long endIPLong=NetUtils.ip2Long(endIP);
  Transaction txn=Transaction.currentTxn();
  String insertSql="INSERT INTO `cloud`.`op_dc_ip_address_alloc` (ip_address, data_center_id, pod_id) VALUES (?, ?, ?)";
  List<String> problemIPs=new ArrayList<String>();
  txn.start();
  PreparedStatement stmt=null;
  while (startIPLong <= endIPLong) {
    try {
      stmt=txn.prepareAutoCloseStatement(insertSql);
      stmt.setString(1,NetUtils.long2Ip(startIPLong));
      stmt.setLong(2,zoneId);
      stmt.setLong(3,podId);
      stmt.executeUpdate();
      stmt.close();
    }
 catch (    Exception ex) {
      problemIPs.add(NetUtils.long2Ip(startIPLong));
    }
    startIPLong+=1;
  }
  txn.commit();
  return problemIPs;
}

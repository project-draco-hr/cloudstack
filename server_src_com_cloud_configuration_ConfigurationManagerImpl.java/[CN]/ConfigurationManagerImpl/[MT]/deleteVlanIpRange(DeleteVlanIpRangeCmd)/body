{
  Long vlanDbId=cmd.getId();
  Long userId=UserContext.current().getUserId();
  if (userId == null) {
    userId=Long.valueOf(User.UID_SYSTEM);
  }
  VlanVO vlan=_vlanDao.findById(vlanDbId);
  if (vlan == null) {
    throw new InvalidParameterValueException("Please specify a valid IP range id.");
  }
  if (vlan.getNetworkId() != null) {
    throw new InvalidParameterValueException("Fail to delete a vlan range as there are networks associated with it");
  }
  return deleteVlanAndPublicIpRange(userId,vlanDbId);
}

def setTag(bridge, vifName, vlan):
    log(('Waiting for %s ...' % vifName))
    waitPortCmd = [vsctlPath, ('--timeout=10 wait-until port %s -- get port %s name' % (vifName, vifName))]
    doCmd(waitPortCmd)
    log(('%s is here' % vifName))
    if (getVifPort(bridge, vifName) == None):
        log(('WARNING: %s is not on bridge %s' % (vifName, bridge)))
        return 0
    log('Set tag')
    setTagCmd = [vsctlPath, 'set port', vifName, ('tag=%s' % vlan)]
    doCmd(setTagCmd)
    return 0

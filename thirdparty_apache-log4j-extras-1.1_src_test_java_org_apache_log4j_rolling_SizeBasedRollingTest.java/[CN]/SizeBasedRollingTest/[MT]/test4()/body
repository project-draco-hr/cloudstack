{
  PatternLayout layout=new PatternLayout("%m\n");
  RollingFileAppender rfa=new RollingFileAppender();
  rfa.setName("ROLLING");
  rfa.setAppend(false);
  rfa.setLayout(layout);
  rfa.setFile("sizeBased-test4.log");
  FixedWindowRollingPolicy swrp=new FixedWindowRollingPolicy();
  SizeBasedTriggeringPolicy sbtp=new SizeBasedTriggeringPolicy();
  sbtp.setMaxFileSize(100);
  swrp.setMinIndex(0);
  swrp.setFileNamePattern("test4/sizeBased-test4.%i");
  swrp.activateOptions();
  rfa.setRollingPolicy(swrp);
  rfa.setTriggeringPolicy(sbtp);
  rfa.activateOptions();
  root.addAppender(rfa);
  for (int i=0; i < 25; i++) {
    if (i < 10) {
      logger.debug("Hello---" + i);
    }
 else     if (i < 100) {
      logger.debug("Hello--" + i);
    }
  }
  assertTrue(new File("sizeBased-test4.log").exists());
  assertTrue(Compare.compare(SizeBasedRollingTest.class,"sizeBased-test4.log","witness/rolling/sbr-test4.log"));
}

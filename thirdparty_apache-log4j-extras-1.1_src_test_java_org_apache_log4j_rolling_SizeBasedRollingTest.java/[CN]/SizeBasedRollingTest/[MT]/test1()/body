{
  PatternLayout layout=new PatternLayout("%m\n");
  RollingFileAppender rfa=new RollingFileAppender();
  rfa.setName("ROLLING");
  rfa.setAppend(false);
  rfa.setLayout(layout);
  FixedWindowRollingPolicy swrp=new FixedWindowRollingPolicy();
  SizeBasedTriggeringPolicy sbtp=new SizeBasedTriggeringPolicy();
  sbtp.setMaxFileSize(100);
  swrp.setMinIndex(0);
  swrp.setFileNamePattern("sizeBased-test1.%i");
  swrp.activateOptions();
  rfa.setRollingPolicy(swrp);
  rfa.setTriggeringPolicy(sbtp);
  rfa.activateOptions();
  root.addAppender(rfa);
  for (int i=0; i < 25; i++) {
    if (i < 10) {
      logger.debug("Hello---" + i);
    }
 else     if (i < 100) {
      logger.debug("Hello--" + i);
    }
  }
  assertTrue(new File("sizeBased-test1.0").exists());
  assertTrue(new File("sizeBased-test1.1").exists());
  assertTrue(new File("sizeBased-test1.2").exists());
  assertTrue(Compare.compare(SizeBasedRollingTest.class,"sizeBased-test1.0","witness/rolling/sbr-test2.log"));
  assertTrue(Compare.compare(SizeBasedRollingTest.class,"sizeBased-test1.1","witness/rolling/sbr-test2.0"));
  assertTrue(Compare.compare(SizeBasedRollingTest.class,"sizeBased-test1.2","witness/rolling/sbr-test2.1"));
}

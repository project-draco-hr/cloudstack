{
  logger.debug("Starting router " + router);
  try {
    itMgr.advanceStart(router.getUuid(),params,planToDeploy,null);
  }
 catch (  final OperationTimedoutException e) {
    throw new ResourceUnavailableException("Starting router " + router + " failed! "+ e.toString(),DataCenter.class,router.getDataCenterId());
  }
  if (router.isStopPending()) {
    logger.info("Clear the stop pending flag of router " + router.getHostName() + " after start router successfully!");
    router.setStopPending(false);
    router=routerDao.persist(router);
  }
  final Long vpcId=router.getVpcId();
  if (vpcId != null) {
    s2sVpnMgr.reconnectDisconnectedVpnByVpc(vpcId);
  }
  return routerDao.findById(router.getId());
}

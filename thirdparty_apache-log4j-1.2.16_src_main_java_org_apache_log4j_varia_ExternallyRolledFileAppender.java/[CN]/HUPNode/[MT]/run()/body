{
  try {
    String line=dis.readUTF();
    LogLog.debug("Got external roll over signal.");
    if (ExternallyRolledFileAppender.ROLL_OVER.equals(line)) {
synchronized (er) {
        er.rollOver();
      }
      dos.writeUTF(ExternallyRolledFileAppender.OK);
    }
 else {
      dos.writeUTF("Expecting [RollOver] string.");
    }
    dos.close();
  }
 catch (  InterruptedIOException e) {
    Thread.currentThread().interrupt();
    LogLog.error("Unexpected exception. Exiting HUPNode.",e);
  }
catch (  IOException e) {
    LogLog.error("Unexpected exception. Exiting HUPNode.",e);
  }
catch (  RuntimeException e) {
    LogLog.error("Unexpected exception. Exiting HUPNode.",e);
  }
}

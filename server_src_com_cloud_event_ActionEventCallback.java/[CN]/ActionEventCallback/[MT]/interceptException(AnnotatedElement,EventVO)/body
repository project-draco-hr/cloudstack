{
  Method method=(Method)element;
  ActionEvent actionEvent=method.getAnnotation(ActionEvent.class);
  if (actionEvent != null) {
    UserContext ctx=UserContext.current();
    long userId=ctx.getCallerUserId();
    long accountId=ctx.getAccountId();
    long startEventId=ctx.getStartEventId();
    if (actionEvent.create()) {
      long eventId=EventUtils.saveCreatedEvent(userId,accountId,EventVO.LEVEL_ERROR,actionEvent.eventType(),"Error while creating entity for " + actionEvent.eventDescription());
      ctx.setStartEventId(eventId);
    }
 else {
      EventUtils.saveEvent(userId,accountId,EventVO.LEVEL_ERROR,actionEvent.eventType(),"Error while " + actionEvent.eventDescription(),startEventId);
    }
  }
}

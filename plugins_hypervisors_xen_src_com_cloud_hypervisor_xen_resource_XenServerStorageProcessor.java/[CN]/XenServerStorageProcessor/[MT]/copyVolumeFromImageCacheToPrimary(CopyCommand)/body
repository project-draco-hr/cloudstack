{
  Connection conn=hypervisorResource.getConnection();
  DataTO srcData=cmd.getSrcTO();
  DataTO destData=cmd.getDestTO();
  int wait=cmd.getWait();
  VolumeObjectTO srcVolume=(VolumeObjectTO)srcData;
  VolumeObjectTO destVolume=(VolumeObjectTO)destData;
  PrimaryDataStoreTO primaryStore=(PrimaryDataStoreTO)destVolume.getDataStore();
  DataStoreTO srcStore=srcVolume.getDataStore();
  if (srcStore instanceof NfsTO) {
    NfsTO nfsStore=(NfsTO)srcStore;
    try {
      SR primaryStoragePool=hypervisorResource.getStorageRepository(conn,primaryStore.getUuid());
      String srUuid=primaryStoragePool.getUuid(conn);
      URI uri=new URI(nfsStore.getUrl());
      String volumePath=uri.getHost() + ":" + uri.getPath()+ File.separator+ srcVolume.getPath();
      String uuid=copy_vhd_from_secondarystorage(conn,volumePath,srUuid,wait);
      VolumeObjectTO newVol=new VolumeObjectTO();
      newVol.setPath(uuid);
      newVol.setSize(srcVolume.getSize());
      return new CopyCmdAnswer(newVol);
    }
 catch (    Exception e) {
      String msg="Catch Exception " + e.getClass().getName() + " due to "+ e.toString();
      s_logger.warn(msg,e);
      return new CopyCmdAnswer(e.toString());
    }
  }
  s_logger.debug("unsupported protocol");
  return new CopyCmdAnswer("unsupported protocol");
}

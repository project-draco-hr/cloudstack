{
  CreatePrivateTemplateResultObject resultObject=new CreatePrivateTemplateResultObject();
  resultObject.setId(template.getId());
  resultObject.setName(template.getName());
  resultObject.setDisplayText(template.getDisplayText());
  resultObject.setPublic(template.isPublicTemplate());
  resultObject.setCreated(templateHostRef.getCreated());
  resultObject.setReady(templateHostRef != null && templateHostRef.getDownloadState() == Status.DOWNLOADED);
  resultObject.setPasswordEnabled(template.getEnablePassword());
  ManagementServer managerServer=getAsyncJobMgr().getExecutorContext().getManagementServer();
  GuestOS os=managerServer.findGuestOSById(template.getGuestOSId());
  if (os != null) {
    resultObject.setOsTypeId(os.getId());
    resultObject.setOsTypeName(os.getDisplayName());
  }
 else {
    resultObject.setOsTypeId(-1L);
    resultObject.setOsTypeName("");
  }
  Account owner=managerServer.findAccountById(template.getAccountId());
  if (owner != null) {
    resultObject.setAccount(owner.getAccountName());
    resultObject.setDomainId(owner.getDomainId());
    resultObject.setDomainName(managerServer.findDomainIdById(owner.getDomainId()).getName());
  }
  DataCenterVO zone=managerServer.findDataCenterById(dataCenterId);
  if (zone != null) {
    resultObject.setZoneId(zone.getId());
    resultObject.setZoneName(zone.getName());
  }
  return resultObject;
}

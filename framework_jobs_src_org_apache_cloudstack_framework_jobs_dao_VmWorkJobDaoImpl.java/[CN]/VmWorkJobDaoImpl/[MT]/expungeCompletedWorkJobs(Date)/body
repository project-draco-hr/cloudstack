{
  Transaction.execute(new TransactionCallbackNoReturn(){
    @Override public void doInTransactionWithoutResult(    TransactionStatus status){
      TransactionLegacy txn=TransactionLegacy.currentTxn();
      PreparedStatement pstmt=null;
      try {
        pstmt=txn.prepareAutoCloseStatement("DELETE FROM vm_work_job WHERE id IN (SELECT id FROM async_job WHERE job_dispatcher='VmWorkJobDispatcher' AND job_status != 0 AND last_updated < ?)");
        pstmt.setString(1,DateUtil.getDateDisplayString(TimeZone.getTimeZone("GMT"),cutDate));
        pstmt.execute();
      }
 catch (      SQLException e) {
      }
catch (      Throwable e) {
      }
      try {
        pstmt=txn.prepareAutoCloseStatement("DELETE FROM async_job WHERE job_dispatcher='VmWorkJobDispatcher' AND job_status != 0 AND last_updated < ?");
        pstmt.setString(1,DateUtil.getDateDisplayString(TimeZone.getTimeZone("GMT"),cutDate));
        pstmt.execute();
      }
 catch (      SQLException e) {
      }
catch (      Throwable e) {
      }
    }
  }
);
}

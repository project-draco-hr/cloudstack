{
  List<DomainRouterVO> internalLbVms=_internalLbVmDao.listByNetworkAndRole(guestNetworkId,Role.INTERNAL_LB_VM);
  if (requestedGuestIp != null && !internalLbVms.isEmpty()) {
    Iterator<DomainRouterVO> it=internalLbVms.iterator();
    while (it.hasNext()) {
      DomainRouterVO vm=it.next();
      Nic nic=_nicDao.findByNtwkIdAndInstanceId(guestNetworkId,vm.getId());
      if (!nic.getIp4Address().equalsIgnoreCase(requestedGuestIp.addr())) {
        it.remove();
      }
    }
  }
  return internalLbVms;
}

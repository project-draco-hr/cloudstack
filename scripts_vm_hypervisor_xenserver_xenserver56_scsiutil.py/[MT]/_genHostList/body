def _genHostList(procname):
    ids = []
    try:
        for dir in util.listdir('/sys/class/scsi_host'):
            filename = os.path.join('/sys/class/scsi_host', dir, 'proc_name')
            if os.path.exists(filename):
                f = open(filename, 'r')
                if (f.readline().find(procname) != (-1)):
                    ids.append(dir.replace('host', ''))
                f.close()
    except:
        pass
    return ids

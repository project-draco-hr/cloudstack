def gen_uuid_from_serial(iqn, serial):
    if (len(serial) < SUFFIX_LEN):
        raise util.CommandException(1)
    prefix = gen_hash(iqn, PREFIX_LEN)
    suffix = gen_hash(serial, SUFFIX_LEN)
    str = (prefix.encode('hex') + suffix.encode('hex'))
    return ((((((((str[0:8] + '-') + str[8:12]) + '-') + str[12:16]) + '-') + str[16:20]) + '-') + str[20:32])

{
  final String privateIP="169.16.16.16";
  final String domRName="domR";
  final boolean forVpc=true;
  final String gatewayIP="10.1.1.1";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,forVpc,gatewayIP);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption())).thenReturn(new long[]{10l,10l});
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption());
}

{
  CommandResult result=callback.getResult();
  TemplateOnPrimaryDataStoreObject templateOnPrimaryStoreObj=context.getTemplate();
  if (result.isSuccess()) {
    templateOnPrimaryStoreObj.updateStatus(Status.DOWNLOADED);
    templateOnPrimaryStoreObj.stateTransit(TemplateOnPrimaryDataStoreStateMachine.Event.OperationSuccessed);
  }
 else {
    templateOnPrimaryStoreObj.updateStatus(Status.ABANDONED);
    templateOnPrimaryStoreObj.stateTransit(TemplateOnPrimaryDataStoreStateMachine.Event.OperationFailed);
  }
  AsyncCompletionCallback<VolumeInfo> parentCaller=context.getParentCallback();
  VolumeInfo volume=context.getVolume();
  PrimaryDataStore pd=context.getDataStore();
  createVolumeFromBaseImageAsync(volume,templateOnPrimaryStoreObj,pd,parentCaller);
  return null;
}

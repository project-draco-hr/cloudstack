{
  PrimaryDataStore pd=dataStoreMgr.getPrimaryDataStore(dataStoreId);
  TemplateInfo templateOnPrimaryStore=pd.getTemplate(template.getId());
  AsyncCallFuture<VolumeApiResult> future=new AsyncCallFuture<VolumeApiResult>();
  VolumeApiResult result=new VolumeApiResult(volume);
  if (templateOnPrimaryStore == null) {
    createBaseImageAsync(volume,pd,template,future);
    return future;
  }
  createVolumeFromBaseImageAsync(volume,templateOnPrimaryStore,pd,future);
  return future;
}

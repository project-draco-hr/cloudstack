{
  VolumeObject vo=(VolumeObject)volume;
  try {
    vo.stateTransit(Volume.Event.CreateRequested);
  }
 catch (  Exception e) {
    VolumeApiResult result=new VolumeApiResult(volume);
    result.setResult(e.toString());
    future.complete(result);
    return;
  }
  CreateVolumeFromBaseImageContext<VolumeApiResult> context=new CreateVolumeFromBaseImageContext<VolumeApiResult>(null,vo,future);
  AsyncCallbackDispatcher<VolumeServiceImpl,CopyCommandResult> caller=AsyncCallbackDispatcher.create(this);
  caller.setCallback(caller.getTarget().createVolumeFromBaseImageCallback(null,null)).setContext(context);
  pd.getDriver().copyAsync(volume,templateOnPrimaryStore,caller);
}

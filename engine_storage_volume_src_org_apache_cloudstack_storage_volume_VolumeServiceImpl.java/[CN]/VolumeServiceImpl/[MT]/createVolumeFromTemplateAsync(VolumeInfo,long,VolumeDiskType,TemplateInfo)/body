{
  PrimaryDataStore pd=dataStoreMgr.getPrimaryDataStore(dataStoreId);
  TemplateOnPrimaryDataStoreInfo templateOnPrimaryStore=pd.getTemplate(template);
  AsyncCallFuture<VolumeApiResult> future=new AsyncCallFuture<VolumeApiResult>();
  VolumeApiResult result=new VolumeApiResult(volume);
  if (templateOnPrimaryStore == null) {
    createBaseImageAsync(volume,pd,template,future);
    return future;
  }
  createVolumeFromBaseImageAsync(volume,templateOnPrimaryStore,pd,future);
  return future;
}

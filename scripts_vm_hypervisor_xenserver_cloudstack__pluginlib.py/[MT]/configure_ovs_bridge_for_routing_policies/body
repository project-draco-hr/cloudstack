def configure_ovs_bridge_for_routing_policies(bridge, json_config):
    vpconfig = jsonLoader(json.loads(json_config)).vpc
    if (vpconfig is None):
        logging.debug("WARNING:Can't find VPC info in json config file")
        return 'FAILURE:IMPROPER_JSON_CONFG_FILE'
    try:
        del_flows(bridge, table=3)
        del_flows(bridge, table=5)
        egress_rules_added = False
        ingress_rules_added = False
        tiers = vpconfig.tiers
        for tier in tiers:
            tier_cidr = tier.cidr
            acl = get_acl(vpconfig, tier.aclid)
            acl_items = acl.aclitems
            for acl_item in acl_items:
                number = acl_item.number
                action = acl_item.action
                direction = acl_item.direction
                source_port_start = acl_item.sourceportstart
                source_port_end = acl_item.sourceportend
                protocol = acl_item.protocol
                source_cidrs = acl_item.sourcecidrs
                acl_priority = (1000 + number)
                for source_cidr in source_cidrs:
                    if (direction == 'ingress'):
                        ingress_rules_added = True
                        if ((source_port_start is None) and (source_port_end is None)):
                            if source_cidr.startswith('0.0.0.0'):
                                if (action == 'deny'):
                                    add_flow(bridge, priority=acl_priority, table=5, nw_dst=tier_cidr, nw_proto=protocol, actions='drop')
                                if (action == 'allow'):
                                    add_flow(bridge, priority=acl_priority, table=5, nw_dst=tier_cidr, nw_proto=protocol, actions='resubmit(,1)')
                            else:
                                if (action == 'deny'):
                                    add_flow(bridge, priority=acl_priority, table=5, nw_src=source_cidr, nw_dst=tier_cidr, nw_proto=protocol, actions='drop')
                                if (action == 'allow'):
                                    add_flow(bridge, priority=acl_priority, table=5, nw_src=source_cidr, nw_dst=tier_cidr, nw_proto=protocol, actions='resubmit(,1)')
                            continue
                        port = source_port_start
                        while (port < source_port_end):
                            if source_cidr.startswith('0.0.0.0'):
                                if (action == 'deny'):
                                    add_flow(bridge, priority=acl_priority, table=5, nw_dst=tier_cidr, tp_dst=port, nw_proto=protocol, actions='drop')
                                if (action == 'allow'):
                                    add_flow(bridge, priority=acl_priority, table=5, nw_dst=tier_cidr, tp_dst=port, nw_proto=protocol, actions='resubmit(,1)')
                            else:
                                if (action == 'deny'):
                                    add_flow(bridge, priority=acl_priority, table=5, nw_src=source_cidr, nw_dst=tier_cidr, tp_dst=port, nw_proto=protocol, actions='drop')
                                if (action == 'allow'):
                                    add_flow(bridge, priority=acl_priority, table=5, nw_src=source_cidr, nw_dst=tier_cidr, tp_dst=port, nw_proto=protocol, actions='resubmit(,1)')
                            port = (port + 1)
                    elif (direction == 'egress'):
                        egress_rules_added = True
                        if ((source_port_start is None) and (source_port_end is None)):
                            if source_cidr.startswith('0.0.0.0'):
                                if (action == 'deny'):
                                    add_flow(bridge, priority=acl_priority, table=3, nw_dst=tier_cidr, nw_proto=protocol, actions='drop')
                                if (action == 'allow'):
                                    add_flow(bridge, priority=acl_priority, table=3, nw_dst=tier_cidr, nw_proto=protocol, actions='resubmit(,4)')
                            else:
                                if (action == 'deny'):
                                    add_flow(bridge, priority=acl_priority, table=3, nw_src=source_cidr, nw_dst=tier_cidr, nw_proto=protocol, actions='drop')
                                if (action == 'allow'):
                                    add_flow(bridge, priority=acl_priority, table=3, nw_src=source_cidr, nw_dst=tier_cidr, nw_proto=protocol, actions='resubmit(,4)')
                            continue
                        port = source_port_start
                        while (port < source_port_end):
                            if source_cidr.startswith('0.0.0.0'):
                                if (action == 'deny'):
                                    add_flow(bridge, priority=acl_priority, table=3, nw_dst=source_cidr, tp_dst=port, nw_proto=protocol, actions='drop')
                                if (action == 'allow'):
                                    add_flow(bridge, priority=acl_priority, table=3, nw_dst=source_cidr, tp_dst=port, nw_proto=protocol, actions='resubmit(,4)')
                            else:
                                if (action == 'deny'):
                                    add_flow(bridge, priority=acl_priority, table=3, nw_src=tier_cidr, nw_dst=source_cidr, tp_dst=port, nw_proto=protocol, actions='drop')
                                if (action == 'allow'):
                                    add_flow(bridge, priority=acl_priority, table=3, nw_src=tier_cidr, nw_dst=source_cidr, tp_dst=port, nw_proto=protocol, actions='resubmit(,4)')
                            port = (port + 1)
        if (egress_rules_added is False):
            add_flow(bridge, priority=0, table=3, actions='resubmit(,4)')
        if (ingress_rules_added is False):
            add_flow(bridge, priority=0, table=5, actions='drop')
        return 'SUCCESS: successfully configured bridge as per the latest routing policies of the VPC'
    except:
        logging.debug("An unexpected error occurred while configuring bridge as per VPC's routing policies.")
        raise

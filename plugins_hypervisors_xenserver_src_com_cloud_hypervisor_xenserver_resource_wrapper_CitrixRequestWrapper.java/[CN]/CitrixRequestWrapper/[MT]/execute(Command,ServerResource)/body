{
  CommandWrapper<Command,Answer,ServerResource> commandWrapper=map.get(command.getClass());
  if (commandWrapper == null && command instanceof StorageSubSystemCommand) {
    commandWrapper=map.get(StorageSubSystemCommand.class);
  }
  if (commandWrapper == null && command instanceof NetworkElementCommand) {
    commandWrapper=map.get(NetworkElementCommand.class);
  }
  if (commandWrapper == null) {
    throw new NullPointerException("No key found for '" + command.getClass() + "' in the Map!");
  }
  return commandWrapper.execute(command,serverResource);
}

{
  Hashtable<Class<? extends Command>,CommandWrapper> commands=resources.get(serverResource.getClass());
  if (commands == null) {
    commands=resources.get(serverResource.getClass().getSuperclass());
  }
  CommandWrapper<Command,Answer,ServerResource> commandWrapper=commands.get(command.getClass());
  if (commandWrapper == null && command instanceof NetworkElementCommand) {
    commandWrapper=commands.get(NetworkElementCommand.class);
  }
  if (commandWrapper == null) {
    throw new NullPointerException("No key found for '" + command.getClass() + "' in the Map!");
  }
  return commandWrapper.execute(command,serverResource);
}

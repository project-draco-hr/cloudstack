{
  ListResponse<ApiDiscoveryResponse> response=new ListResponse<ApiDiscoveryResponse>();
  List<ApiDiscoveryResponse> responseList=new ArrayList<ApiDiscoveryResponse>();
  if (user == null)   return null;
  if (name != null) {
    if (!_apiNameDiscoveryResponseMap.containsKey(name))     return null;
    for (    APIChecker apiChecker : _apiAccessCheckers) {
      try {
        apiChecker.checkAccess(user,name);
      }
 catch (      Exception ex) {
        return null;
      }
    }
    responseList.add(_apiNameDiscoveryResponseMap.get(name));
  }
 else {
    for (    String apiName : _apiNameDiscoveryResponseMap.keySet()) {
      boolean isAllowed=true;
      for (      APIChecker apiChecker : _apiAccessCheckers) {
        try {
          apiChecker.checkAccess(user,name);
        }
 catch (        Exception ex) {
          isAllowed=false;
        }
      }
      if (isAllowed)       responseList.add(_apiNameDiscoveryResponseMap.get(apiName));
    }
  }
  response.setResponses(responseList);
  return response;
}

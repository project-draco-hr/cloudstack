{
  String prodBrand=record.softwareVersion.get("product_brand").trim();
  String prodVersion=record.softwareVersion.get("product_version").trim();
  if (prodBrand.equals("XenServer")) {
    if (prodVersion.equals("5.6.0")) {
      return new XenServer56Resource();
    }
 else     if (prodVersion.equals("5.6.100")) {
      return new XenServer56FP1PremiumResource();
    }
  }
  String msg="Only support XenServer 5.6 and XenServer 5.6 FP1, but this one is " + prodBrand + " "+ prodVersion;
  _alertMgr.sendAlert(AlertManager.ALERT_TYPE_HOST,dcId,podId,msg,msg);
  s_logger.debug(msg);
  throw new RuntimeException(msg);
}

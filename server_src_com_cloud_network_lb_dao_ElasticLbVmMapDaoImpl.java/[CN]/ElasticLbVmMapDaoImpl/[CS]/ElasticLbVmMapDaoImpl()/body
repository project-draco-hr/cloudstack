{
  AllFieldsSearch=createSearchBuilder();
  AllFieldsSearch.and("ipId",AllFieldsSearch.entity().getIpAddressId(),SearchCriteria.Op.EQ);
  AllFieldsSearch.and("lbId",AllFieldsSearch.entity().getLbId(),SearchCriteria.Op.EQ);
  AllFieldsSearch.and("elbVmId",AllFieldsSearch.entity().getElbVmId(),SearchCriteria.Op.EQ);
  AllFieldsSearch.done();
  ElbVmSearch=_routerDao.createSearchBuilder();
  ElbVmSearch.and("role",ElbVmSearch.entity().getRole(),SearchCriteria.Op.EQ);
  UnusedVmSearch=createSearchBuilder();
  UnusedVmSearch.and("elbVmId",UnusedVmSearch.entity().getElbVmId(),SearchCriteria.Op.NULL);
  ElbVmSearch.join("UnusedVmSearch",UnusedVmSearch,ElbVmSearch.entity().getId(),UnusedVmSearch.entity().getElbVmId(),JoinType.LEFTOUTER);
  ElbVmSearch.done();
  UnusedVmSearch.done();
  LoadBalancerSearch=_loadbalancerDao.createSearchBuilder();
  LoadBalancersForElbVmSearch=createSearchBuilder();
  LoadBalancersForElbVmSearch.and("elbVmId",LoadBalancersForElbVmSearch.entity().getElbVmId(),SearchCriteria.Op.EQ);
  LoadBalancerSearch.join("LoadBalancersForElbVm",LoadBalancersForElbVmSearch,LoadBalancerSearch.entity().getSourceIpAddressId(),LoadBalancersForElbVmSearch.entity().getIpAddressId(),JoinType.INNER);
  LoadBalancersForElbVmSearch.done();
  LoadBalancerSearch.done();
}

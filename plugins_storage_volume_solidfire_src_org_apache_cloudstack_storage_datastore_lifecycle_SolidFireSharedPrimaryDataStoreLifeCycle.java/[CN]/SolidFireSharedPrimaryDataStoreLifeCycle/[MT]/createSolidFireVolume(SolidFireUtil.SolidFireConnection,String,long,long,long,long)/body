{
  try {
    Account csAccount=CallContext.current().getCallingAccount();
    long csAccountId=csAccount.getId();
    AccountVO accountVo=_accountDao.findById(csAccountId);
    String sfAccountName=SolidFireUtil.getSolidFireAccountName(accountVo.getUuid(),csAccountId);
    SolidFireUtil.SolidFireAccount sfAccount=SolidFireUtil.getAccount(sfConnection,sfAccountName);
    if (sfAccount == null) {
      long sfAccountNumber=SolidFireUtil.createAccount(sfConnection,sfAccountName);
      sfAccount=SolidFireUtil.getAccountById(sfConnection,sfAccountNumber);
    }
    long sfVolumeId=SolidFireUtil.createVolume(sfConnection,SolidFireUtil.getSolidFireVolumeName(volumeName),sfAccount.getId(),volumeSize,true,null,minIops,maxIops,burstIops);
    SolidFireUtil.SolidFireVolume sfVolume=SolidFireUtil.getVolume(sfConnection,sfVolumeId);
    return new SolidFireCreateVolume(sfVolume,sfAccount);
  }
 catch (  Throwable e) {
    throw new CloudRuntimeException("Failed to create a SolidFire volume: " + e.toString());
  }
}

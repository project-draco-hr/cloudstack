{
  boolean allStopped=true;
  for (  final DomainRouterVO router : routers) {
    if (!router.getIsRedundantRouter() || router.getState() != VirtualMachine.State.Stopped) {
      allStopped=false;
      break;
    }
  }
  if (!allStopped) {
    return;
  }
  for (  final DomainRouterVO router : routers) {
    router.setPriority(0);
    router.setIsPriorityBumpUp(false);
    routerDao.update(router.getId(),router);
  }
}

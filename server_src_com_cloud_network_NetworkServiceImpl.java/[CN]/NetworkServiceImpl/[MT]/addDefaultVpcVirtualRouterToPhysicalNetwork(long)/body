{
  PhysicalNetworkServiceProvider nsp=addProviderToPhysicalNetwork(physicalNetworkId,Network.Provider.VPCVirtualRouter.getName(),null,null);
  VpcVirtualRouterElement element=(VpcVirtualRouterElement)_networkModel.getElementImplementingProvider(Network.Provider.VPCVirtualRouter.getName());
  if (element == null) {
    throw new CloudRuntimeException("Unable to find the Network Element implementing the VPCVirtualRouter Provider");
  }
  element.addElement(nsp.getId(),VirtualRouterProviderType.VPCVirtualRouter);
  return nsp;
}

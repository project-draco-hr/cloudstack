{
  PhysicalNetworkServiceProvider nsp=addProviderToPhysicalNetwork(physicalNetworkId,Network.Provider.InternalLbVm.getName(),null,null);
  NetworkElement networkElement=_networkModel.getElementImplementingProvider(Network.Provider.InternalLbVm.getName());
  if (networkElement == null) {
    throw new CloudRuntimeException("Unable to find the Network Element implementing the " + Network.Provider.InternalLbVm.getName() + " Provider");
  }
  _internalLbElementSvc.addInternalLoadBalancerElement(nsp.getId());
  return nsp;
}

{
  Account caller=UserContext.current().getCaller();
  _accountMgr.checkAccess(caller,null,false,ipOwner);
  long callerUserId=UserContext.current().getCallerUserId();
  DataCenter zone=_configMgr.getZone(zoneId);
  return _networkMgr.allocateIp(ipOwner,isSystem,caller,callerUserId,zone);
}

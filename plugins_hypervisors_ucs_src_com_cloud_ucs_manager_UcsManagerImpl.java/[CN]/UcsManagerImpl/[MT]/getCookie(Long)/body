{
  try {
    String cookie=cookies.get(ucsMgrId);
    if (cookie == null) {
      UcsManagerVO mgrvo=ucsDao.findById(ucsMgrId);
      UcsHttpClient client=new UcsHttpClient(mgrvo.getUrl());
      String login=UcsCommands.loginCmd(mgrvo.getUsername(),mgrvo.getPassword());
      String ret=client.call(login);
      XmlObject xo=XmlObjectParser.parseFromString(ret);
      cookie=xo.get("outCookie");
      cookies.put(ucsMgrId,cookie);
    }
    return cookie;
  }
 catch (  Exception e) {
    throw new CloudRuntimeException("Cannot get cookie",e);
  }
}

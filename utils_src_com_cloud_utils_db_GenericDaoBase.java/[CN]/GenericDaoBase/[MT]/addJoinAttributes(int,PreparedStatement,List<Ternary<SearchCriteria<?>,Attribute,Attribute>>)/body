{
  for (  Ternary<SearchCriteria<?>,Attribute,Attribute> join : joins) {
    for (    final Pair<Attribute,Object> value : join.first().getValues()) {
      prepareAttribute(++count,pstmt,value.first(),value.second());
    }
  }
  for (  Ternary<SearchCriteria<?>,Attribute,Attribute> join : joins) {
    if (join.first().getJoins() != null) {
      count=addJoinAttributes(count,pstmt,joins);
    }
  }
  if (s_logger.isTraceEnabled()) {
    s_logger.trace("join search statement is " + pstmt.toString());
  }
  return count;
}

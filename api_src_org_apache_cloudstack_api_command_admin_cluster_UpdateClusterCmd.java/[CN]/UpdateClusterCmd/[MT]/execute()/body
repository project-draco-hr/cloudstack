{
  Cluster cluster=_resourceService.getCluster(getId());
  if (cluster == null) {
    throw new InvalidParameterValueException("Unable to find the cluster by id=" + getId());
  }
  if ((getMemoryOvercommitRaito().compareTo(1f) < 0) | (getCpuOvercommitRatio().compareTo(1f) < 0)) {
    throw new InvalidParameterValueException("Cpu and ram overcommit ratios  should be greater than one");
  }
  Cluster result=_resourceService.updateCluster(cluster,getClusterType(),getHypervisor(),getAllocationState(),getManagedstate(),getMemoryOvercommitRaito(),getCpuOvercommitRatio());
  if (result != null) {
    ClusterResponse clusterResponse=_responseGenerator.createClusterResponse(cluster,false);
    clusterResponse.setResponseName(getCommandName());
    this.setResponseObject(clusterResponse);
  }
 else {
    throw new ServerApiException(ApiErrorCode.INTERNAL_ERROR,"Failed to update cluster");
  }
}

{
  Cluster cluster=_resourceService.getCluster(getId());
  if (cluster == null) {
    throw new InvalidParameterValueException("Unable to find the cluster by id=" + getId());
  }
  if (getMemoryOvercommitRaito() != null) {
    if ((getMemoryOvercommitRaito().compareTo(1f) < 0)) {
      throw new InvalidParameterValueException("Memory overcommit ratio  should be greater than or equal to one");
    }
  }
  if (getCpuOvercommitRatio() != null) {
    if (getCpuOvercommitRatio().compareTo(1f) < 0) {
      throw new InvalidParameterValueException("Cpu overcommit ratio  should be greater than or equal to one");
    }
  }
  Cluster result=_resourceService.updateCluster(cluster,getClusterType(),getHypervisor(),getAllocationState(),getManagedstate(),getMemoryOvercommitRaito(),getCpuOvercommitRatio());
  if (result != null) {
    ClusterResponse clusterResponse=_responseGenerator.createClusterResponse(cluster,false);
    clusterResponse.setResponseName(getCommandName());
    this.setResponseObject(clusterResponse);
  }
 else {
    throw new ServerApiException(ApiErrorCode.INTERNAL_ERROR,"Failed to update cluster");
  }
}

{
  boolean result=super.configure(name,params);
  ZONE_TEMPLATE_SEARCH=createSearchBuilder();
  ZONE_TEMPLATE_SEARCH.and("template_id",ZONE_TEMPLATE_SEARCH.entity().getTemplateId(),SearchCriteria.Op.EQ);
  ZONE_TEMPLATE_SEARCH.and("state",ZONE_TEMPLATE_SEARCH.entity().getDownloadState(),SearchCriteria.Op.EQ);
  SearchBuilder<HostVO> hostSearch=_hostDao.createSearchBuilder();
  hostSearch.and("zone_id",hostSearch.entity().getDataCenterId(),SearchCriteria.Op.EQ);
  ZONE_TEMPLATE_SEARCH.join("tmplHost",hostSearch,hostSearch.entity().getId(),ZONE_TEMPLATE_SEARCH.entity().getHostId(),JoinBuilder.JoinType.INNER);
  ZONE_TEMPLATE_SEARCH.done();
  return result;
}

{
  IpAddress ip=_networkService.getIp(ipAddressId);
  if (ip == null) {
    throw new InvalidParameterValueException("Ip address id=" + ipAddressId + " doesn't exist in the system");
  }
 else   if (ip.isOneToOneNat() && ip.getAssociatedWithVmId() != null) {
    return _networkService.getIp(ipAddressId).getAssociatedWithVmId();
  }
 else {
    throw new InvalidParameterValueException("Ip address id=" + ipAddressId + " doesn't have 1-1 Nat feature enabled");
  }
}

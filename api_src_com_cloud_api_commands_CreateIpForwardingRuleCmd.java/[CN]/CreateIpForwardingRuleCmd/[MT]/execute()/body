{
  boolean result;
  try {
    UserContext.current().setEventDetails("Rule Id: " + getEntityId());
    result=_rulesService.applyStaticNatRules(ipAddressId,UserContext.current().getCaller());
  }
 catch (  Exception e) {
    s_logger.error("Unable to apply port forwarding rules",e);
    _rulesService.revokeStaticNatRule(getEntityId(),true);
    result=false;
  }
  if (result) {
    FirewallRule rule=_entityMgr.findById(FirewallRule.class,getEntityId());
    StaticNatRule staticNatRule=_rulesService.buildStaticNatRule(rule);
    IpForwardingRuleResponse fwResponse=_responseGenerator.createIpForwardingRuleResponse(staticNatRule);
    fwResponse.setResponseName(getCommandName());
    this.setResponseObject(fwResponse);
  }
 else {
    throw new ServerApiException(BaseCmd.INTERNAL_ERROR,"Error in creating ip forwarding rule on the domr");
  }
}

{
  super("AgentMonitor");
  _msId=msId;
  _pingTimeout=pingTimeout;
  _hostDao=hostDao;
  _agentMgr=agentMgr;
  _stop=false;
  _vmDao=vmDao;
  _dcDao=dcDao;
  _podDao=podDao;
  _alertMgr=alertMgr;
  try {
    Connection conn=Transaction.getStandaloneConnectionWithException();
    conn.setAutoCommit(true);
    conn.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);
    _concierge=new ConnectionConcierge("AgentMonitor",conn,true);
  }
 catch (  SQLException e) {
    throw new CloudRuntimeException("Cannot get connection",e);
  }
}

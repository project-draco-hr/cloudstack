{
  Long accountId=cmd.getAccountId();
  Long volumeId=cmd.getVolumeId();
  String secStorageUrl=cmd.getSecondaryStoragePoolURL();
  String backupUUID=cmd.getSnapshotUuid();
  String details=null;
  boolean success=false;
  VmwareContext context=hostService.getServiceContext(cmd);
  try {
    details=deleteSnapshotOnSecondaryStorge(accountId,volumeId,secStorageUrl,backupUUID);
    if (details == null) {
      success=true;
    }
  }
 catch (  Throwable e) {
    if (e instanceof RemoteException) {
      hostService.invalidateServiceContext(context);
    }
    s_logger.error("Unexpecpted exception ",e);
    details="DeleteSnapshotBackupCommand exception: " + StringUtils.getExceptionStackInfo(e);
    return new DeleteSnapshotBackupAnswer(cmd,false,details);
  }
  return new DeleteSnapshotBackupAnswer(cmd,success,details);
}

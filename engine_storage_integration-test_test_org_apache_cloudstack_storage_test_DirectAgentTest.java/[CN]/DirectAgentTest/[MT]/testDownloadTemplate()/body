{
  ImageOnPrimayDataStoreTO image=Mockito.mock(ImageOnPrimayDataStoreTO.class);
  PrimaryDataStoreTO primaryStore=Mockito.mock(PrimaryDataStoreTO.class);
  Mockito.when(primaryStore.getUuid()).thenReturn(this.getLocalStorageUuid());
  Mockito.when(image.getPrimaryDataStore()).thenReturn(primaryStore);
  ImageDataStoreTO imageStore=Mockito.mock(ImageDataStoreTO.class);
  Mockito.when(imageStore.getType()).thenReturn("http");
  TemplateTO template=Mockito.mock(TemplateTO.class);
  Mockito.when(template.getPath()).thenReturn(this.getTemplateUrl());
  Mockito.when(template.getImageDataStore()).thenReturn(imageStore);
  Mockito.when(image.getTemplate()).thenReturn(template);
  Command cmd=null;
  try {
    agentMgr.send(hostId,cmd);
  }
 catch (  AgentUnavailableException e) {
    e.printStackTrace();
  }
catch (  OperationTimedoutException e) {
    e.printStackTrace();
  }
}

{
  final Network net=mock(Network.class);
  when(net.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vsp);
  when(net.getId()).thenReturn(NETWORK_ID);
  when(net.getNetworkOfferingId()).thenReturn(NETWORK_ID);
  final NetworkOfferingVO ntwkoffer=mock(NetworkOfferingVO.class);
  when(ntwkoffer.getId()).thenReturn(NETWORK_ID);
  when(ntwkoffer.getIsPersistent()).thenReturn(true);
  when(ntwkOfferingDao.findById(NETWORK_ID)).thenReturn(ntwkoffer);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NuageVsp)).thenReturn(true);
  assertTrue(element.canHandle(net,Service.Connectivity));
  when(net.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vlan);
  assertFalse(element.canHandle(net,Service.Connectivity));
  when(net.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vsp);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NuageVsp)).thenReturn(false);
  assertFalse(element.canHandle(net,Service.Connectivity));
  when(networkModel.isProviderForNetwork(Provider.NuageVsp,NETWORK_ID)).thenReturn(false);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NuageVsp)).thenReturn(true);
  assertFalse(element.canHandle(net,Service.Connectivity));
  when(networkModel.isProviderForNetwork(Provider.NuageVsp,NETWORK_ID)).thenReturn(true);
  assertFalse(element.canHandle(net,Service.Dhcp));
}

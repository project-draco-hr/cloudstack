{
  PrimaryDataStoreDriver primaryStoreDriver=null;
  try {
    DataStoreProvider storeProvider=_dataStoreProviderMgr.getDataStoreProvider(storagePool.getStorageProviderName());
    DataStoreDriver storeDriver=storeProvider.getDataStoreDriver();
    if (storeDriver instanceof PrimaryDataStoreDriver) {
      primaryStoreDriver=(PrimaryDataStoreDriver)storeDriver;
    }
  }
 catch (  InvalidParameterValueException e) {
    throw new InvalidParameterValueException("Invalid Storage Driver Type");
  }
  return new ApiSolidFireVolumeSizeResponse(primaryStoreDriver.getVolumeSizeIncludingHypervisorSnapshotReserve(volume,storagePool));
}

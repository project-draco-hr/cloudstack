{
  ServiceOfferingVO offering=super.findById(serviceOfferingId);
  if (offering.isDynamic()) {
    if (vmId == null) {
      throw new CloudRuntimeException("missing argument vmId");
    }
    Map<String,String> dynamicOffering=userVmDetailsDao.listDetailsKeyPairs(vmId);
    offering.setCpu(Integer.parseInt(dynamicOffering.get(ServiceOfferingVO.DynamicParameters.cpuNumber.name())));
    offering.setSpeed(Integer.parseInt(dynamicOffering.get(ServiceOfferingVO.DynamicParameters.cpuSpeed.name())));
    offering.setRamSize(Integer.parseInt(dynamicOffering.get(ServiceOfferingVO.DynamicParameters.memory.name())));
    return offering;
  }
  return offering;
}

{
  StorageAdaptor adaptor=getStorageAdaptor(type);
  KVMStoragePool pool=adaptor.createStoragePool(name,host,port,path,userInfo,type);
  if (type == StoragePoolType.NetworkFilesystem) {
    KVMHABase.NfsStoragePool nfspool=new KVMHABase.NfsStoragePool(pool.getUuid(),host,path,pool.getLocalPath(),PoolType.PrimaryStorage);
    _haMonitor.addStoragePool(nfspool);
  }
  addStoragePool(pool.getUuid());
  return pool;
}

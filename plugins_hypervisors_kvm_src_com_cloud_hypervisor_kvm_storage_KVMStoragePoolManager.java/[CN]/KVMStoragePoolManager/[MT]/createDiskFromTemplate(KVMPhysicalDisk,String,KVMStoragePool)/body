{
  StorageAdaptor adaptor=getStorageAdaptor(destPool.getType());
  if (destPool.getType() == StoragePoolType.RBD) {
    return adaptor.createDiskFromTemplate(template,name,KVMPhysicalDisk.PhysicalDiskFormat.RAW,template.getSize(),destPool);
  }
 else   if (destPool.getType() == StoragePoolType.CLVM) {
    return adaptor.createDiskFromTemplate(template,name,KVMPhysicalDisk.PhysicalDiskFormat.RAW,template.getSize(),destPool);
  }
 else {
    return adaptor.createDiskFromTemplate(template,name,KVMPhysicalDisk.PhysicalDiskFormat.QCOW2,template.getSize(),destPool);
  }
}

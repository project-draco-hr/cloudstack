{
  List<HypervisorType> supportedHypervisors=new ArrayList<HypervisorType>();
  HypervisorType defaults=_resourceMgr.getDefaultHypervisor(dest.getDataCenter().getId());
  if (defaults != HypervisorType.None) {
    supportedHypervisors.add(defaults);
  }
  if (dest.getCluster() != null) {
    if (dest.getCluster().getHypervisorType() == HypervisorType.Ovm) {
      supportedHypervisors.add(getClusterToStartDomainRouterForOvm(dest.getCluster().getPodId()));
    }
 else {
      supportedHypervisors.add(dest.getCluster().getHypervisorType());
    }
  }
 else {
    supportedHypervisors=_resourceMgr.getSupportedHypervisorTypes(dest.getDataCenter().getId(),true,plan.getPodId());
  }
  if (supportedHypervisors.isEmpty()) {
    if (plan.getPodId() != null) {
      throw new InsufficientServerCapacityException("Unable to create virtual router, " + "there are no clusters in the pod ",Pod.class,plan.getPodId());
    }
    throw new InsufficientServerCapacityException("Unable to create virtual router, " + "there are no clusters in the zone ",DataCenter.class,dest.getDataCenter().getId());
  }
  return supportedHypervisors;
}

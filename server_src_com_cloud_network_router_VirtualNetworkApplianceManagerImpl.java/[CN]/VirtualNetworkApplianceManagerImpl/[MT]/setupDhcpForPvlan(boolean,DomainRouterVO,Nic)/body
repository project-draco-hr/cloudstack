{
  if (!nic.getBroadcastUri().getScheme().equals("pvlan")) {
    return false;
  }
  String op="add";
  if (!add) {
    op="delete";
  }
  Network network=_networkDao.findById(nic.getNetworkId());
  String networkTag=_networkModel.getNetworkTag(router.getHypervisorType(),network);
  PvlanSetupCommand cmd=PvlanSetupCommand.createDhcpSetup(op,nic.getBroadcastUri(),networkTag,router.getInstanceName(),nic.getMacAddress(),nic.getIp4Address());
  Commands cmds=new Commands(cmd);
  try {
    sendCommandsToRouter(router,cmds);
  }
 catch (  AgentUnavailableException e) {
    s_logger.warn("Agent Unavailable ",e);
    return false;
  }
  return true;
}

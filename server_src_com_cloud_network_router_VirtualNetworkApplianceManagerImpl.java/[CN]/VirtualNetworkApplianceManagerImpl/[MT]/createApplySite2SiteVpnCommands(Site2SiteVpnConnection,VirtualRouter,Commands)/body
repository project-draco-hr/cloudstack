{
  Site2SiteCustomerGatewayVO gw=_s2sCustomerGatewayDao.findById(conn.getCustomerGatewayId());
  String gatewayIp=gw.getGatewayIp();
  String guestIp=gw.getGuestIp();
  String guestCidr=gw.getGuestCidr();
  String ipsecPsk=gw.getIpsecPsk();
  Site2SiteVpnCfgCommand startS2SVpnCmd=new Site2SiteVpnCfgCommand(true,gatewayIp,guestIp,guestCidr,ipsecPsk);
  startS2SVpnCmd.setAccessDetail(NetworkElementCommand.ROUTER_IP,getRouterControlIp(router.getId()));
  startS2SVpnCmd.setAccessDetail(NetworkElementCommand.ROUTER_GUEST_IP,router.getGuestIpAddress());
  startS2SVpnCmd.setAccessDetail(NetworkElementCommand.ROUTER_NAME,router.getInstanceName());
  DataCenterVO dcVo=_dcDao.findById(router.getDataCenterIdToDeployIn());
  startS2SVpnCmd.setAccessDetail(NetworkElementCommand.ZONE_NETWORK_TYPE,dcVo.getNetworkType().toString());
  cmds.addCommand("startS2SVpn",startS2SVpnCmd);
}

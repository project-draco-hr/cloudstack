{
  if (!_networkMgr.isVmPartOfNetwork(router.getId(),network.getId())) {
    s_logger.debug("Router " + router + " is not a part of the network "+ network);
    return true;
  }
  boolean result=setupGuestNetwork(network,router,false,isRedundant,_networkMgr.getNicProfile(router,network.getId()));
  if (!result) {
    s_logger.warn("Failed to reset guest network config " + network + " on router "+ router);
    return false;
  }
  result=result && _itMgr.removeVmFromNetwork(router,network);
  if (result) {
    if (result) {
      s_logger.debug("Removing router " + router + " from network "+ network);
      _routerDao.removeRouterFromNetwork(router.getId(),network.getId());
    }
  }
  return result;
}

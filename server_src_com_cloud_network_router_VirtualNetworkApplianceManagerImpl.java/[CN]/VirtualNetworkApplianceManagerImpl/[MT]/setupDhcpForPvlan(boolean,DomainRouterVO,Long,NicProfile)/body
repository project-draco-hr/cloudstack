{
  if (!nic.getBroadCastUri().getScheme().equals("pvlan")) {
    return false;
  }
  String op="add";
  if (!add) {
    op="delete";
  }
  final Network network=_networkDao.findById(nic.getNetworkId());
  final String networkTag=_networkModel.getNetworkTag(router.getHypervisorType(),network);
  final PvlanSetupCommand cmd=PvlanSetupCommand.createDhcpSetup(op,nic.getBroadCastUri(),networkTag,router.getInstanceName(),nic.getMacAddress(),nic.getIp4Address());
  Answer answer=null;
  try {
    answer=_agentMgr.send(hostId,cmd);
  }
 catch (  final OperationTimedoutException e) {
    s_logger.warn("Timed Out",e);
    return false;
  }
catch (  final AgentUnavailableException e) {
    s_logger.warn("Agent Unavailable ",e);
    return false;
  }
  if (answer == null || !answer.getResult()) {
    return false;
  }
  return true;
}

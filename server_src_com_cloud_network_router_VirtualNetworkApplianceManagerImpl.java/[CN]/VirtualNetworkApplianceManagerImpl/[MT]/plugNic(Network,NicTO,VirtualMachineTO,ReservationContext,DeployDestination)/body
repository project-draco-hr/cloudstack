{
  boolean result=true;
  try {
    PlugNicCommand plugNicCmd=new PlugNicCommand(vm,nic);
    Commands cmds=new Commands(OnError.Stop);
    cmds.addCommand("plugnic",plugNicCmd);
    _agentMgr.send(dest.getHost().getId(),cmds);
    PlugNicAnswer plugNicAnswer=cmds.getAnswer(PlugNicAnswer.class);
    if (!(plugNicAnswer != null && plugNicAnswer.getResult())) {
      s_logger.warn("Unable to plug nic for vm " + vm.getHostName());
      result=false;
    }
  }
 catch (  OperationTimedoutException e) {
    throw new AgentUnavailableException("Unable to plug nic for router " + vm.getHostName() + " in network "+ network,dest.getHost().getId(),e);
  }
  return result;
}

{
  Account account=UserContext.current().getCaller();
  DomainRouterVO router=_routerDao.findById(routerId);
  if (router == null) {
    throw new InvalidParameterValueException("Unable to find domain router with id " + routerId + ".");
  }
  if ((account != null) && !_domainDao.isChildDomain(account.getDomainId(),router.getDomainId())) {
    throw new PermissionDeniedException("Unable to reboot domain router with id " + routerId + ". Permission denied");
  }
  if (router == null || router.getState() != State.Running) {
    s_logger.warn("Unable to reboot, virtual router is not in the right state " + router.getState());
    throw new ResourceUnavailableException("Unable to reboot domR, it is not in right state " + router.getState(),DataCenter.class,router.getDataCenterId());
  }
  s_logger.debug("Stopping and starting router " + router + " as a part of router reboot");
  if (stopRouter(routerId) != null) {
    return startRouter(routerId);
  }
 else {
    throw new CloudRuntimeException("Failed to reboot router " + router);
  }
}

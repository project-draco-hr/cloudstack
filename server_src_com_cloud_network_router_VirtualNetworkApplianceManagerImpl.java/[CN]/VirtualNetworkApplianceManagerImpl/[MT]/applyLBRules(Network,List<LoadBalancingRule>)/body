{
  DomainRouterVO router=_routerDao.findByNetworkConfiguration(network.getId());
  if (router == null) {
    s_logger.warn("Unable to apply lb rules, virtual router doesn't exist in the network " + network.getId());
    throw new ResourceUnavailableException("Unable to apply lb rules",DataCenter.class,network.getDataCenterId());
  }
  Commands cmds=new Commands(OnError.Continue);
  createApplyLoadBalancingRulesCommands(rules,router,cmds);
  return sendCommandsToRouter(router,cmds);
}

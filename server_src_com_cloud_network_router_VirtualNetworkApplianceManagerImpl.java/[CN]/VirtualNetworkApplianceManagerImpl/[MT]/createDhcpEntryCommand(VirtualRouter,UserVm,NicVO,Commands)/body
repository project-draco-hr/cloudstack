{
  DhcpEntryCommand dhcpCommand=new DhcpEntryCommand(nic.getMacAddress(),nic.getIp4Address(),vm.getHostName());
  DataCenterVO dcVo=_dcDao.findById(router.getDataCenterIdToDeployIn());
  dhcpCommand.setDefaultRouter(findGatewayIp(vm.getId()));
  dhcpCommand.setDefaultRouter(findDefaultDnsIp(vm.getId()));
  dhcpCommand.setAccessDetail(NetworkElementCommand.ROUTER_IP,getRouterControlIp(router.getId()));
  dhcpCommand.setAccessDetail(NetworkElementCommand.ROUTER_NAME,router.getInstanceName());
  dhcpCommand.setAccessDetail(NetworkElementCommand.ROUTER_GUEST_IP,router.getGuestIpAddress());
  dhcpCommand.setAccessDetail(NetworkElementCommand.ZONE_NETWORK_TYPE,dcVo.getNetworkType().toString());
  cmds.addCommand("dhcp",dhcpCommand);
}

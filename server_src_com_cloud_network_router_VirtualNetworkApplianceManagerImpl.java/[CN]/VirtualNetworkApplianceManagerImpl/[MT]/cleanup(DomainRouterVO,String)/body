{
  if (vmName != null) {
    return new StopCommand(vm,vmName,VirtualMachineName.getVnet(vmName));
  }
 else   if (vm != null) {
    final DomainRouterVO vo=vm;
    return new StopCommand(vo,vo.getVnet());
  }
 else {
    throw new CloudRuntimeException("Shouldn't even be here!");
  }
}

{
  final CheckVirtualMachineCommand cvm=new CheckVirtualMachineCommand(router.getInstanceName());
  final CheckVirtualMachineAnswer answer=(CheckVirtualMachineAnswer)_agentMgr.send(host.getId(),cvm);
  if (answer == null || !answer.getResult()) {
    s_logger.debug("Unable to complete migration for " + router.getId());
    _itMgr.stateTransitTo(router,VirtualMachine.Event.AgentReportStopped,null);
    return false;
  }
  final State state=answer.getState();
  if (state == State.Stopped) {
    s_logger.warn("Unable to complete migration as we can not detect it on " + host.getId());
    _itMgr.stateTransitTo(router,VirtualMachine.Event.AgentReportStopped,null);
    return false;
  }
  _itMgr.stateTransitTo(router,VirtualMachine.Event.OperationSucceeded,host.getId());
  return true;
}

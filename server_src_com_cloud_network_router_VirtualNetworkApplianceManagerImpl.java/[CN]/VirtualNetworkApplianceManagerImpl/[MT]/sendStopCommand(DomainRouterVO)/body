{
  final StopCommand stop=new StopCommand(router,router.getInstanceName(),router.getVnet());
  Answer answer=null;
  boolean stopped=false;
  try {
    answer=_agentMgr.send(router.getHostId(),stop);
    if (!answer.getResult()) {
      s_logger.error("Unable to stop router");
    }
 else {
      stopped=true;
    }
  }
 catch (  AgentUnavailableException e) {
    s_logger.warn("Unable to reach agent to stop vm: " + router.getId());
  }
catch (  OperationTimedoutException e) {
    s_logger.warn("Unable to reach agent to stop vm: " + router.getId());
    s_logger.error("Unable to stop router");
  }
  return stopped;
}

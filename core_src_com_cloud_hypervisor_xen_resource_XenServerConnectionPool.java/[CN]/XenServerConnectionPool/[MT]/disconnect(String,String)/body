{
synchronized (poolUuid.intern()) {
    Connection conn=_conns.remove(uuid);
    if (conn == null) {
      return;
    }
    if (s_logger.isDebugEnabled()) {
      s_logger.debug("Logging out of " + conn.getSessionReference() + " for host "+ uuid);
    }
    ConnectionInfo info=_infos.get(poolUuid);
    if (info == null) {
      return;
    }
    if (s_logger.isDebugEnabled()) {
      s_logger.debug("Connection for pool " + poolUuid + " found. session="+ info.conn.getSessionReference());
    }
    Member member=info.refs.remove(uuid);
    if (info.refs.size() == 0 || (member != null && member.ipAddr.equals(info.masterIp))) {
      cleanup(poolUuid);
    }
  }
}

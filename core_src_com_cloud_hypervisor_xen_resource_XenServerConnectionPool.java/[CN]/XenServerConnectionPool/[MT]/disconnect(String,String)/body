{
  Connection conn=_conns.remove(uuid);
  if (conn == null) {
    return;
  }
  if (s_logger.isDebugEnabled()) {
    s_logger.debug("Logging out of " + conn.getSessionReference() + " for host "+ uuid);
  }
  conn.dispose();
  ConnectionInfo info=_infos.get(poolUuid);
  if (info == null) {
    return;
  }
  if (s_logger.isDebugEnabled()) {
    s_logger.debug("Connection for pool " + poolUuid + " found. session="+ info.conn.getSessionReference());
  }
  info.refs.remove(uuid);
  if (info.refs.size() == 0) {
    if (s_logger.isDebugEnabled()) {
      s_logger.debug("Logging out of the session " + info.conn.getSessionReference());
    }
    _infos.remove(poolUuid);
    try {
      Session.logout(info.conn);
      info.conn.dispose();
    }
 catch (    Exception e) {
      s_logger.debug("Logout has a problem " + e.getMessage());
    }
    info.conn=null;
  }
}

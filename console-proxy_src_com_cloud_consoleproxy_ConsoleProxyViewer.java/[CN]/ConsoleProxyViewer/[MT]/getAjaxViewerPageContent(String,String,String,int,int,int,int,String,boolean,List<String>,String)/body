{
  StringBuffer sbLanguages=new StringBuffer("");
  if (languages != null) {
    for (    String lang : languages) {
      if (sbLanguages.length() > 0) {
        sbLanguages.append(",");
      }
      sbLanguages.append(lang);
    }
  }
  boolean linuxGuest=true;
  if (guest != null && guest.equalsIgnoreCase("windows"))   linuxGuest=false;
  String[] content=new String[]{"<html>","<head>","<script type=\"text/javascript\" language=\"javascript\" src=\"/resource/js/jquery.js\"></script>","<script type=\"text/javascript\" language=\"javascript\" src=\"/resource/js/cloud.logger.js\"></script>","<script type=\"text/javascript\" language=\"javascript\" src=\"/resource/js/ajaxviewer.js\"></script>","<script type=\"text/javascript\" language=\"javascript\" src=\"/resource/js/handler.js\"></script>","<link rel=\"stylesheet\" type=\"text/css\" href=\"/resource/css/ajaxviewer.css\"></link>","<link rel=\"stylesheet\" type=\"text/css\" href=\"/resource/css/logger.css\"></link>","<title>" + title + "</title>","</head>","<body>","<div id=\"toolbar\">","<ul>","<li>","<a href=\"#\" cmd=\"sendCtrlAltDel\">","<span><img align=\"left\" src=\"/resource/images/cad.gif\" alt=\"Ctrl-Alt-Del\" />Ctrl-Alt-Del</span>","</a>","</li>","<li>","<a href=\"#\" cmd=\"sendCtrlEsc\">","<span><img align=\"left\" src=\"/resource/images/winlog.png\" alt=\"Ctrl-Esc\" style=\"width:16px;height:16px\"/>Ctrl-Esc</span>","</a>","</li>","<li class=\"pulldown\">","<a href=\"#\">","<span><img align=\"left\" src=\"/resource/images/winlog.png\" alt=\"Keyboard\" style=\"width:16px;height:16px\"/>Keyboard</span>","</a>","<ul>","<li><a href=\"#\" cmd=\"keyboard_en\"><span>Standard (US) keyboard</span></a></li>","<li><a href=\"#\" cmd=\"keyboard_jp_en_os_to_en_vm\"><span>Japanese keyboard EN OS -> EN VM</span></a></li>","<li><a href=\"#\" cmd=\"keyboard_jp_jp_os_to_en_vm\"><span>Japanese keyboard JP OS -> EN VM</span></a></li>","<li><a href=\"#\" cmd=\"keyboard_jp_en_os_to_jp_vm\"><span>Japanese keyboard EN OS -> JP VM</span></a></li>","<li><a href=\"#\" cmd=\"keyboard_jp_jp_os_to_jp_vm\"><span>Japanese keyboard JP OS -> JP VM</span></a></li>","</ul>","</li>","</ul>","<span id=\"light\" class=\"dark\" cmd=\"toggle_logwin\"></span>","</div>","<div id=\"main_panel\" tabindex=\"1\"></div>","<script language=\"javascript\">","var acceptLanguages = '" + sbLanguages.toString() + "';","var tileMap = [ " + tileSequence + " ];","var ajaxViewer = new AjaxViewer('main_panel', '" + imgUrl + "', '"+ updateUrl+ "', tileMap, ",String.valueOf(width) + ", " + String.valueOf(height)+ ", "+ String.valueOf(tileWidth)+ ", "+ String.valueOf(tileHeight)+ ", "+ (rawKeyboard ? "true" : "false")+ ", "+ (linuxGuest ? "true" : "false")+ ");","$(function() {","ajaxViewer.start();","});","</script>","</body>","</html>"};
  StringBuffer sb=new StringBuffer();
  for (int i=0; i < content.length; i++)   sb.append(content[i]);
  return sb.toString();
}

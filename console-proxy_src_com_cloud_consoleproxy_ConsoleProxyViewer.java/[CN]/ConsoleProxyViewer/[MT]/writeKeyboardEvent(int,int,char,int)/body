{
  KeyEvent keyEvent;
  try {
    keyEvent=new KeyEvent(vc,keyEventType,System.currentTimeMillis(),modifiers,code,keyChar);
  }
 catch (  Exception e) {
    s_logger.warn("Unable to construct KeyEvent object, key code: " + code + ", keyChar: "+ keyChar+ " ",e);
    return;
  }
synchronized (this) {
    if (rfb != null && !rfb.closed()) {
      try {
        rfb.writeKeyEvent(keyEvent);
      }
 catch (      IOException e) {
        s_logger.warn("Exception while sending keyboard event. ",e);
      }
    }
  }
}

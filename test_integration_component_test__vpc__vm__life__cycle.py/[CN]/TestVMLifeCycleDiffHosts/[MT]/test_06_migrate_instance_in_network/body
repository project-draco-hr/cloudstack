@attr(tags=['advanced', 'multihost', 'intervlan'])
def test_06_migrate_instance_in_network(self):
    ' Test migrate an instance in VPC networks\n        '
    self.debug('Checking if the host is available for migration?')
    hosts = Host.listForMigration(self.apiclient, virtualmachineid=self.vm_1.id)
    self.debug(('Hosts vm can be migrated to are : %s' % hosts))
    self.assertEqual(isinstance(hosts, list), True, 'List hosts should return a valid list')
    hosts[:] = [host for host in hosts if (host.id != self.vm_1.hostid)]
    if (len(hosts) <= 0):
        self.skipTest('No host available for migration. Test requires atleast 2 hosts tagged with host1')
    host = hosts[0]
    self.debug('Validating if the network rules work properly or not?')
    self.validate_network_rules()
    self.debug(('Migrating VM-ID: %s to Host: %s' % (self.vm_1.id, host.id)))
    try:
        self.vm_1.migrate(self.apiclient, hostid=host.id)
    except Exception as e:
        self.fail(('Failed to migrate instance, %s' % e))
    self.debug('Validating if the network rules work properly or not?')
    self.validate_network_rules()
    return

{
  List<S3ObjectSummary> objects=new ArrayList<S3ObjectSummary>();
  ListObjectsRequest listObjectsRequest=new ListObjectsRequest().withBucketName(bucketName).withPrefix(directory + SEPARATOR);
  ObjectListing ol=client.listObjects(listObjectsRequest);
  while (ol != null && ol.isTruncated()) {
    objects.addAll(ol.getObjectSummaries());
    listObjectsRequest.setMarker(ol.getNextMarker());
    ol=client.listObjects(listObjectsRequest);
  }
  if (objects.isEmpty()) {
    return emptyList();
  }
  return unmodifiableList(objects);
}

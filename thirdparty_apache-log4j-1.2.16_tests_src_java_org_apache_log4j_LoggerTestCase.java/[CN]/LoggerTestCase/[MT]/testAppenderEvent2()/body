{
  CountingHierarchyEventListener listener=new CountingHierarchyEventListener();
  LogManager.getLoggerRepository().addHierarchyEventListener(listener);
  CountingAppender appender=new CountingAppender();
  appender.setName("A1");
  Logger root=Logger.getRootLogger();
  root.addAppender(appender);
  assertEquals(1,listener.getAddEventCount());
  assertEquals(0,listener.getRemoveEventCount());
  root.removeAppender(appender.getName());
  assertEquals(1,listener.getAddEventCount());
  assertEquals(1,listener.getRemoveEventCount());
}

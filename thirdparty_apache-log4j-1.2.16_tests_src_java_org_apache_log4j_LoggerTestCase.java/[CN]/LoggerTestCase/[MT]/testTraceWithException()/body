{
  VectorAppender appender=new VectorAppender();
  appender.activateOptions();
  Logger root=Logger.getRootLogger();
  root.addAppender(appender);
  root.setLevel(Level.INFO);
  Logger tracer=Logger.getLogger("com.example.Tracer");
  tracer.setLevel(Level.TRACE);
  NullPointerException ex=new NullPointerException();
  tracer.trace("Message 1",ex);
  root.trace("Discarded Message",ex);
  root.trace("Discarded Message",ex);
  Vector msgs=appender.getVector();
  assertEquals(1,msgs.size());
  LoggingEvent event=(LoggingEvent)msgs.elementAt(0);
  assertEquals(Level.TRACE,event.getLevel());
  assertEquals("Message 1",event.getMessage());
}

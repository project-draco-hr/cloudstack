{
  Pair<VM,VM.Record> vm=getControlDomain(conn);
  VM dom0=vm.first();
  Set<VIF> dom0Vifs=dom0.getVIFs(conn);
  for (  VIF v : dom0Vifs) {
    String vifName="unknown";
    try {
      VIF.Record vifr=v.getRecord(conn);
      if (v.getNetwork(conn).getUuid(conn).equals(nw.getUuid(conn))) {
        Map<String,String> config=vifr.otherConfig;
        vifName=config.get("nameLabel");
        s_logger.debug("A VIF in dom0 for the network is found - so destroy the vif");
        v.destroy(conn);
        s_logger.debug("Destroy temp dom0 vif" + vifName + " success");
      }
    }
 catch (    Exception e) {
      s_logger.warn("Destroy temp dom0 vif " + vifName + "failed",e);
    }
  }
}

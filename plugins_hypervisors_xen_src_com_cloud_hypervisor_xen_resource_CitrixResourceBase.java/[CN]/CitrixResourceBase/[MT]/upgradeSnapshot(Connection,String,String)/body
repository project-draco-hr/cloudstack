{
  String results=callHostPluginAsync(conn,"vmopspremium","upgrade_snapshot",2 * 60 * 60,"templatePath",templatePath,"snapshotPath",snapshotPath);
  if (results == null || results.isEmpty()) {
    String msg="upgrade_snapshot return null";
    s_logger.warn(msg);
    throw new CloudRuntimeException(msg);
  }
  String[] tmp=results.split("#");
  String status=tmp[0];
  if (status.equals("0")) {
    return results;
  }
 else {
    s_logger.warn(results);
    throw new CloudRuntimeException(results);
  }
}

{
  if (type == Host.Type.Storage) {
    return null;
  }
  s_logger.debug("Looking for hosts in dc: " + dc.getId() + "  pod:"+ pod.getId()+ "  cluster:"+ clusterId);
  List<HostVO> clusterHosts=_hostDao.listBy(type,clusterId,pod.getId(),dc.getId());
  Iterator<HostVO> it=clusterHosts.iterator();
  while (it.hasNext()) {
    HostVO host=it.next();
    if (avoid.contains(host)) {
      clusterHosts.remove(host);
    }
 else {
      if (s_logger.isDebugEnabled()) {
        s_logger.debug("Adding host " + host + " as possible pod host");
      }
    }
  }
  return allocateTo(offering,template,avoid,clusterHosts);
}

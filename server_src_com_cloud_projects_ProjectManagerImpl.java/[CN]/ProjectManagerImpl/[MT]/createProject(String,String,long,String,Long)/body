{
  Account caller=UserContext.current().getCaller();
  Account owner=caller;
  if ((accountName != null && domainId == null) || (domainId != null && accountName == null)) {
    throw new InvalidParameterValueException("Account name and domain id must be specified together");
  }
  if (accountName != null) {
    owner=_accountMgr.finalizeOwner(caller,accountName,domainId);
  }
  DataCenter zone=_configMgr.getZone(zoneId);
  if (zone == null) {
    throw new InvalidParameterValueException("Unable to find zone by id " + zoneId);
  }
  Project project=_projectDao.persist(new ProjectVO(name,displayText,zoneId,owner.getAccountId(),owner.getDomainId()));
  if (project != null) {
    UserContext.current().setEventDetails("Project id=" + project.getId());
  }
  return project;
}

{
  Account caller=UserContext.current().getCaller();
  ProjectVO project=getProject(projectId);
  if (project == null) {
    InvalidParameterValueException ex=new InvalidParameterValueException("Unable to find project with specified id");
    String tablename=AnnotationHelper.getTableName(project);
    if (tablename != null) {
      ex.addProxyObject(tablename,projectId,"projectId");
    }
 else {
      s_logger.info("\nCould not retrieve table name (annotation) from " + tablename + " VO proxy object\n");
    }
    throw ex;
  }
  _accountMgr.checkAccess(caller,AccessType.ModifyProject,true,_accountMgr.getAccount(project.getProjectAccountId()));
  if (suspendProject(project)) {
    s_logger.debug("Successfully suspended project id=" + projectId);
    return _projectDao.findById(projectId);
  }
 else {
    CloudRuntimeException ex=new CloudRuntimeException("Failed to suspend project with specified id");
    String tablename=AnnotationHelper.getTableName(project);
    if (tablename != null) {
      ex.addProxyObject(tablename,projectId,"projectId");
    }
 else {
      s_logger.info("\nCould not retrieve table name (annotation) from " + tablename + " VO proxy object\n");
    }
    throw ex;
  }
}

{
synchronized (_pool) {
    for (    Map.Entry<String,List<VmwareContext>> entry : _pool.entrySet()) {
      if (entry.getValue() != null) {
        int count=0;
        while (entry.getValue().size() > 0 && count < batchSize) {
          VmwareContext context=entry.getValue().remove(0);
          context.setPoolInfo(this,entry.getKey());
          l.add(context);
          count++;
        }
      }
    }
  }
}

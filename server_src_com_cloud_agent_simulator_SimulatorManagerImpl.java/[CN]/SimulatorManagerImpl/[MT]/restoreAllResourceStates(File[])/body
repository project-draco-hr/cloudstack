{
  Map<String,String> args=new HashMap<String,String>();
  String name;
  Gson gson=new GsonBuilder().create();
  for (  File agentStateFile : agentStateFiles) {
    Reader reader=new InputStreamReader(new FileInputStream(agentStateFile));
    name="SimulatedAgent";
    args.put(name,name);
    if (agentStateFile.getName().startsWith("AgentRouting")) {
      AgentRoutingResource res=gson.fromJson(reader,AgentRoutingResource.class);
      reader.close();
synchronized (_resources) {
        _resources.put(res,args);
      }
    }
 else {
      AgentStorageResource res=gson.fromJson(reader,AgentStorageResource.class);
      reader.close();
synchronized (_resources) {
        _resources.put(res,args);
      }
    }
  }
}

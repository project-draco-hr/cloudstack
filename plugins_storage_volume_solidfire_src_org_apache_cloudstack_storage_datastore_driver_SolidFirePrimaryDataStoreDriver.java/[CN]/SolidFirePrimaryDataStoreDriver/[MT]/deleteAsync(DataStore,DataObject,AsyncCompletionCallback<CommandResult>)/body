{
  String errMsg=null;
  if (dataObject.getType() == DataObjectType.VOLUME) {
    VolumeInfo volumeInfo=(VolumeInfo)dataObject;
    long storagePoolId=dataStore.getId();
    SolidFireUtil.SolidFireConnection sfConnection=SolidFireUtil.getSolidFireConnection(storagePoolId,_storagePoolDetailsDao);
    SolidFireUtil.SolidFireVolume sfVolume=deleteSolidFireVolume(sfConnection,volumeInfo);
    _volumeDao.deleteVolumesByInstance(volumeInfo.getId());
    StoragePoolVO storagePool=_storagePoolDao.findById(storagePoolId);
    long usedBytes=storagePool.getUsedBytes();
    usedBytes-=sfVolume != null ? sfVolume.getTotalSize() : 0;
    storagePool.setUsedBytes(usedBytes < 0 ? 0 : usedBytes);
    _storagePoolDao.update(storagePoolId,storagePool);
  }
 else {
    errMsg="Invalid DataObjectType (" + dataObject.getType() + ") passed to deleteAsync";
  }
  CommandResult result=new CommandResult();
  result.setResult(errMsg);
  callback.complete(result);
}

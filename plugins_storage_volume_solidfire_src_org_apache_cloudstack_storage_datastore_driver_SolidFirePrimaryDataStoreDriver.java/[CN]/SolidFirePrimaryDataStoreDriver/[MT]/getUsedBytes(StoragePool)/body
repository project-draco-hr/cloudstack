{
  long usedSpace=0;
  List<VolumeVO> lstVolumes=_volumeDao.findByPoolId(storagePool.getId(),null);
  if (lstVolumes != null) {
    for (    VolumeVO volume : lstVolumes) {
      VolumeDetailVO volumeDetail=_volumeDetailsDao.findDetail(volume.getId(),SolidFireUtil.VOLUME_SIZE);
      if (volumeDetail != null && volumeDetail.getValue() != null) {
        long volumeSize=Long.parseLong(volumeDetail.getValue());
        usedSpace+=volumeSize;
      }
    }
  }
  return usedSpace;
}

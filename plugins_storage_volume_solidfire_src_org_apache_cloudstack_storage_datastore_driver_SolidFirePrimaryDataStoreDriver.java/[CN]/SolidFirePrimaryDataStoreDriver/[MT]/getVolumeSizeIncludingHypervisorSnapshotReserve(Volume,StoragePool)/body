{
  long volumeSize=volume.getSize();
  Integer hypervisorSnapshotReserve=volume.getHypervisorSnapshotReserve();
  if (hypervisorSnapshotReserve != null) {
    if (hypervisorSnapshotReserve < 50) {
      hypervisorSnapshotReserve=50;
    }
    volumeSize+=volumeSize * (hypervisorSnapshotReserve / 100f);
  }
  return volumeSize;
}

{
  String keyName=request.getParameter("KeyName");
  if (keyName == null) {
    throw new EC2ServiceException(ClientError.MissingParamter,"Missing required parameter - KeyName");
  }
  String publicKeyMaterial=request.getParameter("PublicKeyMaterial");
  if (publicKeyMaterial == null) {
    throw new EC2ServiceException(ClientError.MissingParamter,"Missing required parameter - PublicKeyMaterial");
  }
  if (!publicKeyMaterial.contains(" "))   publicKeyMaterial=new String(Base64.decodeBase64(publicKeyMaterial.getBytes()));
  EC2ImportKeyPair ec2Request=new EC2ImportKeyPair();
  if (ec2Request != null) {
    ec2Request.setKeyName(request.getParameter("KeyName"));
    ec2Request.setPublicKeyMaterial(request.getParameter("PublicKeyMaterial"));
  }
  ImportKeyPairResponse EC2Response=EC2SoapServiceImpl.toImportKeyPair(ServiceProvider.getInstance().getEC2Engine().importKeyPair(ec2Request));
  serializeResponse(response,EC2Response);
}

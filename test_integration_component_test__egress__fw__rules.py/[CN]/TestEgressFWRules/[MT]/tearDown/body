def tearDown(self):
    try:
        if self.egressruleid:
            self.debug(('remove egress rule id=%s' % self.egressruleid))
            self.deleteEgressRule()
        self.debug('Cleaning up the resources')
        self.virtual_machine.delete(self.apiclient)
        wait_for_cleanup(self.apiclient, ['expunge.interval', 'expunge.delay'])
        self.debug('Sleep for VM cleanup to complete.')
        time.sleep(self.services['sleep'])
        self.network.delete(self.apiclient)
        wait_for_cleanup(self.apiclient, ['network.gc.wait', 'network.gc.interval'])
        self.debug('Sleep for Network cleanup to complete.')
        time.sleep(self.services['sleep'])
        cleanup_resources(self.apiclient, reversed(self.cleanup))
        self.debug('Cleanup complete!')
    except Exception as e:
        self.debug(('Warning! Exception in tearDown: %s' % e))

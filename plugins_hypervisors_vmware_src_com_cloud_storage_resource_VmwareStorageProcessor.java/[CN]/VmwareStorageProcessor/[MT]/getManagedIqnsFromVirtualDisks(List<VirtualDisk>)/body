{
  List<String> managedIqns=new ArrayList<String>();
  if (virtualDisks != null) {
    for (    VirtualDisk virtualDisk : virtualDisks) {
      if (virtualDisk.getBacking() instanceof VirtualDiskFlatVer2BackingInfo) {
        VirtualDiskFlatVer2BackingInfo backingInfo=(VirtualDiskFlatVer2BackingInfo)virtualDisk.getBacking();
        String path=backingInfo.getFileName();
        path=new DatastoreFile(path).getFileBaseName();
        String search="-";
        int index=path.indexOf(search);
        if (index > -1) {
          path=path.substring(index + search.length());
          index=path.lastIndexOf(search);
          if (index > -1) {
            path=path.substring(0,index);
            if (path.startsWith("iqn.")) {
              managedIqns.add(path);
            }
          }
        }
      }
    }
  }
  return managedIqns;
}

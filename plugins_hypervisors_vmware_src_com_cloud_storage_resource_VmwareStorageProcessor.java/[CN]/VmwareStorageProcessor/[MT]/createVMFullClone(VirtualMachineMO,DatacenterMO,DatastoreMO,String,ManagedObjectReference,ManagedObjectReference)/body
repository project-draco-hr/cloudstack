{
  if (dsMo.folderExists(String.format("[%s]",dsMo.getName()),vmdkName))   dsMo.deleteFile(String.format("[%s] %s/",dsMo.getName(),vmdkName),dcMo.getMor(),false);
  s_logger.info("creating full clone from template");
  if (!vmTemplate.createFullClone(vmdkName,dcMo.getVmFolder(),morPool,morDatastore)) {
    String msg="Unable to create full clone from the template";
    s_logger.error(msg);
    throw new Exception(msg);
  }
  s_logger.info("Move volume out of volume-wrapper VM ");
  dsMo.moveDatastoreFile(String.format("[%s] %s/%s.vmdk",dsMo.getName(),vmdkName,vmdkName),dcMo.getMor(),dsMo.getMor(),String.format("[%s] %s.vmdk",dsMo.getName(),vmdkName),dcMo.getMor(),true);
  dsMo.moveDatastoreFile(String.format("[%s] %s/%s-flat.vmdk",dsMo.getName(),vmdkName,vmdkName),dcMo.getMor(),dsMo.getMor(),String.format("[%s] %s-flat.vmdk",dsMo.getName(),vmdkName),dcMo.getMor(),true);
  return true;
}

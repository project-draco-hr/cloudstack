{
  EC2DescribeVolumesResponse volumes=new EC2DescribeVolumesResponse();
  EC2VolumeFilterSet vfs=request.getFilterSet();
  EC2TagKeyValue[] tagKeyValueSet=request.getResourceTagSet();
  try {
    String[] volumeIds=request.getVolumeSet();
    if (0 == volumeIds.length) {
      volumes=listVolumes(null,null,volumes,getResourceTags(tagKeyValueSet));
    }
 else {
      for (      String s : volumeIds)       volumes=listVolumes(s,null,volumes,getResourceTags(tagKeyValueSet));
    }
    if (vfs != null)     volumes=vfs.evaluate(volumes);
  }
 catch (  Exception e) {
    logger.error("EC2 DescribeVolumes - ",e);
    handleException(e);
  }
  return volumes;
}

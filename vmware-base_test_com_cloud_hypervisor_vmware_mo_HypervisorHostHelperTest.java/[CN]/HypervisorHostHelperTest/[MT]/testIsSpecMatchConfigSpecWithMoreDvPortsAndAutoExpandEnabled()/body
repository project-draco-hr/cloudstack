{
  int currentNumPorts=512;
  int currentvlanId=100;
  boolean currentAutoExpand=true;
  DVSTrafficShapingPolicy currentTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy currentIsEnabled=new BoolPolicy();
  currentIsEnabled.setValue(true);
  LongPolicy currentAvgBw=new LongPolicy();
  currentAvgBw.setValue(200L);
  LongPolicy currentBurstSize=new LongPolicy();
  currentBurstSize.setValue(400L);
  LongPolicy currentPeakBw=new LongPolicy();
  currentPeakBw.setValue(2000L);
  VMwareDVSPortSetting currentVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec currentVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  currentVlanIdSpec.setVlanId(currentvlanId);
  currentVmwareDvsPortSetting.setVlan(currentVlanIdSpec);
  currentTrafficShapingPolicy.setAverageBandwidth(currentAvgBw);
  currentTrafficShapingPolicy.setBurstSize(currentBurstSize);
  currentTrafficShapingPolicy.setPeakBandwidth(currentPeakBw);
  currentTrafficShapingPolicy.setEnabled(currentIsEnabled);
  currentVmwareDvsPortSetting.setInShapingPolicy(currentTrafficShapingPolicy);
  when(currentDvPortgroupInfo.getNumPorts()).thenReturn(currentNumPorts);
  when(currentDvPortgroupInfo.isAutoExpand()).thenReturn(currentAutoExpand);
  when(currentDvPortgroupInfo.getDefaultPortConfig()).thenReturn(currentVmwareDvsPortSetting);
  int newNumPorts=256;
  int newvlanId=100;
  boolean newAutoExpand=true;
  DVSTrafficShapingPolicy newTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy newIsEnabled=new BoolPolicy();
  newIsEnabled.setValue(true);
  LongPolicy newAvgBw=new LongPolicy();
  newAvgBw.setValue(200L);
  LongPolicy newBurstSize=new LongPolicy();
  newBurstSize.setValue(400L);
  LongPolicy newPeakBw=new LongPolicy();
  newPeakBw.setValue(2000L);
  VMwareDVSPortSetting newVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec newVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  newVlanIdSpec.setVlanId(newvlanId);
  newVmwareDvsPortSetting.setVlan(newVlanIdSpec);
  newTrafficShapingPolicy.setAverageBandwidth(newAvgBw);
  newTrafficShapingPolicy.setBurstSize(newBurstSize);
  newTrafficShapingPolicy.setPeakBandwidth(newPeakBw);
  newTrafficShapingPolicy.setEnabled(newIsEnabled);
  newVmwareDvsPortSetting.setInShapingPolicy(newTrafficShapingPolicy);
  when(dvPortgroupConfigSpec.getNumPorts()).thenReturn(newNumPorts);
  when(dvPortgroupConfigSpec.isAutoExpand()).thenReturn(newAutoExpand);
  when(dvPortgroupConfigSpec.getDefaultPortConfig()).thenReturn(newVmwareDvsPortSetting);
  boolean specCompareResult=HypervisorHostHelper.isSpecMatch(currentDvPortgroupInfo,dvPortgroupConfigSpec);
  assertTrue(specCompareResult);
}

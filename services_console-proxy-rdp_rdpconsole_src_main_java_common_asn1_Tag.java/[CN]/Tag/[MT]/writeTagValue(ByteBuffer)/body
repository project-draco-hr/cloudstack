{
  BerType valueType=new BerType(UNIVERSAL_CLASS,constructed,tagType);
  writeBerType(buf,valueType);
  long lengthOfPayload=calculateLengthOfValuePayload();
  buf.writeBerLength(lengthOfPayload);
  int storedCursor=buf.cursor;
  writeTagValuePayload(buf);
  int actualLength=buf.cursor - storedCursor;
  if (actualLength != lengthOfPayload)   throw new RuntimeException("[" + this + "] ERROR: Unexpected length of data in buffer. Expected "+ lengthOfPayload+ " of bytes of payload, but "+ actualLength+ " bytes are written instead. Data: "+ buf+ ".");
}

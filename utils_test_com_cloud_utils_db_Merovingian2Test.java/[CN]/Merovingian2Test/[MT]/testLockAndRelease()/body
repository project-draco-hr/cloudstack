{
  Merovingian2 m=Merovingian2.createLockMaster(1234);
  s_logger.info("Testing first acquire");
  boolean result=m.acquire("first" + 1234,5);
  Assert.assertTrue(result);
  s_logger.info("Testing acquire of different lock");
  result=m.acquire("second" + 1234,5);
  Assert.assertTrue(result);
  s_logger.info("Testing reacquire of the same lock");
  result=m.acquire("first" + 1234,5);
  Assert.assertTrue(result);
  int count=m.owns("first" + 1234);
  Assert.assertEquals(count,2);
  count=m.owns("second" + 1234);
  Assert.assertEquals(count,1);
  s_logger.info("Testing release of the first lock");
  result=m.release("first" + 1234);
  Assert.assertTrue(result);
  count=m.owns("first" + 1234);
  Assert.assertEquals(count,1);
  s_logger.info("Testing release of the second lock");
  result=m.release("second" + 1234);
  Assert.assertTrue(result);
  result=m.release("first" + 1234);
  Assert.assertTrue(result);
}

{
  _count=0;
  _file="";
  List<LoadBalancerTO> lbs=new ArrayList<>();
  List<LbDestination> dests=new ArrayList<>();
  dests.add(new LbDestination(80,8080,"10.1.10.2",false));
  dests.add(new LbDestination(80,8080,"10.1.10.2",true));
  lbs.add(new LoadBalancerTO(UUID.randomUUID().toString(),"64.10.1.10",80,"tcp","algo",false,false,false,dests));
  LoadBalancerTO[] arrayLbs=new LoadBalancerTO[lbs.size()];
  lbs.toArray(arrayLbs);
  NicTO nic=new NicTO();
  LoadBalancerConfigCommand cmd=new LoadBalancerConfigCommand(arrayLbs,"64.10.2.10","10.1.10.2","192.168.1.2",nic,null,"1000",false);
  cmd.setAccessDetail(NetworkElementCommand.ROUTER_IP,"10.1.10.2");
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
  nic.setIp("10.1.10.2");
  cmd=new LoadBalancerConfigCommand(arrayLbs,"64.10.2.10","10.1.10.2","192.168.1.2",nic,Long.valueOf(1),"1000",false);
  answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

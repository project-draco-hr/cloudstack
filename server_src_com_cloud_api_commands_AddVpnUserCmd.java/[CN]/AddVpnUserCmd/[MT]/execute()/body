{
  try {
    VpnUserVO vpnUser=_networkMgr.addVpnUser(this);
    if (vpnUser != null) {
      VpnUsersResponse vpnResponse=new VpnUsersResponse();
      vpnResponse.setId(vpnUser.getId());
      vpnResponse.setUserName(vpnUser.getUsername());
      vpnResponse.setAccountName(vpnUser.getAccountName());
      Account accountTemp=ApiDBUtils.findAccountById(vpnUser.getAccountId());
      if (accountTemp != null) {
        vpnResponse.setDomainId(accountTemp.getDomainId());
        vpnResponse.setDomainName(ApiDBUtils.findDomainById(accountTemp.getDomainId()).getName());
      }
      vpnResponse.setResponseName(getName());
      vpnResponse.setObjectName("vpnuser");
      this.setResponseObject(vpnResponse);
    }
 else {
      throw new ServerApiException(BaseCmd.INTERNAL_ERROR,"Failed to add vpn user");
    }
  }
 catch (  ConcurrentOperationException ex) {
    throw new ServerApiException(BaseCmd.INTERNAL_ERROR,ex.getMessage());
  }
}

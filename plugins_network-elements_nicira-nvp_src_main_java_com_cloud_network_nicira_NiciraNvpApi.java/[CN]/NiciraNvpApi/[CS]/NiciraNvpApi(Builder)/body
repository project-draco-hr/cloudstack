{
  final Map<Class<?>,JsonDeserializer<?>> classToDeserializerMap=new HashMap<>();
  classToDeserializerMap.put(NatRule.class,new NatRuleAdapter());
  classToDeserializerMap.put(RoutingConfig.class,new RoutingConfigAdapter());
  final NiciraRestClient niciraRestClient=NiciraRestClient.create().client(builder.httpClient).clientContext(builder.httpClientContext).hostname(builder.host).username(builder.username).password(builder.password).loginUrl(NiciraConstants.LOGIN_URL).executionLimit(DEFAULT_MAX_RETRIES).build();
  restConnector=RESTServiceConnector.create().classToDeserializerMap(classToDeserializerMap).client(niciraRestClient).build();
}

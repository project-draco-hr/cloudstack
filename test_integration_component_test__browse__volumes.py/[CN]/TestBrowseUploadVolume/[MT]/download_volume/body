def download_volume(self, volumeid):
    cmd = extractVolume.extractVolumeCmd()
    cmd.id = volumeid
    cmd.mode = 'HTTP_DOWNLOAD'
    cmd.zoneid = self.zone.id
    extract_vol = self.apiclient.extractVolume(cmd)
    try:
        formatted_url = urllib.unquote_plus(extract_vol.url)
        self.debug(('Attempting to download volume at url %s' % formatted_url))
        response = urllib.urlopen(formatted_url)
        self.debug(('response from volume url %s' % response.getcode()))
        (fd, path) = tempfile.mkstemp()
        self.debug(('Saving volume %s to path %s' % (volumeid, path)))
        os.close(fd)
        with open(path, 'wb') as fd:
            fd.write(response.read())
        self.debug('Saved volume successfully')
    except Exception:
        self.fail(('Extract Volume Failed with invalid URL %s (vol id: %s)' % (extract_vol.url, volumeid)))

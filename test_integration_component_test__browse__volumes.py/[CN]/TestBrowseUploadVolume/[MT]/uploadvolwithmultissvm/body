def uploadvolwithmultissvm(self):
    ssvmhosts = list_hosts(self.apiclient, type='SecondaryStorageVM')
    self.debug('Total SSVMs are:')
    self.debug(len(ssvmhosts))
    if (len(ssvmhosts) == 1):
        return 1
    config = Configurations.list(self.apiclient, name='secstorage.session.max')
    multissvmvalue = int(config[0].value)
    if (multissvmvalue != 1):
        return 0
    browseup_vol = self.browse_upload_volume()
    vm1details = self.deploy_vm()
    self.attach_volume(vm1details, browseup_vol.id)
    self.vmoperations(vm1details)
    self.destroy_vm(vm1details)
    self.detach_volume(vm1details, browseup_vol.id)
    self.deletevolume(browseup_vol.id)
    return 2

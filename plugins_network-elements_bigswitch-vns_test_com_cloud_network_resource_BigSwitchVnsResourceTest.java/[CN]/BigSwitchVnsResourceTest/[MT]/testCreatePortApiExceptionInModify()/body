{
  _resource.configure("BigSwitchVnsResource",_parameters);
  PortData portdata=mock(PortData.class);
  PortData.Port port=mock(PortData.Port.class);
  when(portdata.getPort()).thenReturn(port);
  when(port.getId()).thenReturn("eeee");
  doThrow(new BigSwitchVnsApiException()).when(_bigswitchVnsApi).modifyPortAttachment((String)any(),(String)any(),(String)any(),(AttachmentData)any());
  CreateVnsPortCommand cntkc=new CreateVnsPortCommand("networkid","portid","tenantid","portname","aa:bb:cc:dd:ee:ff");
  CreateVnsPortAnswer cntka=(CreateVnsPortAnswer)_resource.executeRequest(cntkc);
  assertFalse(cntka.getResult());
  verify(_bigswitchVnsApi,atLeastOnce()).deletePort((String)any(),(String)any(),(String)any());
}

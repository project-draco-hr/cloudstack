{
  Long id=cmd.getId();
  Long nspId=cmd.getNspId();
  Boolean enabled=cmd.getEnabled();
  GenericQueryBuilder<VirtualRouterProviderVO,VirtualRouterProviderVO> sc=GenericQueryBuilder.create(VirtualRouterProviderVO.class);
  if (id != null) {
    sc.addAnd(sc.getEntity().getId(),Op.EQ,id);
  }
  if (nspId != null) {
    sc.addAnd(sc.getEntity().getNspId(),Op.EQ,nspId);
  }
  if (enabled != null) {
    sc.addAnd(sc.getEntity().isEnabled(),Op.EQ,enabled);
  }
  sc.addAnd(sc.getEntity().getType(),Op.IN,VirtualRouterProvider.VirtualRouterProviderType.VPCVirtualRouter,VirtualRouterProvider.VirtualRouterProviderType.VirtualRouter);
  return sc.list();
}

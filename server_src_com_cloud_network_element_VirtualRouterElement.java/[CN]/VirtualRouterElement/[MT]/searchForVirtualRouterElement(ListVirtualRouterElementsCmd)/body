{
  Long id=cmd.getId();
  Long nspId=cmd.getNspId();
  Boolean enabled=cmd.getEnabled();
  QueryBuilder<VirtualRouterProviderVO> sc=QueryBuilder.create(VirtualRouterProviderVO.class);
  if (id != null) {
    sc.and(sc.entity().getId(),Op.EQ,id);
  }
  if (nspId != null) {
    sc.and(sc.entity().getNspId(),Op.EQ,nspId);
  }
  if (enabled != null) {
    sc.and(sc.entity().isEnabled(),Op.EQ,enabled);
  }
  sc.and(sc.entity().getType(),Op.IN,VirtualRouterProvider.Type.VPCVirtualRouter,VirtualRouterProvider.Type.VirtualRouter);
  return sc.list();
}

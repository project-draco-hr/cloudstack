{
  if (vlanId < 2 || vlanId > 4094) {
    throw new CloudRuntimeException("Vlan " + vlanId + " needs to be between 1-4095");
  }
  Network net=new Network(c);
  String brName=networkName + "." + vlanId.toString();
  try {
    String physInterface=net.getPhysicalByBridgeName(networkName);
    String physVlanInt=physInterface + "." + vlanId;
    if (net.getInterfaceByName(physVlanInt) == null)     net.startOvsVlanConfig(physInterface,vlanId);
    if (net.getInterfaceByName(brName) == null)     net.startOvsBrConfig(brName,physVlanInt);
  }
 catch (  Exception e) {
    throw new CloudRuntimeException("Unable to create vlan " + vlanId.toString() + " bridge for "+ networkName+ e.getMessage());
  }
  return brName;
}

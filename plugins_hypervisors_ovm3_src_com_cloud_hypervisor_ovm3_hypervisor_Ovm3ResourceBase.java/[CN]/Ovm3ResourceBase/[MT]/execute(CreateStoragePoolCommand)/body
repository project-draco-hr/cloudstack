{
  StorageFilerTO pool=cmd.getPool();
  s_logger.debug("creating pool " + pool);
  try {
    if (pool.getType() == StoragePoolType.NetworkFilesystem) {
      createRepo(pool);
    }
 else     if (pool.getType() == StoragePoolType.IscsiLUN) {
      return new Answer(cmd,false,"iSCSI is unsupported at the moment");
    }
 else     if (pool.getType() == StoragePoolType.OCFS2) {
      return new Answer(cmd,false,"OCFS2 is unsupported at the moment");
    }
 else     if (pool.getType() == StoragePoolType.PreSetup) {
      s_logger.warn("pre setup for pool " + pool);
    }
 else {
      return new Answer(cmd,false,"The pool type: " + pool.getType().name() + " is not supported.");
    }
  }
 catch (  Exception e) {
    String msg="Catch Exception " + e.getClass().getName() + ", create StoragePool failed due to "+ e.toString()+ " on host:"+ _host+ " pool: "+ pool.getHost()+ pool.getPath();
    s_logger.warn(msg,e);
    return new Answer(cmd,false,msg);
  }
  return new Answer(cmd,true,"success");
}

{
  try {
    Linux host=new Linux(c);
    Pool pool=new Pool(c);
    if (!host.getIsMaster() && _ovm3cluster) {
      if (pool.getPoolMasterVip().equalsIgnoreCase(_ip)) {
        return new ReadyAnswer(cmd);
      }
 else {
        s_logger.debug("Master IP changes to " + pool.getPoolMasterVip() + ", it should be "+ _ip);
        return new ReadyAnswer(cmd,"I am not the master server");
      }
    }
 else     if (host.getIsMaster()) {
      s_logger.debug("Master, not clustered " + _host);
      return new ReadyAnswer(cmd);
    }
 else {
      s_logger.debug("No master, not clustered " + _host);
      return new ReadyAnswer(cmd);
    }
  }
 catch (  XmlRpcException e) {
    s_logger.debug("XML RPC Exception" + e.getMessage(),e);
    throw new CloudRuntimeException("XML RPC Exception" + e.getMessage(),e);
  }
catch (  Exception e) {
    s_logger.debug("Exception" + e.getMessage(),e);
    throw new CloudRuntimeException("Exception" + e.getMessage(),e);
  }
}

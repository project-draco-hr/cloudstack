{
  if (_ovm3vip.equals("")) {
    s_logger.debug("No cluster vip, not checking for master");
    return false;
  }
  try {
    m=new Connection(_ovm3vip,_agentPort,_agentUserName,_agentPassword);
    Linux master=new Linux(m);
    if (master.getHostName().equals(_host)) {
      s_logger.debug("Host " + _host + " is master");
      this._isMaster=true;
    }
 else {
      s_logger.debug("Host " + _host + " has master "+ master.getHostName());
      _hasMaster=true;
    }
  }
 catch (  Exception e) {
    this._isMaster=true;
    s_logger.debug("Unable to connect to master, we are master");
  }
 finally {
    if (!this._isMaster) {
      if (this._hasMaster) {
        s_logger.debug("Host " + _host + " will become a slave "+ _ovm3vip);
        return this._isMaster;
      }
 else {
        this._isMaster=true;
        s_logger.debug("Host " + _host + " will become a master "+ _ovm3vip);
        return this._isMaster;
      }
    }
  }
  return this._isMaster;
}

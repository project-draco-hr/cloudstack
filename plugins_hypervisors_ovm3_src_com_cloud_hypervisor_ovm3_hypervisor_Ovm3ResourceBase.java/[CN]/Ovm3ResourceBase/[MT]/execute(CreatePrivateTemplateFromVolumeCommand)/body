{
  String secondaryStorageUrl=cmd.getSecondaryStorageUrl();
  String volumePath=cmd.getVolumePath();
  Long accountId=cmd.getAccountId();
  Long templateId=cmd.getTemplateId();
  int wait=cmd.getWait();
  if (wait == 0) {
    wait=7200;
  }
  try {
    URI uri;
    uri=new URI(secondaryStorageUrl);
    String secondaryStorageMountPath=uri.getHost() + ":" + uri.getPath();
    String installPath=_ovmRepo + "/Templates/" + accountId+ "/"+ templateId;
    String templateLoc=installPath;
    Linux host=new Linux(c);
    host.copyFile(volumePath,installPath);
    return new CreatePrivateTemplateAnswer(cmd,true,installPath);
  }
 catch (  Exception e) {
    s_logger.debug("Create template failed",e);
    return new CreatePrivateTemplateAnswer(cmd,false,e.getMessage());
  }
}

{
  OvsTunnelAccountVO ta=null;
  int key;
  try {
    key=_tunnelDao.askKey(from,to);
    ta=new OvsTunnelAccountVO(from,to,key,account);
    _tunnelAccountDao.persist(ta);
  }
 catch (  EntityExistsException e) {
    ta=_tunnelAccountDao.getByFromToAccount(from,to,account);
    if (ta == null) {
      key=-1;
    }
 else {
      key=ta.getKey();
    }
  }
  return key;
}

{
  Mockito.when(userDao.getUser(Mockito.anyLong())).thenReturn(null);
  assertFalse(saml2AuthManager.authorizeUser(1L,"someID",true));
  UserVO user=new UserVO(200L);
  user.setUsername("someuser");
  Mockito.when(userDao.getUser(Mockito.anyLong())).thenReturn(user);
  assertTrue(saml2AuthManager.authorizeUser(1L,"someID",true));
  Mockito.verify(userDao,Mockito.atLeastOnce()).update(Mockito.anyLong(),Mockito.any(user.getClass()));
}

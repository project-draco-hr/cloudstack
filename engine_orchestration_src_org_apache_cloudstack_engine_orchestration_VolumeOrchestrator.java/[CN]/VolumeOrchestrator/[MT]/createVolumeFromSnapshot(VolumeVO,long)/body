{
  VolumeInfo createdVolume=null;
  Snapshot snapshot=_entityMgr.findById(Snapshot.class,snapshotId);
  createdVolume=createVolumeFromSnapshot(volume,snapshot);
  UsageEventUtils.publishUsageEvent(EventTypes.EVENT_VOLUME_CREATE,createdVolume.getAccountId(),createdVolume.getDataCenterId(),createdVolume.getId(),createdVolume.getName(),createdVolume.getDiskOfferingId(),null,createdVolume.getSize(),Volume.class.getName(),createdVolume.getUuid());
  return _volsDao.findById(createdVolume.getId());
}

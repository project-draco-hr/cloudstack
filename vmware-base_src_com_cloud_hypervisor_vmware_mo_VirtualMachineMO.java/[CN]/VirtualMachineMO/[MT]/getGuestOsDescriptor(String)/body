{
  GuestOsDescriptor guestOsDescriptor=null;
  if (guestOsId == null) {
    guestOsId=getGuestId();
  }
  ManagedObjectReference vmEnvironmentBrowser=_context.getVimClient().getMoRefProp(_mor,"environmentBrowser");
  VirtualMachineConfigOption vmConfigOption=_context.getService().queryConfigOption(vmEnvironmentBrowser,null,null);
  List<GuestOsDescriptor> guestDescriptors=vmConfigOption.getGuestOSDescriptor();
  for (  GuestOsDescriptor descriptor : guestDescriptors) {
    if (guestOsId != null && guestOsId.equalsIgnoreCase(descriptor.getId())) {
      guestOsDescriptor=descriptor;
      break;
    }
  }
  return guestOsDescriptor;
}

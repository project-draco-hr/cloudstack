{
  VirtualMachinePowerState powerState=VirtualMachinePowerState.POWERED_OFF;
  for (int i=0; i < 3; i++) {
    powerState=(VirtualMachinePowerState)getContext().getVimClient().getDynamicProperty(_mor,"runtime.powerState");
    if (powerState == VirtualMachinePowerState.POWERED_OFF) {
      try {
        Thread.sleep(1000);
      }
 catch (      InterruptedException e) {
        s_logger.debug("[ignored] interupted while pausing after power off.");
      }
    }
 else {
      break;
    }
  }
  return powerState;
}

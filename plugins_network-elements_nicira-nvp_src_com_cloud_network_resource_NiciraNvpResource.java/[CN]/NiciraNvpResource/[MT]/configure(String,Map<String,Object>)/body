{
  _name=(String)params.get("name");
  if (_name == null) {
    throw new ConfigurationException("Unable to find name");
  }
  _guid=(String)params.get("guid");
  if (_guid == null) {
    throw new ConfigurationException("Unable to find the guid");
  }
  _zoneId=(String)params.get("zoneId");
  if (_zoneId == null) {
    throw new ConfigurationException("Unable to find zone");
  }
  _numRetries=2;
  String ip=(String)params.get("ip");
  if (ip == null) {
    throw new ConfigurationException("Unable to find IP");
  }
  String adminuser=(String)params.get("adminuser");
  if (adminuser == null) {
    throw new ConfigurationException("Unable to find admin username");
  }
  String adminpass=(String)params.get("adminpass");
  if (adminpass == null) {
    throw new ConfigurationException("Unable to find admin password");
  }
  _niciraNvpApi=createNiciraNvpApi();
  _niciraNvpApi.setControllerAddress(ip);
  _niciraNvpApi.setAdminCredentials(adminuser,adminpass);
  return true;
}

{
  name=(String)params.get("name");
  if (name == null) {
    throw new ConfigurationException("Unable to find name");
  }
  guid=(String)params.get("guid");
  if (guid == null) {
    throw new ConfigurationException("Unable to find the guid");
  }
  zoneId=(String)params.get("zoneId");
  if (zoneId == null) {
    throw new ConfigurationException("Unable to find zone");
  }
  numRetries=2;
  final String ip=(String)params.get("ip");
  if (ip == null) {
    throw new ConfigurationException("Unable to find IP");
  }
  final String adminuser=(String)params.get("adminuser");
  if (adminuser == null) {
    throw new ConfigurationException("Unable to find admin username");
  }
  final String adminpass=(String)params.get("adminpass");
  if (adminpass == null) {
    throw new ConfigurationException("Unable to find admin password");
  }
  niciraNvpUtilities=NiciraNvpUtilities.getInstance();
  niciraNvpApi=createNiciraNvpApi();
  niciraNvpApi.setControllerAddress(ip);
  niciraNvpApi.setAdminCredentials(adminuser,adminpass);
  return true;
}

{
  LogicalSwitch logicalSwitch=new LogicalSwitch();
  logicalSwitch.setDisplay_name(truncate("lswitch-" + cmd.getName(),40));
  logicalSwitch.setPort_isolation_enabled(false);
  List<TransportZoneBinding> ltzb=new ArrayList<TransportZoneBinding>();
  ltzb.add(new TransportZoneBinding(cmd.getTransportUuid(),cmd.getTransportType()));
  logicalSwitch.setTransport_zones(ltzb);
  List<NiciraNvpTag> tags=new ArrayList<NiciraNvpTag>();
  tags.add(new NiciraNvpTag("cs_account",cmd.getOwnerName()));
  logicalSwitch.setTags(tags);
  try {
    logicalSwitch=_niciraNvpApi.createLogicalSwitch(logicalSwitch);
    return new CreateLogicalSwitchAnswer(cmd,true,"Logicalswitch " + logicalSwitch.getUuid() + " created",logicalSwitch.getUuid());
  }
 catch (  NiciraNvpApiException e) {
    if (numRetries > 0) {
      return retry(cmd,--numRetries);
    }
 else {
      return new CreateLogicalSwitchAnswer(cmd,e);
    }
  }
}

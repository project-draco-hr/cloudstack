{
  final String logicalSwitchUuid=cmd.getLogicalSwitchUuid();
  final String logicalSwitchPortUuid=cmd.getLogicalSwitchPortUuid();
  final String attachmentUuid=cmd.getAttachmentUuid();
  try {
    final List<NiciraNvpTag> tags=new ArrayList<NiciraNvpTag>();
    tags.add(new NiciraNvpTag("cs_account",cmd.getOwnerName()));
    niciraNvpApi.updateLogicalSwitchPortAttachment(logicalSwitchUuid,logicalSwitchPortUuid,new VifAttachment(attachmentUuid));
    return new UpdateLogicalSwitchPortAnswer(cmd,true,"Attachment for  " + logicalSwitchPortUuid + " updated",logicalSwitchPortUuid);
  }
 catch (  final NiciraNvpApiException e) {
    if (numRetries > 0) {
      return retry(cmd,--numRetries);
    }
 else {
      return new UpdateLogicalSwitchPortAnswer(cmd,e);
    }
  }
}

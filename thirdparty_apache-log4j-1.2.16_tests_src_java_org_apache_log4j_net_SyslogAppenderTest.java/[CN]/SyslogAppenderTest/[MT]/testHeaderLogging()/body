{
  Date preDate=new Date();
  String s=log(true,"greetings",null,1)[0];
  Date postDate=new Date();
  assertEquals("<14>",s.substring(0,4));
  String syslogDateStr=s.substring(4,20);
  SimpleDateFormat fmt=new SimpleDateFormat("MMM dd HH:mm:ss ",Locale.ENGLISH);
  Date syslogDate=fmt.parse(syslogDateStr);
  Calendar cal=Calendar.getInstance(Locale.ENGLISH);
  cal.setTime(syslogDate);
  int syslogMonth=cal.get(Calendar.MONTH);
  int syslogDay=cal.get(Calendar.DATE);
  if (syslogDay < 10) {
    assertEquals(' ',syslogDateStr.charAt(4));
  }
  cal.setTime(preDate);
  int preMonth=cal.get(Calendar.MONTH);
  cal.set(Calendar.MILLISECOND,0);
  preDate=cal.getTime();
  int syslogYear;
  if (preMonth == syslogMonth) {
    syslogYear=cal.get(Calendar.YEAR);
  }
 else {
    cal.setTime(postDate);
    syslogYear=cal.get(Calendar.YEAR);
  }
  cal.setTime(syslogDate);
  cal.set(Calendar.YEAR,syslogYear);
  syslogDate=cal.getTime();
  assertTrue(syslogDate.compareTo(preDate) >= 0);
  assertTrue(syslogDate.compareTo(postDate) <= 0);
}

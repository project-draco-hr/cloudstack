def checkApiAvailability(self, apiConfig, userApiClient):
    '\n            Checks available APIs based on api map\n        '
    response = userApiClient.listApis(listApis.listApisCmd())
    allowedApis = map((lambda x: x.name), response)
    for api in allowedApis:
        for (rule, perm) in apiConfig.items():
            if re.match(rule.replace('*', '.*'), api):
                if (perm.lower() == 'allow'):
                    break
                else:
                    self.fail(('Denied API found to be allowed: ' + api))

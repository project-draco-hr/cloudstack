{
  try {
    List<CiscoNexusVSMDeviceVO> vsmDevices=_ciscoNexusVSMService.listCiscoNexusVSMs(this);
    ListResponse<CiscoNexusVSMResponse> response=new ListResponse<CiscoNexusVSMResponse>();
    List<CiscoNexusVSMResponse> vsmDevicesResponse=new ArrayList<CiscoNexusVSMResponse>();
    if (vsmDevices != null && !vsmDevices.isEmpty()) {
      for (      CiscoNexusVSMDeviceVO vsmDeviceVO : vsmDevices) {
        CiscoNexusVSMResponse vsmdeviceResponse=_ciscoNexusVSMService.createCiscoNexusVSMResponse(vsmDeviceVO);
        vsmDevicesResponse.add(vsmdeviceResponse);
      }
    }
    response.setResponses(vsmDevicesResponse);
    response.setResponseName(getCommandName());
    this.setResponseObject(response);
  }
 catch (  InvalidParameterValueException invalidParamExcp) {
    throw new ServerApiException(BaseCmd.PARAM_ERROR,invalidParamExcp.getMessage());
  }
catch (  CloudRuntimeException runtimeExcp) {
    throw new ServerApiException(BaseCmd.INTERNAL_ERROR,runtimeExcp.getMessage());
  }
}

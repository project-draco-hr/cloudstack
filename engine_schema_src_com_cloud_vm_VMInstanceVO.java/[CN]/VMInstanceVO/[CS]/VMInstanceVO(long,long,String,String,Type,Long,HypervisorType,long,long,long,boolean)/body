{
  this.id=id;
  hostName=name != null ? name : uuid;
  if (vmTemplateId != null) {
    templateId=vmTemplateId;
  }
  this.instanceName=instanceName;
  this.type=type;
  this.guestOSId=guestOSId;
  this.haEnabled=haEnabled;
  state=State.Stopped;
  this.accountId=accountId;
  this.domainId=domainId;
  this.serviceOfferingId=serviceOfferingId;
  this.hypervisorType=hypervisorType;
  limitCpuUse=false;
  try {
    SecureRandom random=SecureRandom.getInstance("SHA1PRNG");
    byte[] randomBytes=new byte[16];
    random.nextBytes(randomBytes);
    vncPassword=Base64.encodeBase64String(randomBytes);
  }
 catch (  NoSuchAlgorithmException e) {
    s_logger.error("Unexpected exception in SecureRandom Algorithm selection ",e);
  }
}

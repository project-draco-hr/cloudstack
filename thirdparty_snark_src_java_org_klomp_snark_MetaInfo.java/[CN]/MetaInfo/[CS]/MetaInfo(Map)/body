{
  BEValue val=(BEValue)m.get("announce");
  if (val == null) {
    throw new InvalidBEncodingException("Missing announce string");
  }
  this.announce=val.getString();
  val=(BEValue)m.get("info");
  if (val == null) {
    throw new InvalidBEncodingException("Missing info map");
  }
  Map info=val.getMap();
  val=(BEValue)info.get("name");
  if (val == null) {
    throw new InvalidBEncodingException("Missing name string");
  }
  name=val.getString();
  val=(BEValue)info.get("piece length");
  if (val == null) {
    throw new InvalidBEncodingException("Missing piece length number");
  }
  piece_length=val.getInt();
  val=(BEValue)info.get("pieces");
  if (val == null) {
    throw new InvalidBEncodingException("Missing piece bytes");
  }
  piece_hashes=val.getBytes();
  val=(BEValue)info.get("length");
  if (val != null) {
    length=val.getLong();
    files=null;
    lengths=null;
  }
 else {
    val=(BEValue)info.get("files");
    if (val == null) {
      throw new InvalidBEncodingException("Missing length number and/or files list");
    }
    List list=val.getList();
    int size=list.size();
    if (size == 0) {
      throw new InvalidBEncodingException("zero size files list");
    }
    files=new ArrayList<List<String>>(size);
    lengths=new ArrayList<Long>(size);
    long l=0;
    for (int i=0; i < list.size(); i++) {
      Map desc=((BEValue)list.get(i)).getMap();
      val=(BEValue)desc.get("length");
      if (val == null) {
        throw new InvalidBEncodingException("Missing length number");
      }
      long len=val.getLong();
      lengths.add(len);
      l+=len;
      val=(BEValue)desc.get("path");
      if (val == null) {
        throw new InvalidBEncodingException("Missing path list");
      }
      List<BEValue> path_list=val.getList();
      int path_length=path_list.size();
      if (path_length == 0) {
        throw new InvalidBEncodingException("zero size file path list");
      }
      List<String> file=new ArrayList<String>(path_length);
      for (      BEValue value : path_list) {
        file.add(value.getString());
      }
      files.add(file);
    }
    length=l;
  }
  info_hash=calculateInfoHash();
}

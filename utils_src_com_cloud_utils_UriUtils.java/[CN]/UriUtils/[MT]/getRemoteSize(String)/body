{
  Long remoteSize=(long)0;
  HttpURLConnection httpConn=null;
  HttpsURLConnection httpsConn=null;
  try {
    URI uri=new URI(url);
    if (uri.getScheme().equalsIgnoreCase("http")) {
      httpConn=(HttpURLConnection)uri.toURL().openConnection();
      remoteSize=Long.parseLong(httpConn.getHeaderField("content-length"));
    }
 else     if (uri.getScheme().equalsIgnoreCase("https")) {
      httpsConn=(HttpsURLConnection)uri.toURL().openConnection();
      remoteSize=Long.parseLong(httpsConn.getHeaderField("content-length"));
    }
  }
 catch (  URISyntaxException e) {
    throw new IllegalArgumentException("Invalid URL " + url);
  }
catch (  IOException e) {
    throw new IllegalArgumentException("Unable to establish connection with URL " + url);
  }
 finally {
    if (httpConn != null) {
      httpConn.disconnect();
    }
 else     if (httpsConn != null) {
      httpsConn.disconnect();
    }
  }
  return remoteSize;
}

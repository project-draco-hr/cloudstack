{
  SearchCriteria<AlertVO> sc=AlertSearchByIdsAndType.create();
  if (Ids != null) {
    sc.setParameters("id",Ids.toArray(new Object[Ids.size()]));
  }
  if (type != null) {
    sc.setParameters("type",type);
  }
  if (zoneId != null) {
    sc.setParameters("data_center_id",zoneId);
  }
  if (olderThan != null) {
    sc.setParameters("createdDateL",olderThan);
  }
  sc.setParameters("archived",false);
  boolean result=true;
  ;
  List<AlertVO> alerts=listBy(sc);
  if (Ids != null && alerts.size() < Ids.size()) {
    result=false;
    return result;
  }
  Transaction txn=Transaction.currentTxn();
  txn.start();
  for (  AlertVO alert : alerts) {
    alert=lockRow(alert.getId(),true);
    alert.setArchived(true);
    update(alert.getId(),alert);
    txn.commit();
  }
  txn.close();
  return result;
}

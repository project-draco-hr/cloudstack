{
  final HttpClientParams hmp=mock(HttpClientParams.class);
  when(client.getParams()).thenReturn(hmp);
  connector=new RESTServiceConnector(null){
    @Override public HttpClient createHttpClient(){
      return client;
    }
    @Override public HttpMethod createMethod(    final String newType,    final String newUri){
      type=newType;
      uri=newUri;
      return method;
    }
  }
;
  connector.validation=new RESTValidationStrategy();
  connector.setAdminCredentials("admin","adminpass");
  connector.setControllerAddress("localhost");
}

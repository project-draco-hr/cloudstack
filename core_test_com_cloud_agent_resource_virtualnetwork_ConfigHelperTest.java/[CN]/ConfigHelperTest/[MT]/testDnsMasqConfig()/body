{
  final DnsMasqConfigCommand command=generateDnsMasqConfigCommand();
  final List<ConfigItem> config=ConfigHelper.generateCommandCfg(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final DhcpConfig jsonClass=gson.fromJson(fileContents,DhcpConfig.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"dhcpconfig");
  final List<DhcpConfigEntry> entries=jsonClass.getEntries();
  assertNotNull(entries);
  assertTrue(entries.size() == 2);
  assertEquals(entries.get(0).getRouterIpAddress(),"10.1.20.2");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

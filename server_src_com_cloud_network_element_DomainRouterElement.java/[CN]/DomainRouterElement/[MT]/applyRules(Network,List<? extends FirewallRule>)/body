{
  DataCenter dc=_dataCenterDao.findById(config.getDataCenterId());
  if (canHandle(config.getGuestType(),dc)) {
    if (rules != null && !rules.isEmpty()) {
      if (rules.get(0).getPurpose() == Purpose.LoadBalancing) {
        return _routerMgr.applyLBRules(config,rules);
      }
 else       if (rules.get(0).getPurpose() == Purpose.PortForwarding) {
        return _routerMgr.applyPortForwardingRules(config,rules);
      }
    }
 else {
      return true;
    }
  }
  return false;
}

{
  if (offering.getGuestIpType() != GuestIpType.Virtualized) {
    s_logger.trace("Not handling guest ip type = " + offering.getGuestIpType());
    return null;
  }
  List<NetworkConfigurationVO> configs=_networkConfigDao.getRelatedNetworkConfigurations(config.getRelated());
  NetworkConfigurationVO publicConfig=null;
  NetworkConfigurationVO guestConfig=null;
  for (  NetworkConfigurationVO c : configs) {
    if (c.getState() != State.Implemented && c.getState() != State.Setup) {
      s_logger.debug("Not all network is ready to be implemented yet.");
      return true;
    }
    if (c.getTrafficType() == TrafficType.Public) {
      publicConfig=c;
    }
 else     if (c.getTrafficType() == TrafficType.Guest) {
      guestConfig=c;
    }
 else {
      if (s_logger.isDebugEnabled()) {
        s_logger.debug("The network configurations are different than what I expected: " + c);
      }
      return null;
    }
  }
  if (publicConfig == null || guestConfig == null) {
    s_logger.debug("Expected to find the network configuration for " + (publicConfig == null ? "public" : "") + (guestConfig == null ? " guest" : ""));
    return null;
  }
  return true;
}

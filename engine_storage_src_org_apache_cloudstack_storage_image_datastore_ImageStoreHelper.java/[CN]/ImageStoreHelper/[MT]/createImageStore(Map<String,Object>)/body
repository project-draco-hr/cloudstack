{
  ImageStoreVO store=imageStoreDao.findByName((String)params.get("name"));
  if (store != null) {
    return store;
  }
  store=new ImageStoreVO();
  store.setName((String)params.get("name"));
  store.setProtocol((String)params.get("protocol"));
  store.setProviderName((String)params.get("providerName"));
  store.setScope((ScopeType)params.get("scope"));
  store.setUuid((String)params.get("uuid"));
  store.setUrl((String)params.get("url"));
  store.setState(ImageStore.State.Disabled);
  store=imageStoreDao.persist(store);
  return store;
}

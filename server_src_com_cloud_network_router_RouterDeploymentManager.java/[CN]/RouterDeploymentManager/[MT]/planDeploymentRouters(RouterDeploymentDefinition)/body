{
  List<DomainRouterVO> routers=null;
  if (routerDeploymentDefinition.getVpc() != null) {
    routers=vpcHelper.getVpcRouters(routerDeploymentDefinition.getVpc().getId());
  }
 else   if (routerDeploymentDefinition.isBasic()) {
    routers=_routerDao.listByNetworkAndPodAndRole(routerDeploymentDefinition.getGuestNetwork().getId(),routerDeploymentDefinition.getPodId(),Role.VIRTUAL_ROUTER);
  }
 else {
    routers=_routerDao.listByNetworkAndRole(routerDeploymentDefinition.getGuestNetwork().getId(),Role.VIRTUAL_ROUTER);
  }
  routerDeploymentDefinition.setRouters(routers);
  routerDeploymentDefinition.planDeployment();
}

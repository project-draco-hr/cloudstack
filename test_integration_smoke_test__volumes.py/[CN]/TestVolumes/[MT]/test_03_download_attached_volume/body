@attr(tags=['advanced', 'advancedns', 'smoke', 'basic', 'selfservice'])
def test_03_download_attached_volume(self):
    'Download a Volume attached to a VM\n        '
    self.debug(('Extract attached Volume ID: %s' % self.volume.id))
    self.virtual_machine.attach_volume(self.apiClient, self.volume)
    self.attached = True
    cmd = extractVolume.extractVolumeCmd()
    cmd.id = self.volume.id
    cmd.mode = 'HTTP_DOWNLOAD'
    cmd.zoneid = self.services['zoneid']
    response = self.apiClient.extractVolume(cmd)
    self.assertEqual(response.errorcode, ERROR_CODE_530, ('Job should                          have failed with error code %s, instead got response                          %s' % (ERROR_CODE_530, str(response))))
    return

{
  assert(vCenterAddress != null);
  assert(vCenterUserName != null);
  assert(vCenterPassword != null);
  VmwareContext context=null;
synchronized (s_contextMap) {
    context=s_contextMap.get(vCenterAddress);
    if (context == null) {
      String serviceUrl="https://" + vCenterAddress + "/sdk/vimService";
      VmwareClient vimClient=new VmwareClient(vCenterAddress + "-" + s_seq++);
      vimClient.connect(serviceUrl,vCenterUserName,vCenterPassword);
      context=new VmwareContext(vimClient,vCenterAddress);
      context.registerStockObject("username",vCenterUserName);
      context.registerStockObject("password",vCenterPassword);
      s_contextMap.put(vCenterAddress,context);
    }
  }
  assert(context != null);
  return context;
}

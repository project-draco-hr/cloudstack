def is_public_ip_in_correct_state(apiclient, ipaddressid, state):
    ' Check if the given IP is in the correct state (given)\n    and return True/False accordingly'
    retriesCount = 10
    while True:
        portableips = PublicIPAddress.list(apiclient, id=ipaddressid)
        assert (validateList(portableips)[0] == PASS), 'IPs list validation failed'
        if (str(portableips[0].state).lower() == state):
            break
        elif (retriesCount == 0):
            return False
        else:
            retriesCount -= 1
            time.sleep(60)
            continue
    return True

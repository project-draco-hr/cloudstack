{
  SearchBuilder<OfferingBundleVO> searchByAmazon=createSearchBuilder();
  searchByAmazon.and("AmazonEC2Offering",searchByAmazon.entity().getAmazonOffering(),SearchCriteria.Op.EQ);
  searchByAmazon.done();
  Transaction txn=Transaction.open(Transaction.AWSAPI_DB);
  try {
    txn.start();
    SearchCriteria<OfferingBundleVO> sc=searchByAmazon.create();
    sc.setParameters("AmazonEC2Offering",amazonEC2Offering);
    return findOneBy(sc).getCloudstackOffering();
  }
  finally {
    txn.commit();
    txn.close();
  }
}

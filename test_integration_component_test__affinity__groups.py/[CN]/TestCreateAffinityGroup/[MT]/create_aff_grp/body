def create_aff_grp(self, api_client=None, aff_grp=None, acc=None, domainid=None):
    if (not api_client):
        api_client = self.api_client
    if (not aff_grp):
        self.services['host_anti_affinity_0']
    if (not acc):
        acc = self.account.name
    if (not domainid):
        domainid = self.domain.id
    try:
        return AffinityGroup.create(api_client, aff_grp, acc, domainid)
    except Exception as e:
        raise Exception(('Error: Creation of Affinity Group failed : %s' % e))

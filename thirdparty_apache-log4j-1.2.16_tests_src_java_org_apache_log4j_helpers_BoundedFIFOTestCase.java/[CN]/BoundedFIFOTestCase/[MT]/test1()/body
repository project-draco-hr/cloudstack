{
  for (int size=1; size <= 128; size*=2) {
    BoundedFIFO bf=new BoundedFIFO(size);
    assertEquals(bf.getMaxSize(),size);
    assertNull(bf.get());
    int i;
    int j;
    int k;
    for (i=1; i < 2 * size; i++) {
      for (j=0; j < i; j++) {
        bf.put(e[j]);
        assertEquals(bf.length(),j < size ? j + 1 : size);
      }
      int max=size < j ? size : j;
      j--;
      for (k=0; k <= j; k++) {
        assertEquals(bf.length(),max - k > 0 ? max - k : 0);
        Object r=bf.get();
        if (k >= size)         assertNull(r);
 else         assertEquals(r,e[k]);
      }
    }
  }
}

{
  if (fileNamePattern == null) {
    errorHandler.error("Missing file pattern (" + FILE_NAME_PATTERN_OPTION + ") in setFile().");
    return;
  }
  Date now=new Date();
  fileName=new SimpleDateFormat(fileNamePattern).format(now);
  if (fileName.equals(currentFileName))   return;
  DailyFileAppenderCalendar c=new DailyFileAppenderCalendar();
  c.rollToNextDay();
  nextFilenameComputingMillis=c.getTimeInMillis();
  currentFileName=fileName;
  super.setFile(fileName,append);
}
